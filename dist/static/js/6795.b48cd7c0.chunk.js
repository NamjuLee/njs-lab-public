"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[6795],{55378:function(e,t,n){n.r(t),n.d(t,{NUI:function(){return S}});var i=n(15671),o=n(43144),r=n(74165),a=n(15861),s=n(98732),h=n(93146),u=n(70294),c=n(10117),l=n(22412),v=n(95862),d=n(4008),f=n(89444),y=function(){function e(){(0,i.Z)(this,e),this.themeRed=void 0,this.themePurple=void 0,this.themeBlue=void 0,this.themeGreen=void 0,this.themeOrange=void 0,this.themeGray=void 0,this.themeDarkgray=void 0,this.themeBlack=void 0,this.ImportAssets()}return(0,o.Z)(e,[{key:"ImportAssets",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.themeRed=s,this.themePurple=h,this.themeBlue=u,this.themeGreen=c,this.themeOrange=l,this.themeGray=v,this.themeDarkgray=d,this.themeBlack=f;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),x=n(97326),p=n(60136),g=n(29388),m=n(20028),M=function(){function e(t){(0,i.Z)(this,e),this.list=[],this.isShow=!1,this.isStillCapturedFly=!0,this.independentPanelWrapper=void 0,this.isHidden=!1,this.capture=void 0,this.independentPanelWrapper=t}return(0,o.Z)(e,[{key:"IsHidden",get:function(){return this.isHidden},set:function(e){this.isHidden=e}},{key:"RemoveAllCapturedBlock",value:function(){void 0!==this.capture&&this.capture.Remove()}},{key:"CheckOvered",value:function(e){for(var t=this.list.length;t--;)this.list[t].isHidden||(this.list[t].IsMouseInside(e.x,e.y)?(this.list[t].IsHover=!0,!0):this.list[t].IsHover=!1)}},{key:"FindAtPoint",value:function(e){for(var t=this.list.length;t--;)if(!this.list[t].isHidden&&this.list[t].IsMouseInside(e.x,e.y))return this.list[t]}},{key:"MouseDown",value:function(e){if(!this.isHidden){var t=this.FindAtPoint(e);void 0!==t?(this.independentPanelWrapper.enablePan=!1,t.MouseDown(),this.capture=t):this.capture=void 0}}},{key:"MouseRight",value:function(e){if(!this.isHidden){var t=this.FindAtPoint(e);void 0!==t?(this.independentPanelWrapper.enablePan=!1,t.MouseRight(e),this.capture=t):this.capture=void 0}}},{key:"MouseDrag",value:function(e){this.isHidden||void 0!==this.capture&&this.capture.MouseDrag(e)}},{key:"MouseDouble",value:function(e){if(!this.isHidden){var t=this.FindAtPoint(e);void 0!==t&&(this.independentPanelWrapper.enablePan=!1,t.MouseDouble(e))}}},{key:"MouseMove",value:function(e){this.isHidden||(this.CheckOvered(e),this.FindAtPoint(e))}},{key:"MouseUp",value:function(e){this.isHidden||(void 0!==this.capture&&this.capture.MouseUp(e),this.independentPanelWrapper.enablePan=!0)}},{key:"Render",value:function(e){if(!this.isHidden)for(var t=0;t<this.list.length;++t)this.list[t].Render(e)}},{key:"Add",value:function(e){this.list.push(e)}},{key:"Remove",value:function(e){this.list.splice(this.list.indexOf(e),1)}},{key:"RemoveAll",value:function(){this.list=[]}},{key:"ShowMenu",value:function(e){this.isShow=e}},{key:"Reset",value:function(){for(var e=0;e<this.list.length;++e)this.list[e].IsHover=!1}}]),e}(),k=function(){function e(){(0,i.Z)(this,e),this.vec=void 0,this.width=0,this.height=0,this.nUI=void 0,this.isHidden=void 0,this.isActivated=!1,this.isHidden=!0}return(0,o.Z)(e,[{key:"Resize",value:function(e,t){this.width=e}},{key:"IsHiddenToggle",value:function(){this.isHidden=!this.isHidden}},{key:"MouseMove",value:function(e){}},{key:"MouseDown",value:function(e){}},{key:"RenderPost",value:function(e){}},{key:"Reset",value:function(){}},{key:"ShowMenu",value:function(e){}},{key:"Destroy",value:function(){}}]),e}(),E=n(16795),I=n(48224),N=n(55798),R=n(81106),w=n(70490),A=n(23209),O=n(95706),P=n(68520),T=n(11675),C=n(72924),b=function(e){(0,p.Z)(n,e);var t=(0,g.Z)(n);function n(e){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:170,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,i.Z)(this,n),(o=t.call(this,e)).independentPanelWrapper=void 0,o.divInput=void 0,o.btnClose=void 0,o.btnMini=void 0,o.btnHam=void 0,o.btnResize=void 0,o.bodyDiv=void 0,o.subMenu=void 0,o.subs=[],o._content=void 0,o.independentPanelWrapper=e,o.title="njslabSandbox V3",o.width=s,o.height=h,0===r&&0===a?(o.vec.x=.5*e.width-.5*o.width,o.vec.y=.5*e.height-.5*o.height):(o.vec.x=r,o.vec.y=a),o.filletR=7,o.InitTop(),u&&(o.bodyDiv=new T.k((0,x.Z)(o),o.vec.x,o.vec.y+o.HeadHeight,o.width,o.height-o.HeadHeight)),o}return(0,o.Z)(n,[{key:"IsMinimized",get:function(){return this.isMinimized},set:function(e){this.isMinimized=e,this.btnResize.isHidden=e,this.bodyDiv&&this.bodyDiv.Hide(e)}},{key:"Width",get:function(){return this.width},set:function(e){var t=e-this.width;this.width=e,this.btnHam.vec.x+=t,this.subMenu.vec.x+=t,this.bodyDiv&&(this.bodyDiv.Width=e)}},{key:"Height",get:function(){return this.height},set:function(e){this.height=e,this.bodyDiv&&(this.bodyDiv.Height=e)}},{key:"content",get:function(){return this._content},set:function(e){this._content=e,this.bodyDiv&&(this.bodyDiv.content=e)}},{key:"HasSubMenu",get:function(){return this.hasSubMenu},set:function(e){this.hasSubMenu=e,this.subMenu.IsHidden=!e}},{key:"InitTop",value:function(){this.btnClose=new w.E(this,this.vec.x,this.vec.y),this.btnMini=new A.$(this,this.vec.x+25,this.vec.y),this.btnHam=new O.g(this,this.vec.x-25+this.width,this.vec.y),this.btnResize=new P.C(this,this.vec.x+this.width-10,this.vec.y+this.height-10,10,10),this.subMenu=new C.q(this),this.subs.push(this.btnClose,this.btnMini,this.btnHam)}},{key:"Translate",value:function(e){if(this.isMoveable){var t=e.x-e.preX,n=e.y-e.preY;this.vec.x+=t,this.vec.y+=n;for(var i=0;i<this.boundarVecs.length;++i)this.boundarVecs[i].x+=t,this.boundarVecs[i].y+=n;for(var o=0;o<this.subs.length;++o)this.subs[o].Translate(e);this.btnResize.vec.x+=t,this.btnResize.vec.y+=n,this.subMenu.Translate(t,n),this.bodyDiv&&this.bodyDiv.Translate(t,n)}}},{key:"Remove",value:function(){for(var e=0;e<this.subs.length;++e)this.subs[e].Remove();this.bodyDiv&&this.bodyDiv.Remove(),this.btnResize.Remove(),this.independentPanelWrapper.indePanelRender.Remove(this),this.RemovePost()}},{key:"RenderPost",value:function(e){var t;this.ComputeBoundary(),t=I.mK.HexToCanvasColor(N.X.theme.mainMenuNormal,this.transparent),this.isMinimized||N.X.RoundedRectFillWithColorMainMenu(e,this.title,this.boundarVecs,this.filletR,0,this.isOver,this.isSelected,t),N.X.TopRoundedRectFill(e,this.title,E.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.HeadHeight),this.filletR,0,this.isOver,this.isSelected,this.theme.colSelectedBG,!1),this.RenderHeadTitle(e),this.isMinimized||this.RenderBodyContent(e),this.hasSubMenu&&this.subMenu.RenderPost(e),this.RenderBtnHorizontal(e)}},{key:"RenderBtnHorizontal",value:function(e){}},{key:"RenderHeadTitle",value:function(e){e.save(),e.fillStyle="#ffffff",e.textBaseline="top",e.textAlign="center",e.font="100 12px Arial",e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.fillText(this.title,this.vec.x+.5*this.width,this.vec.y+.5*this.HeadHeight-7),e.restore()}},{key:"RenderBodyContent",value:function(e){}}]),n}(R.J),L=function(){function e(t){(0,i.Z)(this,e),this.independentPanel=void 0,this.independentPanel=t}return(0,o.Z)(e,[{key:"AboutWhatisTheProduct",value:function(){var e=new b(this.independentPanel,0,0,450,300,!0);e.title="What is this Product?",e.content="Before you read this document, we would like to point out something behind it,\n                     which is our motivation and mission. The mission is to think about how to bridge and\n                     encourage people, who have no idea about data and visualization, to use and create map with GIS data activly.",e.btnHam.isHidden=!0}},{key:"AboutApps",value:function(){var e=new b(this.independentPanel,0,0,450,300,!0);e.title="About Apps",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutViewer",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Viewer App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutDrawingTool",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Drawing Tool App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutAnnotation",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Annotation Tool App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutNSketch",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="NSketch App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutMapfilter",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Mapfilter App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutWallPaperGL",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="WallPaperGL App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutNLearning",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="NLearning App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutSmartDrawing",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Smart Drawing Addon",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutVoiceController",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Voice Controller",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutMapticon",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Mapticon Addon",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutBlock",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Drawing Block App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutNGlobe",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="NGlobe",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutNTerrain",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="NTerrain",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"ABoutNDynamics",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="NDynamics",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"ABoutNRhino3d",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="NRhino3d",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutVisCanvas",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Visualization Canvas App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutVisGL",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Visualization GL App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutVisGL3D",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="Visualization GL3D App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutVRAR",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="GraphicApp VR & AR App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutGL3d",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="GraphicApp GL3d App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutNImage",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="GraphicApp NImage App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutNWallpaper",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="GraphicApp NWallpaper App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}},{key:"AboutNMedia",value:function(){var e=new b(this.independentPanel,0,0,300,170,!0);e.title="NMedia & NController",e.content="These apps are addons in njslabSandbox. NMedia is enable to us to access multimedia dvices like camera or voice, and NController provides with abilities to take advantage of extra dvices: HTC Vive, Leap Motion, or Kinect.",e.btnHam.isHidden=!0}}]),e}(),_=function(e){(0,p.Z)(n,e);var t=(0,g.Z)(n);function n(e){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,i.Z)(this,n),(o=t.call(this)).menuOff=10,o.textOffX=12,o.textOffY=10,o.nUI=void 0,o.theme=void 0,o.m=void 0,o.indePanelRender=void 0,o.isActivated=!1,o.activeCommand=void 0,o.nUI=e,o.theme=o.nUI.theme,o.width=s,o.height=h,o.vec=new m.h(r,a),o.textOffY=o.theme.textYOff,o.m=new m.h(0,0),o.indePanelRender=new M((0,x.Z)(o)),o.Init(),o}return(0,o.Z)(n,[{key:"Init",value:function(){this.activeCommand=new L(this)}},{key:"Resize",value:function(e,t){}},{key:"RenderPost",value:function(e){}},{key:"MouseMove",value:function(e){this.m.x=e.x,this.m.y=e.y,this.indePanelRender.MouseMove(e)}},{key:"MouseDrag",value:function(e){this.indePanelRender.MouseDrag(e)}},{key:"MouseDown",value:function(e){this.indePanelRender.MouseDown(e)}},{key:"Reset",value:function(){this.indePanelRender.Reset()}},{key:"ShowMenu",value:function(e){this.indePanelRender.ShowMenu(e)}},{key:"Destroy",value:function(){this.indePanelRender.RemoveAll()}},{key:"stopPropagation",set:function(e){this.nUI.stopPropagation=e}},{key:"enablePan",set:function(e){this.nUI.enablePan=e}}]),n}(k),S=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,i.Z)(this,e),this.asset=void 0,this.theme=void 0,this.themeType="default",this.activeCommand=void 0,this.independentPanelWrapper=void 0,this.pullDownMenuWrapper=void 0,this.divHost=void 0,this.width=void 0,this.height=void 0,this.indepCanvas=void 0,this.pullDownCanvas=void 0,this._stopPropagation=!1,this.divHost=t,this.width=this.divHost.clientWidth,this.height=this.divHost.clientHeight,console.log(n),this.init(n)}return(0,o.Z)(e,[{key:"init",value:function(e){this.asset=new y,this.independentPanelWrapper=new _(this,0,0,this.width,this.height)}},{key:"ShiftTheme",value:function(e){return"red"===e?(this.theme.ShiftTheme(this.asset.themeRed),void(this.themeType="red")):"blue"===e?(this.theme.ShiftTheme(this.asset.themeBlue),void(this.themeType="blue")):"purple"===e?(this.theme.ShiftTheme(this.asset.themePurple),void(this.themeType="purple")):"green"===e?(this.theme.ShiftTheme(this.asset.themeGreen),void(this.themeType="green")):"orange"===e?(this.theme.ShiftTheme(this.asset.themeOrange),void(this.themeType="orange")):"gray"===e?(this.theme.ShiftTheme(this.asset.themeGray),void(this.themeType="gray")):"darkGray"===e?(this.theme.ShiftTheme(this.asset.themeDarkgray),void(this.themeType="darkGray")):"black"===e?(this.theme.ShiftTheme(this.asset.themeBlack),void(this.themeType="black")):void 0}},{key:"MouseInteractionMenu",value:function(e){this.activeCommand.MouseEventController(e)}},{key:"Resize",value:function(e,t){this.indepCanvas.ResizeCanvas(e,t),this.independentPanelWrapper.Resize(e,t),this.pullDownCanvas.ResizeCanvas(e,t),this.pullDownMenuWrapper.Resize(e,t)}},{key:"stopPropagation",get:function(){return this._stopPropagation},set:function(e){var t=this;this._stopPropagation=e,e&&(this.BindingStoppropagation(e),setTimeout((function(){t._stopPropagation=!1,t.BindingStoppropagation(!1)}),500))}},{key:"BindingStoppropagation",value:function(e){}},{key:"enablePan",set:function(e){this.BindingEnablePan(e)}},{key:"BindingEnablePan",value:function(e){}},{key:"BindingActiveCommandController",value:function(e,t){this.pullDownMenuWrapper.BuildMenuContent(e,t)}},{key:"Destroy",value:function(){this.indepCanvas.isActive=!1,this.pullDownCanvas.isActive=!1}}]),e}()},55798:function(e,t,n){n.d(t,{X:function(){return r}});var i=n(15671),o=n(43144),r=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"RoundedRectFill",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ffffff",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000000",a=n;e.lineWidth=1,e.beginPath(),e.moveTo(t[0].x+i+a,t[0].y),e.lineTo(t[1].x-i-a,t[1].y),e.arcTo(t[1].x-i,t[1].y,t[1].x-i,t[1].y+a,a),e.lineTo(t[2].x-i,t[2].y-a),e.arcTo(t[2].x-i,t[2].y,t[2].x-i-a,t[2].y,a),e.lineTo(t[3].x+i+a,t[3].y),e.arcTo(t[3].x+i,t[3].y,t[3].x+i,t[3].y-a,a),e.lineTo(t[0].x+i,t[0].y+a),e.arcTo(t[0].x+i,t[0].y,t[0].x+i+a,t[0].y,a),e.closePath(),e.strokeStyle=r,e.fillStyle=o,e.shadowBlur=4,e.shadowColor="rgb(0,0,0,0.3)",e.shadowOffsetY=2,e.shadowOffsetX=2,e.fill()}},{key:"RoundedRectFillRForEach",value:function(e,t,n,i,o,r){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"#ffffff",h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"#000000",u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],c=n,l=i,v=o,d=r;e.lineWidth=1,e.beginPath(),e.moveTo(t[0].x+a+c,t[0].y),e.lineTo(t[1].x-a-l,t[1].y),e.arcTo(t[1].x-a,t[1].y,t[1].x-a,t[1].y+l,l),e.lineTo(t[2].x-a,t[2].y-l),e.arcTo(t[2].x-a,t[2].y,t[2].x-a-v,t[2].y,v),e.lineTo(t[3].x+a+v,t[3].y),e.arcTo(t[3].x+a,t[3].y,t[3].x+a,t[3].y-d,d),e.lineTo(t[0].x+a,t[0].y+d),e.arcTo(t[0].x+a,t[0].y,t[0].x+a+c,t[0].y,c),e.closePath(),e.strokeStyle=h,e.fillStyle=s,u?(e.shadowBlur=4,e.shadowColor="rgb(0,0,0,0.3)",e.shadowOffsetY=2,e.shadowOffsetX=2):(e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0),e.fill()}},{key:"Text",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"white";e.save(),e.fillStyle=o,e.textBaseline="bottom",e.textAlign="left",e.fillText(i,t,n-14),e.fill(),e.restore()}},{key:"RoundedRectFillWithColorMainMenu",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>7?arguments[7]:void 0,a=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],s=i,h=r;e.save(),e.lineWidth=2,e.beginPath(),e.moveTo(n[0].x+o+s,n[0].y),e.lineTo(n[1].x-o-s,n[1].y),e.arcTo(n[1].x-o,n[1].y,n[1].x-o,n[1].y+s,s),e.lineTo(n[2].x-o,n[2].y-s),e.arcTo(n[2].x-o,n[2].y,n[2].x-o-s,n[2].y,s),e.lineTo(n[3].x+o+s,n[3].y),e.arcTo(n[3].x+o,n[3].y,n[3].x+o,n[3].y-s,s),e.lineTo(n[0].x+o,n[0].y+s),e.arcTo(n[0].x+o,n[0].y,n[0].x+o+s,n[0].y,s),e.closePath(),e.strokeStyle=h,e.fillStyle=h,a?(e.shadowBlur=7,e.shadowColor="rgb(0,0,0,0.5)",e.shadowOffsetY=1.5,e.shadowOffsetX=1.5):(e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0),e.fill(),e.restore()}},{key:"TopRoundedRectFill",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>7?arguments[7]:void 0,a=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],s=i,h=r;e.save(),e.lineWidth=2,e.beginPath(),e.moveTo(n[0].x+o+s,n[0].y),e.lineTo(n[1].x-o-s,n[1].y),e.arcTo(n[1].x-o,n[1].y,n[1].x-o,n[1].y+s,s),e.lineTo(n[2].x-o,n[2].y),e.lineTo(n[3].x+o,n[3].y),e.lineTo(n[0].x+o,n[0].y+s),e.arcTo(n[0].x+o,n[0].y,n[0].x+o+s,n[0].y,s),e.closePath(),e.strokeStyle=h,e.fillStyle=h,a?(e.shadowBlur=4,e.shadowColor="rgb(0,0,0,0.3)",e.shadowOffsetY=2,e.shadowOffsetX=2):(e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0),e.fill(),e.restore()}}]),e}();r.theme={mainMenuNormal:"#ffffff",mainMenuOver:"#0FAAEA"}},11675:function(e,t,n){n.d(t,{k:function(){return a}});var i=n(15671),o=n(43144),r=n(16795),a=function(){function e(t,n,o,a,s){(0,i.Z)(this,e),this.host=void 0,this.vec=void 0,this.divAnchor=void 0,this.div=void 0,this.divHost=void 0,this.width=void 0,this.height=void 0,this.xOff0=5,this.yOff0=5,this.xOff1=25,this.yOff1=25,this._textAlign="left",this._textCol=void 0,this._content=void 0,this.host=t,this.vec=new r.h9(n,o),this.width=a,this.height=s,this.divHost=this.host.independentPanelWrapper.nUI.divHost,this.GetDivBaseContainer(),this.textAlign="left"}return(0,o.Z)(e,[{key:"textCol",set:function(e){this._textCol=e,this.div.style.color=this._textCol}},{key:"textAlign",set:function(e){this._textAlign=e,this.div.style.textAlign=this._textAlign}},{key:"Width",get:function(){return this.width},set:function(e){this.width=e,this.UpdateSize()}},{key:"Height",get:function(){return this.height},set:function(e){this.height=e,this.UpdateSize()}},{key:"content",get:function(){return this._content},set:function(e){this._content=e,this.div.textContent=e}},{key:"Hide",value:function(e){e?this.Remove():this.GetDivBaseContainer()}},{key:"Translate",value:function(e,t){this.vec.x+=e,this.vec.y+=t,this.div.style.left=this.vec.x+this.xOff0+"px",this.div.style.top=this.vec.y+this.yOff0+"px"}},{key:"UpdateSize",value:function(){this.div.style.width=this.width-this.xOff1+"px",this.div.style.height=this.height-this.host.HeadHeight-this.yOff1+"px"}},{key:"Remove",value:function(){this.divHost.removeChild(this.div)}},{key:"GetDivBaseContainer",value:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.pointerEvents="none",e.id="indePanel",e.style.height=this.height-this.yOff1+"px",e.style.width=this.width-this.xOff1+"px",e.style.left=this.vec.x+this.xOff0+"px",e.style.top=this.vec.y+this.yOff0+"px",e.style.zIndex="10",e.style.padding="6px",e.style.paddingLeft="6px",e.style.wordWrap="break-word",e.style.overflow="hidden",e.textContent=this._content,e.style.font="13px Arial",e.style.fontWeight="lighter",e.style.lineHeight="23px",e.style.textAlign=this._textAlign,e.style.color=this.textCol,this.divHost.appendChild(e),this.div=e,e}}],[{key:"GetZIndex",value:function(){return(e.zIndex--).toString()}}]),e}();a.zIndex=9999},70490:function(e,t,n){n.d(t,{E:function(){return h}});var i=n(15671),o=n(43144),r=n(60136),a=n(29388),s=n(16795),h=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,o,r){var a;return(0,i.Z)(this,n),(a=t.call(this,e.independentPanelWrapper)).host=void 0,a.title="X",a.vec=new s.h9(o,r),a.host=e,a.width=e.HeadHeight,a.height=e.HeadHeight,a}return(0,o.Z)(n,[{key:"MouseDown",value:function(){this.independentPanelWrapper.stopPropagation=!0,this.host.Remove()}},{key:"RenderPost",value:function(e){this.RenderTitle(e)}},{key:"RenderTitle",value:function(e){e.save(),this.isOver?e.fillStyle="black":e.fillStyle="white",e.textBaseline="top",e.textAlign="center",e.font="300 17px Sans-serif",e.fillText(this.title,this.vec.x+.5*this.width-3,this.vec.y+.5*this.height-8),e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.restore()}}]),n}(n(81106).J)},95706:function(e,t,n){n.d(t,{g:function(){return h}});var i=n(15671),o=n(43144),r=n(60136),a=n(29388),s=n(16795),h=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,o,r){var a;return(0,i.Z)(this,n),(a=t.call(this,e.independentPanelWrapper)).host=void 0,a.title="-",a.vec=new s.h9(o,r),a.host=e,a.width=20,a.height=20,a}return(0,o.Z)(n,[{key:"MouseDown",value:function(){this.independentPanelWrapper.stopPropagation=!0,this.host.HasSubMenu=!this.host.HasSubMenu}},{key:"MouseDrag",value:function(e){}},{key:"Move",value:function(e,t){}},{key:"RenderPost",value:function(e){e.save(),this.isOver?e.strokeStyle="black":e.strokeStyle="white",e.beginPath(),e.lineWidth=2;var t=.5*this.host.HeadHeight;e.moveTo(this.vec.x,this.vec.y+t-5),e.lineTo(this.vec.x+10,this.vec.y+t-5),e.moveTo(this.vec.x,this.vec.y+t),e.lineTo(this.vec.x+10,this.vec.y+t),e.moveTo(this.vec.x,this.vec.y+t+5),e.lineTo(this.vec.x+10,this.vec.y+t+5),e.closePath(),e.stroke(),e.restore()}}]),n}(n(81106).J)},23209:function(e,t,n){n.d(t,{$:function(){return h}});var i=n(15671),o=n(43144),r=n(60136),a=n(29388),s=n(16795),h=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,o,r){var a;return(0,i.Z)(this,n),(a=t.call(this,e.independentPanelWrapper)).host=void 0,a.title="-",a.vec=new s.h9(o,r),a.host=e,a.width=20,a.height=20,a}return(0,o.Z)(n,[{key:"MouseDown",value:function(){this.independentPanelWrapper.stopPropagation=!0,this.host.IsMinimized=!this.host.IsMinimized}},{key:"MouseDrag",value:function(e){}},{key:"Move",value:function(e,t){}},{key:"RenderPost",value:function(e){e.save(),this.isOver?e.strokeStyle="black":e.strokeStyle="white",e.beginPath(),e.lineWidth=2,this.host.isMinimized?e.rect(this.vec.x,this.vec.y+.5*this.host.HeadHeight-5,10,10):(e.moveTo(this.vec.x,this.vec.y+.5*this.host.HeadHeight),e.lineTo(this.vec.x+10,this.vec.y+.5*this.host.HeadHeight)),e.closePath(),e.stroke(),e.restore()}}]),n}(n(81106).J)},68520:function(e,t,n){n.d(t,{C:function(){return h}});var i=n(15671),o=n(43144),r=n(60136),a=n(29388),s=n(16795),h=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,o,r,a,h){var u;return(0,i.Z)(this,n),(u=t.call(this,e.independentPanelWrapper)).host=void 0,u.title="/",u.vec=new s.h9(o,r),u.host=e,u.width=a,u.height=h,u}return(0,o.Z)(n,[{key:"MouseDown",value:function(){this.independentPanelWrapper.stopPropagation=!0}},{key:"Translate",value:function(e){if(this.isMoveable){var t=e.x-e.preX,n=e.y-e.preY,i=this.host.width+t,o=this.host.height+n;i<this.host.minWidth&&(t=0),o<this.host.minHeight&&(n=0),this.host.Width+=t,this.host.Height+=n,this.ResizePropagation(this.host.Width,this.host.Height),this.vec.x+=t,this.vec.y+=n;for(var r=0;r<this.boundarVecs.length;++r)this.boundarVecs[r].x+=t,this.boundarVecs[r].y+=n}}},{key:"ResizePropagation",value:function(e,t){}},{key:"RenderPost",value:function(e){this.isHidden||(e.save(),this.isOver?e.strokeStyle="black":e.strokeStyle="gray",e.beginPath(),e.moveTo(this.vec.x+this.width-5,this.vec.y),e.lineTo(this.vec.x,this.vec.y+this.height-5),e.stroke(),e.restore())}}]),n}(n(81106).J)},72924:function(e,t,n){n.d(t,{q:function(){return c}});var i=n(15671),o=n(43144),r=n(16795),a=n(55798),s=n(60136),h=n(29388),u=function(e){(0,s.Z)(n,e);var t=(0,h.Z)(n);function n(e,o,a){var s;return(0,i.Z)(this,n),(s=t.call(this,e.independentPanel.independentPanelWrapper)).list=[],s.indeSubPanel=void 0,s.width=void 0,s.height=void 0,s.vec=void 0,s.strings=void 0,s.stringSlice=void 0,s.index=0,s.indeSubPanel=e,s.index=o,s.width=s.indeSubPanel.width-10,s.height=s.indeSubPanel.textHeight,s.title=a,s.stringSlice=a,s.vec=new r.h9(s.indeSubPanel.vec.x+5,s.indeSubPanel.vec.y+5+s.index*s.height),s.isMoveable=!1,s.isHidden=!0,s}return(0,o.Z)(n,[{key:"Translate",value:function(e){this.isMoveable}},{key:"TranslateByXY",value:function(e,t){this.vec.x+=e,this.vec.y+=t}},{key:"MouseDown",value:function(){this.independentPanelWrapper.stopPropagation=!0,this.indeSubPanel.independentPanel.divInput&&(this.indeSubPanel.independentPanel.divInput.value=this.title),this.BindingMouseDownPost(this.title)}},{key:"BindingMouseDownPost",value:function(e){this.indeSubPanel.independentPanel.ExecuteCommand(e)}},{key:"RenderPost",value:function(e){if(this.vec.x=this.indeSubPanel.vec.x+5,this.vec.y=this.indeSubPanel.vec.y+5+this.index*this.height,!this.isHidden){if(this.IsHover){var t=this.theme.colBG;a.X.RoundedRectFill(e,r.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.height),3,0,t)}this.IsHover?e.fillStyle=this.theme.colSelectedBG:e.fillStyle="#ffffff",e.textBaseline="middle",e.textAlign="left",e.font="lighter 11px Arial",e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,this.strings=this.FragmentText(e,this.title.slice(0,25),this.width-5),e.fillText(this.strings[0],this.vec.x+2,this.vec.y+.5*this.HeadHeight-2)}}},{key:"FragmentText",value:function(e,t,n){var i=t.split(" "),o=[],r="";if(e.measureText(t).width<n)return[t];for(;i.length>0;){for(var a=!1;e.measureText(i[0]).width>=n;){var s=i[0];i[0]=s.slice(0,-1),a?i[1]=s.slice(-1)+i[1]:(a=!0,i.splice(1,0,s.slice(-1)))}e.measureText(r+i[0]).width<n?r+=i.shift()+" ":(o.push(r),r=""),0===i.length&&o.push(r)}return o}}]),n}(n(81106).J),c=function(){function e(t){(0,i.Z)(this,e),this.list=[],this.independentPanel=void 0,this.width=void 0,this.height=void 0,this.textHeight=20,this.vec=void 0,this.xOff=-5,this.yOff=10,this.isHidden=!0,this.theme=void 0,this.independentPanel=t,this.theme=this.independentPanel.theme,this.vec=new r.h9(this.independentPanel.vec.x+this.independentPanel.width+this.xOff,this.independentPanel.vec.y+this.yOff),this.width=150,this.height=100}return(0,o.Z)(e,[{key:"Add",value:function(e){this.list.push(new u(this,this.list.length,e))}},{key:"IsHidden",get:function(){return this.isHidden},set:function(e){this.isHidden=e;for(var t=0;t<this.list.length;++t)this.list[t].IsHidden=e}},{key:"Remove",value:function(){for(var e=0;e<this.list.length;++e)this.list[e].Remove()}},{key:"Translate",value:function(e,t){this.vec.x+=e,this.vec.y+=t;for(var n=0;n<this.list.length;++n)this.list[n].TranslateByXY(e,t)}},{key:"RenderPost",value:function(e){if(!this.isHidden){this.height=this.list.length*this.textHeight+10;var t=this.independentPanel.theme.colSelectedBG;a.X.RoundedRectFill(e,r.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.height),3,0,t);for(var n=0;n<this.list.length;++n)this.list[n].RenderPost(e)}}}]),e}()},81106:function(e,t,n){n.d(t,{J:function(){return a}});var i=n(15671),o=n(43144),r=n(16795),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;(0,i.Z)(this,e),this.independentPanelWrapper=void 0,this.value=void 0,this.vec=void 0,this.boundarVecs=void 0,this.isHidden=void 0,this.div=void 0,this.height=void 0,this.width=void 0,this.minHeight=100,this.minWidth=200,this.HeadHeight=25,this.divID=void 0,this.xOff=void 0,this.yOff=void 0,this.isMinimized=!1,this.hasSubMenu=!1,this.isSelected=void 0,this.isOver=void 0,this.isMoveable=void 0,this.style=void 0,this.filletR=void 0,this.title=void 0,this.colorBase=void 0,this.colorOver=void 0,this.colorText=void 0,this.isRender=void 0,this.transparent=void 0,this.theme=void 0,this.colorTop=void 0,this.independentPanelWrapper=t,this.independentPanelWrapper.indePanelRender.Add(this),this.theme=t.theme,this.width=n,this.height=o,this.xOff=10,this.yOff=50,this.isHidden=!1,this.isSelected=!1,this.isOver=!1,this.isMoveable=!0,this.style=0,this.filletR=3,this.isRender=!0,this.vec=new r.h9(100,100,0),this.title="Drawing Block",this.boundarVecs=[],this.transparent=1}return(0,o.Z)(e,[{key:"setTopColorTheme",value:function(e){"red"!==e?"blue"!==e?"purple"!==e?"green"!==e?"orange"!==e?"gray"!==e?"darkGray"!==e?"black"!==e||(this.colorTop=this.independentPanelWrapper.nUI.asset.themeBlack.colSelectedBG):this.colorTop=this.independentPanelWrapper.nUI.asset.themeDarkgray.colSelectedBG:this.colorTop=this.independentPanelWrapper.nUI.asset.themeGray.colSelectedBG:this.colorTop=this.independentPanelWrapper.nUI.asset.themeOrange.colSelectedBG:this.colorTop=this.independentPanelWrapper.nUI.asset.themeGreen.colSelectedBG:this.colorTop=this.independentPanelWrapper.nUI.asset.themePurple.colSelectedBG:this.colorTop=this.independentPanelWrapper.nUI.asset.themeBlue.colSelectedBG:this.colorTop=this.independentPanelWrapper.nUI.asset.themeRed.colSelectedBG}},{key:"Remove",value:function(){this.RemovePost(),this.independentPanelWrapper.indePanelRender.Remove(this)}},{key:"RemovePost",value:function(){}},{key:"DeepCopy",value:function(){}},{key:"Dummy",value:function(){}},{key:"IsHidden",get:function(){return this.isHidden},set:function(e){this.isHidden=e}},{key:"IsHover",get:function(){return this.isOver},set:function(e){this.isOver=e}},{key:"IsMinimized",get:function(){return this.isMinimized},set:function(e){this.isMinimized=e}},{key:"HasSubMenu",get:function(){return this.hasSubMenu},set:function(e){this.hasSubMenu=e}},{key:"IsSelected",get:function(){return this.isSelected},set:function(e){this.isSelected=e}},{key:"Width",get:function(){return this.width},set:function(e){this.width=e}},{key:"Height",get:function(){return this.height},set:function(e){this.height=e}},{key:"GetBoundaryVecs",value:function(){var e=.5*this.height,t=.5*this.width,n=new r.h9(this.vec.x-t,this.vec.y-e),i=new r.h9(this.vec.x+t,this.vec.y+e);return this.boundarVecs=r.h9.GetBoundingVecs(n,i),this.boundarVecs}},{key:"ComputeBoundary",value:function(){return this.boundarVecs=[],this.boundarVecs.push(new r.h9(this.vec.x,this.vec.y,this.vec.z)),this.boundarVecs.push(new r.h9(this.vec.x+this.width,this.vec.y,this.vec.z)),this.boundarVecs.push(new r.h9(this.vec.x+this.width,this.vec.y+this.height,this.vec.z)),this.boundarVecs.push(new r.h9(this.vec.x,this.vec.y+this.height,this.vec.z)),this.boundarVecs}},{key:"ComputeBoundaryHead",value:function(){return this.boundarVecs=[],this.boundarVecs.push(new r.h9(this.vec.x,this.vec.y,this.vec.z)),this.boundarVecs.push(new r.h9(this.vec.x+this.width,this.vec.y,this.vec.z)),this.boundarVecs.push(new r.h9(this.vec.x+this.width,this.vec.y+this.HeadHeight,this.vec.z)),this.boundarVecs.push(new r.h9(this.vec.x,this.vec.y+this.HeadHeight,this.vec.z)),this.boundarVecs}},{key:"ComputeBoundaryPanel",value:function(){return this.boundarVecs=[],this.boundarVecs.push(new r.h9(this.vec.x,this.vec.y+this.HeadHeight,this.vec.z)),this.boundarVecs.push(new r.h9(this.vec.x+this.width,this.vec.y+this.HeadHeight,this.vec.z)),this.boundarVecs.push(new r.h9(this.vec.x+this.width-15,this.vec.y+this.height-15,this.vec.z)),this.boundarVecs.push(new r.h9(this.vec.x,this.vec.y+this.height,this.vec.z)),this.boundarVecs}},{key:"IsMouseInside",value:function(e,t){var n=r.h9.IsInsideOfVecs(new r.h9(e,t),this.ComputeBoundaryHead());return this.isOver=n,n}},{key:"IsMouseInsidePanel",value:function(e,t){return r.h9.IsInsideOfVecs(new r.h9(e,t),this.ComputeBoundaryPanel())}},{key:"Translate",value:function(e){if(this.isMoveable){var t=e.x-e.preX,n=e.y-e.preY;this.vec.x+=t,this.vec.y+=n;for(var i=0;i<this.boundarVecs.length;++i)this.boundarVecs[i].x+=t,this.boundarVecs[i].y+=n}}},{key:"Move",value:function(e,t){this.vec.x=e,this.vec.y=t}},{key:"HideToogle",value:function(){this.IsHidden=!this.IsHidden,this.Hide()}},{key:"ExecuteCommand",value:function(e){console.log(e+"binding needed")}},{key:"Hide",value:function(){}},{key:"MouseDown",value:function(){}},{key:"MouseUp",value:function(e){}},{key:"MouseDrag",value:function(e){this.Translate(e)}},{key:"MouseDouble",value:function(e){}},{key:"MouseRight",value:function(e){}},{key:"Render",value:function(e){this.isHidden||this.RenderPost(e)}}]),e}()},20028:function(e,t,n){n.d(t,{h:function(){return a}});var i=n(37762),o=n(15671),r=n(43144),a=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,o.Z)(this,e),this.x=0,this.y=0,this.z=0,this.w=0,this.long=0,this.lat=0,this.ele=0,this.proX=0,this.proY=0,this.proZ=0,this.alt=0,this.d=!0,this.isModified=!1,this.color="#000000",this.isVisited=!1,this.parent=void 0,this.x=t,this.y=n,this.z=i}return(0,r.Z)(e,[{key:"Set",value:function(t,n,i){return this.x=t,this.y=n,this.z=i,new e(this.x,this.y,this.z)}},{key:"Scale",value:function(t){return this.x*=t,this.y*=t,this.z*=t,new e(this.x,this.y,this.z)}},{key:"Mult",value:function(t){return this.x*=t,this.y*=t,this.z*=t,new e(this.x,this.y,this.z)}},{key:"DivByVal",value:function(t){return this.x/=t,this.y/=t,this.z/=t,new e(this.x,this.y,this.z)}},{key:"DivByVec",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,new e(this.x,this.y,this.z)}},{key:"Add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,new e(this.x,this.y,this.z)}},{key:"Sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,new e(this.x,this.y,this.z)}},{key:"Negate",value:function(){return this.x*=-1,this.y*=-1,this.z*=-1,new e(this.x,this.y,this.z)}},{key:"Equals",value:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}},{key:"Clone",value:function(){var t=new e(this.x,this.y,this.z);return t.long=this.long,t.lat=this.lat,t.ele=this.ele,t.proX=this.proX,t.proY=this.proY,t.proZ=this.proZ,t}},{key:"Length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"Unitize",value:function(){return this.Normalize()}},{key:"IsOverlap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return this.Distance(e)<t}},{key:"Normalize",value:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return this.x=this.x/t,this.y=this.y/t,this.z=this.z/t,new e(this.x,this.y,this.z)}},{key:"Distance",value:function(t){return e.Distance(new e(this.x,this.y,this.z),t)}},{key:"DistanceByArray",value:function(t){return e.DistanceByArray([this.x,this.y,this.z],t)}},{key:"Distance2",value:function(t){return e.Distance2(new e(this.x,this.y,this.z),t)}},{key:"DotProduct",value:function(t){return e.DotProduct(new e(this.x,this.y,this.z),t)}},{key:"CrossProduct",value:function(t){return e.CrossProduct(new e(this.x,this.y,this.z),t)}},{key:"SquareLength",value:function(){var t=e.Length(new e(this.x,this.y,this.z));return t*t}},{key:"FadeExp",value:function(t,n){var i=new e(this.x,this.y,this.z);return i.Sub(t),Math.exp(-n*i.SquareLength())}},{key:"GetAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"GetAngleDegree",value:function(){return 180*this.GetAngle()/Math.PI}},{key:"ToJSON",value:function(){}},{key:"ToString",value:function(){return"x: "+this.x.toFixed(3).toString()+" , y: "+this.y.toFixed(3).toString()+", z: "+this.z.toFixed(3).toString()}},{key:"ToFloat32Array",value:function(){return new Float32Array([this.x,this.y,this.z])}}],[{key:"GetVecforGraphicApp",value:function(t,n,i,o,r,a){var s=new e(0,0,0);return s.long=t,s.lat=n,s.ele=i,s.proX=o,s.proY=r,s.proZ=a,s}},{key:"DeepCopy",value:function(t){var n=new e(t.x,t.y,t.z);return n.long=t.long,n.lat=t.lat,n.proX=t.proX,n.proY=t.proY,n.proZ=t.proZ,n}},{key:"Dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}},{key:"GetAreayConvexGPS",value:function(e){for(var t=[],n=[],i=0;i<e.length;++i)t.push(e[i].lat),n.push(e[i].long);t.push(e[0].lat),n.push(e[0].long);for(var o=0,r=0,a=t.length;a--;)o+=t[a],r+=n[a];for(var s,h,u,c=o/t.length,l=r/n.length,v=new Array(t.length),d=t.length;d--;)t[d]-=c,n[d]-=l,n[d]>=0&&t[d]>=0?v[d]=Math.abs(180*Math.atan(t[d]/n[d])/Math.PI):n[d]<0&&t[d]>=0?v[d]=90+Math.abs(180*Math.atan(t[d]/n[d])/Math.PI):n[d]<0&&t[d]<0?v[d]=180+Math.abs(180*Math.atan(t[d]/n[d])/Math.PI):n[d]>=0&&t[d]<0&&(v[d]=270+Math.abs(180*Math.atan(t[d]/n[d])/Math.PI));for(var f=0;f<v.length;f++)for(var y=0;y<v.length-1;y++)s=v[y],h=t[y],u=n[y],s<v[y+1]&&(v[y]=v[y+1],t[y]=t[y+1],n[y]=n[y+1],v[y+1]=s,t[y+1]=h,n[y+1]=u);for(var x=0,p=0,g=0;g<t.length;g++)g!==t.length-1?(x+=t[g]*n[g+1],p+=n[g]*t[g+1]):(x+=t[g]*n[0],p+=n[g]*t[0]);return 20*((x-p)/2)}},{key:"ScalarRev_V_S_OUT",value:function(e,t,n){return n.x=t*e.x,n.y=t*e.y,n.z=t*e.z,n}},{key:"Add",value:function(t,n){return new e(t.x+n.x,t.y+n.y,t.z+n.z)}},{key:"Sub",value:function(t,n){return new e(t.x-n.x,t.y-n.y,t.z-n.z)}},{key:"Clone",value:function(t){return e.DeepCopy(t)}},{key:"ZAxis",value:function(){return new e(0,0,1)}},{key:"YAxis",value:function(){return new e(0,1,0)}},{key:"Zero",value:function(){return new e(0,0,0)}},{key:"Origin",value:function(){return new e(0,0,0)}},{key:"Plus",value:function(t,n){return new e(t.x+n.x,t.y+n.y,t.z+n.z)}},{key:"Scale",value:function(t,n){return new e(t.x*n,t.y*n,t.z*n)}},{key:"MidVec",value:function(t,n){return new e(.5*(t.x+n.x),.5*(t.y+n.y),.5*(t.z+n.z))}},{key:"CompareTwoVectors",value:function(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}},{key:"CompareTwoVectorsByGeoPos",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return e.long.toFixed(n)===t.long.toFixed(n)&&e.lat.toFixed(n)===t.lat.toFixed(n)}},{key:"Length",value:function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)}},{key:"Normalize",value:function(t){var n=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z);return new e(t.x/n,t.y/n,t.z/n)}},{key:"GetArea",value:function(e){for(var t=0,n=0,i=e.length;n<i;n++){t+=e[n].x*e[n===e.length-1?0:n+1].y*.5,t-=e[n===e.length-1?0:n+1].x*e[n].y*.5}return Math.abs(t)}},{key:"GetAreaByLongLat",value:function(e){for(var t=0,n=0;n<e.length-1;n++)t+=(e[n].long-e[n+1].long)*(e[n].lat+e[n+1].lat);return t*=.5}},{key:"GetGeoArea",value:function(e){for(var t=0,n=0;n<e.length-1;n++)t+=(e[n].x-e[n+1].x)*(e[n].y+e[n+1].y);return t*=.5,Math.abs(t)}},{key:"GetGeoAreaBbyLongLat",value:function(e){for(var t=0,n=0;n<e.length-1;n++)t+=(e[n].long-e[n+1].long)*(e[n].lat+e[n+1].lat);return t*=.5,Math.abs(t)}},{key:"GetIndexByShortDistance",value:function(t,n){for(var i=-1,o=Number.MAX_SAFE_INTEGER,r=0;r<n.length;++r){var a=e.Distance(t,n[r]);a<o&&(o=a,i=r)}return[i,o]}},{key:"Distance",value:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z))}},{key:"DistanceByArray",value:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2]))}},{key:"Distance2",value:function(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z)}},{key:"DotProduct",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}},{key:"CrossProduct",value:function(t,n){return new e(t.y*n.z-t.z*n.y,t.z*n.x-t.x*n.z,t.x*n.y-t.y*n.x)}},{key:"DivideByNum",value:function(t,n){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=[],r=(n.x-t.x)/i,a=(n.y-t.y)/i,s=(n.z-t.z)/i,h=0;h<i;++h){var u=t.x+r*h,c=t.y+a*h,l=t.z+s*h;o.push(new e(u,c,l))}return o}},{key:"KMeterFromGeoGPSPos",value:function(e,t){var n=t.lat*Math.PI/180-e.lat*Math.PI/180,i=t.long*Math.PI/180-e.long*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6378.137*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}},{key:"KMeterByTwoGeoPos",value:function(t,n,i,o){var r=new e(0,0);r.long=t,r.lat=n;var a=new e(0,0);return a.long=i,a.lat=o,e.KMeterFromGeoGPSPos(r,a)}},{key:"KMeterFromGPSPos",value:function(e,t){var n=t.y*Math.PI/180-e.y*Math.PI/180,i=t.x*Math.PI/180-e.x*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.y*Math.PI/180)*Math.cos(t.y*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6378.137*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}},{key:"Get1KM_Long_ByGeoUnit",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new e(t,n,0),o=0,r=0;r<1e4;++r){var a=e.KMeterFromGPSPos(i,new e(i.x+o,i.y,i.z));if(1<a&&a<1.001)return i.x+o;o+=1e-5}return-1}},{key:"Get1KM_lat_ByGeoUnit",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new e(t,n,0),o=0,r=0;r<1e4;++r){var a=e.KMeterFromGPSPos(i,new e(i.x,i.y+o,i.z));if(1<a&&a<1.001)return i.y+o;o+=1e-5}return-1}},{key:"Get1KM_Lat_Long_GeoUnit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.Get1KM_Long_ByGeoUnit(t,n),o=e.Get1KM_lat_ByGeoUnit(t,n);return new e(i,o,0)}},{key:"CalculateFalloff",value:function(e,t,n,i){var o=t.Sub(e).Length();return o*(n*Math.exp(-i*o*o))}},{key:"Attractor",value:function(e,t,n,i){var o=t.Sub(e);o.Unitize();var r=o.Length();return o.Mult(n*Math.exp(-i*r*r))}},{key:"Explosion",value:function(e,t,n,i){var o=t.Sub(e);o.Unitize();var r=o.Length();return o.Mult(-n*Math.exp(-i*r*r))}},{key:"Rotor",value:function(t,n,i,o){return n.Sub(t).Unitize(),e.Origin()}},{key:"GetAngleBetween",value:function(e,t){return Math.atan2(t.x-e.x,t.y-e.y)}},{key:"GetCosAngleByTwoVectors",value:function(t,n){return e.DotProduct(e.Normalize(t),e.Normalize(n))}},{key:"GetAngleByTwoVectorsRadian",value:function(t,n){return Math.acos(e.GetCosAngleByTwoVectors(t,n))}},{key:"GetAngleByTwoVectors",value:function(t,n){return 180*e.GetAngleByTwoVectorsRadian(t,n)/Math.PI}},{key:"GetRotationByWorldCoodinate",value:function(t){var n=new e(1,0,0);return e.GetAngleByTwoVectors(n,t)}},{key:"GetRotationByWorldCoodinateByTwo",value:function(t,n){var i=n.Sub(t),o=new e(1,0,0);return i.y>0?-1*e.GetAngleByTwoVectors(o,i):e.GetAngleByTwoVectors(o,i)}},{key:"ComputeDotProducts",value:function(t){for(var n=[],i=0;i<t.length;++i)if(i<t.length-1){var o=new e(t[i].x,t[i].y,t[i].z),r=new e(t[i+1].x,t[i+1].y,t[i+1].z);r.x-=o.x,r.y-=o.y,r.z-=o.z;var a=e.DotProduct(new e(1,0,0),e.Normalize(r));n.push(a)}else{var s=new e(t[i].x,t[i].y,t[i].z),h=new e(t[0].x,t[0].y,t[0].z);h.x-=s.x,h.y-=s.y,h.z-=s.z;var u=e.DotProduct(new e(1,0,0),e.Normalize(h));n.push(u)}return n}},{key:"ComputeDotProductsWithCenter",value:function(t){for(var n=e.GetCenterVecFromVecs(t),i=[],o=0;o<t.length;++o){var r=void 0,a=void 0;o<t.length-1?(r=new e(t[o].x-n.x,t[o].y-n.y,t[o].z-n.z),a=new e(t[o+1].x-n.x,t[o+1].y-n.y,t[o+1].z-n.z)):(r=new e(t[o].x-n.x,t[o].y-n.y,t[o].z-n.z),a=new e(t[0].x-n.x,t[0].y-n.y,t[0].z-n.z));var s=e.DotProduct(e.Normalize(r),e.Normalize(a));i.push(s)}return i}},{key:"GetXYDimForCircle",value:function(t){for(var n=e.GetCenterVecFromVecs(t),i=0,o=0,r=t.length,a=0;a<r;++a)i+=Math.abs(t[a].x-n.x),o+=Math.abs(t[a].y-n.y);return[i/(r+=2),o/r]}},{key:"DistanceMouseWithTwoVecs",value:function(t,n,i){n.x+=1e-5,n.y+=1e-5;var o=e.GetBoundingVecs(n,i),r=e.GetCloseVec(n,i,t.x,t.y,o,!0);return e.Distance(t,r)}},{key:"GetCloseVec",value:function(t,n,i,o,r){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=new e(t.x,t.y,t.z),h=new e(n.x,n.y,n.z),u=h.Sub(s),c=new e(i,o,0),l=c.Sub(s);u.Unitize();var v=s.Add(u.Mult(l.DotProduct(u)));return a?e.IsInsideOfVecs(v,r)?v:t.Distance(v)<n.Distance(v)?new e(t.x,t.y,t.z):new e(n.x,n.y,n.z):v}},{key:"GetBoundingVecs",value:function(t,n){var i=[],o=new e(t.x<n.x?t.x:n.x,t.y<n.y?t.y:n.y,t.z<n.z?t.z:n.z),r=new e(t.x>n.x?t.x:n.x,t.y>n.y?t.y:n.y,t.z>n.z?t.z:n.z);return i.push(new e(o.x,o.y,o.z)),i.push(new e(r.x,o.y,o.z)),i.push(new e(r.x,r.y,o.z)),i.push(new e(o.x,r.y,o.z)),i}},{key:"GetBoundaryByVecWidthHeight",value:function(t,n,i){var o=[];return o.push(new e(t.x,t.y,t.z)),o.push(new e(t.x+n,t.y,t.z)),o.push(new e(t.x+n,t.y+i,t.z)),o.push(new e(t.x,t.y+i,t.z)),o}},{key:"GetBoundingByVecs",value:function(t){for(var n=[],i=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER,u=0;u<t.length;++u)i>t[u].x&&(i=t[u].x),o>t[u].y&&(o=t[u].y),r>t[u].z&&(r=t[u].z),a<t[u].x&&(a=t[u].x),s<t[u].y&&(s=t[u].y),h<t[u].z&&(h=t[u].z);return n.push(new e(i,o,r)),n.push(new e(a,s,h)),n}},{key:"GetMinMaxVecFromVecs",value:function(t){var n,o=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MAX_VALUE,s=Number.MIN_VALUE,h=Number.MIN_VALUE,u=Number.MIN_VALUE,c=(0,i.Z)(t);try{for(c.s();!(n=c.n()).done;){var l=n.value;o>l.x&&(o=l.x),r>l.y&&(r=l.y),a>l.z&&(a=l.z),s<l.x&&(s=l.x),h<l.y&&(h=l.y),u<l.z&&(u=l.z)}}catch(v){c.e(v)}finally{c.f()}return[new e(o,r,a),new e(s,h,u)]}},{key:"RemoveVecsWithinDis",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=[],o=0;o<t.length-1;++o){var r=t[o];if(!1!==r.d)for(var a=o+1;a<t.length;++a)e.Distance(r,t[a])<n&&(t[a].d=!1)}for(var s=0;s<t.length;++s)!0===t[s].d&&i.push(t[s]);return i}},{key:"IsInsideOfVecsWtihVecs",value:function(t,n){for(var i=0;i<t.length;i++)if(!e.IsInsideOfVecs(t[i],n))return!1;return!0}},{key:"IsInsideOfVecs",value:function(e,t){for(var n=e.x,i=e.y,o=!1,r=0,a=t.length-1;r<t.length;a=r++){var s=t[r].x,h=t[r].y,u=t[a].x,c=t[a].y;h>i!==c>i&&n<(u-s)*(i-h)/(c-h)+s&&(o=!o)}return o}},{key:"IsInsideOfVecsByArray",value:function(e,t){for(var n=e[0],i=e[1],o=!1,r=0,a=t.length-1;r<t.length;a=r++){var s=t[r][0],h=t[r][1],u=t[a][0],c=t[a][1];h>i!==c>i&&n<(u-s)*(i-h)/(c-h)+s&&(o=!o)}return o}},{key:"IsInsideOfVecsByCrossing",value:function(t,n,i,o){return!!this.IsInsideOfVecs(new e(t.x-.5*n,t.y-.5*i),o)||(!!this.IsInsideOfVecs(new e(t.x+.5*n,t.y-.5*i),o)||(!!this.IsInsideOfVecs(new e(t.x+.5*n,t.y+.5*i),o)||!!this.IsInsideOfVecs(new e(t.x-.5*n,t.y+.5*i),o)))}},{key:"IsInsideOfVecsByConcaveHull",value:function(e,t){}},{key:"IsInsideOfVecsByConvexHull",value:function(t,n){return n=e.ConvexHull(n),!!e.IsInsideOfVecs(t,n)}},{key:"ConvexHull",value:function(t){t.sort((function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x}));for(var n=[],i=0;i<t.length;i++){for(;n.length>=2&&e.Cross(n[n.length-2],n[n.length-1],t[i])<=0;)n.pop();n.push(t[i])}for(var o=[],r=t.length-1;r>=0;r--){for(;o.length>=2&&e.Cross(o[o.length-2],o[o.length-1],t[r])<=0;)o.pop();o.push(t[r])}o.pop(),n.pop();for(var a=0;a<o.length;++a)n.push(o[a]);return n}},{key:"Cross",value:function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)}},{key:"Cross_A_B_OUT",value:function(e,t,n){var i=e.x,o=e.y,r=e.z,a=t.x,s=t.y,h=t.z;return n.x=o*h-r*s,n.y=r*a-i*h,n.z=i*s-o*a,n}},{key:"CheckBoundIntersection",value:function(e,t,n){for(var i=0;i<e.length-1;++i)if(this.CheckLineIntersection(e[i],e[i+1],t,n))return!0;return!1}},{key:"CheckLineIntersection",value:function(t,n,i,o){var r,a,s,h=0,u=0,c=!1,l=!1;r=(o.y-i.y)*(n.x-t.x)-(o.x-i.x)*(n.y-t.y);var v=new e(0,0,0);if(0!==r)return h=t.y-i.y,u=t.x-i.x,a=(o.x-i.x)*h-(o.y-i.y)*u,s=(n.x-t.x)*h-(n.y-t.y)*u,h=a/r,u=s/r,v.x=t.x+h*(n.x-t.x),v.y=t.y+h*(n.y-t.y),h>0&&h<1&&(c=!0),u>0&&u<1&&(l=!0),c&&l?v:void 0}},{key:"CheckConvexity",value:function(t){if(t.length<3)return!1;for(var n,i,o,r=0,a=0;a<t.length;a++){n=t[a];var s=t[(a+1)%t.length];if(i=new e(s.x-n.x,s.y-n.y,0),o=t[(a+2)%t.length],0===a)r=o.x*i.y-o.y*i.x+i.x*n.y-i.y*n.x;else{var h=o.x*i.y-o.y*i.x+i.x*n.y-i.y*n.x;if(h>0&&r<0||h<0&&r>0)return!1}}return!0}},{key:"MoveVecs",value:function(t,n){for(var i=[],o=0;o<t.length;++o)i.push(e.MoveVec(t[o],n));return i}},{key:"MoveVec",value:function(t,n){return new e(t.x+n.x,t.y+n.y,t.z+n.z)}},{key:"RotateVecsLoal",value:function(t,n){var i=e.GetCenterVecFromVecs(t),o=new e(-i.x,-i.y,-i.z),r=e.MoveVecs(t,o);return r=e.RotateVecs(r,n),r=e.MoveVecs(r,i)}},{key:"RotateVecs",value:function(t,n){for(var i=[],o=0;o<t.length;++o)i.push(e.RotateVec(t[o],n));return i}},{key:"RotateVec",value:function(t,n){var i=Math.cos(.017453292519943278*n),o=Math.sin(.017453292519943278*n);return new e(t.x*i-t.y*o,t.x*o+t.y*i,t.z)}},{key:"GetCenterVecFromVecs",value:function(t){for(var n=new e(0,0,0),i=0,o=t.length;i<o;++i)n.Add(t[i]);return n.Mult(1/t.length),n}},{key:"MidVecGeo",value:function(t,n){return new e(t.x+.5*n.x,t.y+.5*n.y,0)}},{key:"GetVecFromIntersection",value:function(t){for(var n=[],i=0;i<t.length-1;++i)for(var o=i+1;o<t.length-1;++o){var r=e.CheckLineIntersection(t[i],t[i+1],t[o],t[o+1]);r&&n.push(r)}return 0===n.length?void 0:n}},{key:"between",value:function(t,n,i){return t-e.eps<=n&&n<=i+e.eps}},{key:"segment_intersection",value:function(t,n,i,o){var r=((t.x*n.y-t.y*n.x)*(i.x-o.x)-(t.x-n.x)*(i.x*o.y-i.y*o.x))/((t.x-n.x)*(i.y-o.y)-(t.y-n.y)*(i.x-o.x)),a=((t.x*n.y-t.y*n.x)*(i.y-o.y)-(t.y-n.y)*(i.x*o.y-i.y*o.x))/((t.x-n.x)*(i.y-o.y)-(t.y-n.y)*(i.x-o.x));if(isNaN(r)||isNaN(a))return!1;if(t.x>=n.x){if(!e.between(n.x,r,t.x))return!1}else if(!e.between(t.x,r,n.x))return!1;if(t.y>=n.y){if(!e.between(n.y,a,t.y))return!1}else if(!e.between(t.y,a,n.y))return!1;if(i.x>=o.x){if(!e.between(o.x,r,i.x))return!1}else if(!e.between(i.x,r,o.x))return!1;if(i.y>=o.y){if(!e.between(o.y,a,i.y))return!1}else if(!e.between(i.y,a,o.y))return!1;return new e(r,a)}}]),e}();a.eps=1e-7,a.origin=new a(0,0,0)},82953:function(e,t,n){n.d(t,{h:function(){return a}});var i=n(37762),o=n(15671),r=n(43144),a=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,o.Z)(this,e),this.x=0,this.y=0,this.z=0,this.w=0,this.long=0,this.lat=0,this.ele=0,this.proX=0,this.proY=0,this.proZ=0,this.alt=0,this.d=!0,this.isModified=!1,this.color="#000000",this.isVisited=!1,this.parent=void 0,this.x=t,this.y=n,this.z=i}return(0,r.Z)(e,[{key:"Set",value:function(t,n,i){return this.x=t,this.y=n,this.z=i,new e(this.x,this.y,this.z)}},{key:"Scale",value:function(t){return this.x*=t,this.y*=t,this.z*=t,new e(this.x,this.y,this.z)}},{key:"Mult",value:function(t){return this.x*=t,this.y*=t,this.z*=t,new e(this.x,this.y,this.z)}},{key:"DivByVal",value:function(t){return this.x/=t,this.y/=t,this.z/=t,new e(this.x,this.y,this.z)}},{key:"DivByVec",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,new e(this.x,this.y,this.z)}},{key:"Add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,new e(this.x,this.y,this.z)}},{key:"Sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,new e(this.x,this.y,this.z)}},{key:"Negate",value:function(){return this.x*=-1,this.y*=-1,this.z*=-1,new e(this.x,this.y,this.z)}},{key:"Equals",value:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}},{key:"Clone",value:function(){var t=new e(this.x,this.y,this.z);return t.long=this.long,t.lat=this.lat,t.ele=this.ele,t.proX=this.proX,t.proY=this.proY,t.proZ=this.proZ,t}},{key:"Length",value:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return e<1e-5?1e-5:e}},{key:"Unitize",value:function(){return this.Normalize()}},{key:"IsOverlap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return this.Distance(e)<t}},{key:"Normalize",value:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return e<1e-4||(this.x=this.x/e,this.y=this.y/e,this.z=this.z/e),this}},{key:"Distance",value:function(t){return e.Distance(new e(this.x,this.y,this.z),t)}},{key:"DistanceByArray",value:function(t){return e.DistanceByArray([this.x,this.y,this.z],t)}},{key:"Distance2",value:function(t){return e.Distance2(new e(this.x,this.y,this.z),t)}},{key:"DotProduct",value:function(t){return e.DotProduct(new e(this.x,this.y,this.z),t)}},{key:"CrossProduct",value:function(t){return e.CrossProduct(new e(this.x,this.y,this.z),t)}},{key:"SquareLength",value:function(){var t=e.Length(new e(this.x,this.y,this.z));return t*t}},{key:"FadeExp",value:function(t,n){var i=new e(this.x,this.y,this.z);return i.Sub(t),Math.exp(-n*i.SquareLength())}},{key:"GetAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"GetAngleDegree",value:function(){return 180*this.GetAngle()/Math.PI}},{key:"ToJSON",value:function(){}},{key:"ToString",value:function(){return"x: "+this.x.toFixed(3).toString()+" , y: "+this.y.toFixed(3).toString()+", z: "+this.z.toFixed(3).toString()}},{key:"ToFloat32Array",value:function(){return new Float32Array([this.x,this.y,this.z])}}],[{key:"GetVecforGraphicApp",value:function(t,n,i,o,r,a){var s=new e(0,0,0);return s.long=t,s.lat=n,s.ele=i,s.proX=o,s.proY=r,s.proZ=a,s}},{key:"DeepCopy",value:function(t){var n=new e(t.x,t.y,t.z);return n.long=t.long,n.lat=t.lat,n.proX=t.proX,n.proY=t.proY,n.proZ=t.proZ,n}},{key:"Dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}},{key:"GetAreayConvexGPS",value:function(e){for(var t=[],n=[],i=0;i<e.length;++i)t.push(e[i].lat),n.push(e[i].long);t.push(e[0].lat),n.push(e[0].long);for(var o=0,r=0,a=t.length;a--;)o+=t[a],r+=n[a];for(var s,h,u,c=o/t.length,l=r/n.length,v=new Array(t.length),d=t.length;d--;)t[d]-=c,n[d]-=l,n[d]>=0&&t[d]>=0?v[d]=Math.abs(180*Math.atan(t[d]/n[d])/Math.PI):n[d]<0&&t[d]>=0?v[d]=90+Math.abs(180*Math.atan(t[d]/n[d])/Math.PI):n[d]<0&&t[d]<0?v[d]=180+Math.abs(180*Math.atan(t[d]/n[d])/Math.PI):n[d]>=0&&t[d]<0&&(v[d]=270+Math.abs(180*Math.atan(t[d]/n[d])/Math.PI));for(var f=0;f<v.length;f++)for(var y=0;y<v.length-1;y++)s=v[y],h=t[y],u=n[y],s<v[y+1]&&(v[y]=v[y+1],t[y]=t[y+1],n[y]=n[y+1],v[y+1]=s,t[y+1]=h,n[y+1]=u);for(var x=0,p=0,g=0;g<t.length;g++)g!==t.length-1?(x+=t[g]*n[g+1],p+=n[g]*t[g+1]):(x+=t[g]*n[0],p+=n[g]*t[0]);return 20*((x-p)/2)}},{key:"ScalarRev_V_S_OUT",value:function(e,t,n){return n.x=t*e.x,n.y=t*e.y,n.z=t*e.z,n}},{key:"Add",value:function(t,n){return new e(t.x+n.x,t.y+n.y,t.z+n.z)}},{key:"Sub",value:function(t,n){return new e(t.x-n.x,t.y-n.y,t.z-n.z)}},{key:"Clone",value:function(t){return e.DeepCopy(t)}},{key:"ZAxis",value:function(){return new e(0,0,1)}},{key:"YAxis",value:function(){return new e(0,1,0)}},{key:"Zero",value:function(){return new e(0,0,0)}},{key:"Origin",value:function(){return new e(0,0,0)}},{key:"Plus",value:function(t,n){return new e(t.x+n.x,t.y+n.y,t.z+n.z)}},{key:"Scale",value:function(t,n){return new e(t.x*n,t.y*n,t.z*n)}},{key:"MidVec",value:function(t,n){return new e(t.x+.5*(n.x-t.x),t.y+.5*(n.y-t.y),t.z+.5*(n.z-t.z))}},{key:"CompareTwoVectors",value:function(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}},{key:"CompareTwoVectorsByGeoPos",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return e.long.toFixed(n)===t.long.toFixed(n)&&e.lat.toFixed(n)===t.lat.toFixed(n)}},{key:"Length",value:function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)}},{key:"Normalize",value:function(t){var n=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z);return n<1e-4?new e(t.x,t.y,t.z):new e(t.x/n,t.y/n,t.z/n)}},{key:"GetArea",value:function(e){for(var t=0,n=0,i=e.length;n<i;n++){t+=e[n].x*e[n===e.length-1?0:n+1].y*.5,t-=e[n===e.length-1?0:n+1].x*e[n].y*.5}return Math.abs(t)}},{key:"GetAreaByLongLat",value:function(e){for(var t=0,n=0;n<e.length-1;n++)t+=(e[n].long-e[n+1].long)*(e[n].lat+e[n+1].lat);return t*=.5}},{key:"GetGeoArea",value:function(e){for(var t=0,n=0;n<e.length-1;n++)t+=(e[n].x-e[n+1].x)*(e[n].y+e[n+1].y);return t*=.5,Math.abs(t)}},{key:"GetGeoAreaBbyLongLat",value:function(e){for(var t=0,n=0;n<e.length-1;n++)t+=(e[n].long-e[n+1].long)*(e[n].lat+e[n+1].lat);return t*=.5,Math.abs(t)}},{key:"GetIndexByShortDistance",value:function(t,n){for(var i=-1,o=Number.MAX_SAFE_INTEGER,r=0;r<n.length;++r){var a=e.Distance(t,n[r]);a<o&&(o=a,i=r)}return[i,o]}},{key:"Distance",value:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z))}},{key:"DistanceByArray",value:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2]))}},{key:"Distance2",value:function(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z)}},{key:"DotProduct",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}},{key:"CrossProduct",value:function(t,n){return new e(t.y*n.z-t.z*n.y,t.z*n.x-t.x*n.z,t.x*n.y-t.y*n.x)}},{key:"DivideByNum",value:function(t,n){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=[],r=(n.x-t.x)/i,a=(n.y-t.y)/i,s=(n.z-t.z)/i,h=0;h<i;++h){var u=t.x+r*h,c=t.y+a*h,l=t.z+s*h;o.push(new e(u,c,l))}return o}},{key:"KMeterFromGeoGPSPos",value:function(e,t){var n=t.lat*Math.PI/180-e.lat*Math.PI/180,i=t.long*Math.PI/180-e.long*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6378.137*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}},{key:"KMeterByTwoGeoPos",value:function(t,n,i,o){var r=new e(0,0);r.long=t,r.lat=n;var a=new e(0,0);return a.long=i,a.lat=o,e.KMeterFromGeoGPSPos(r,a)}},{key:"KMeterFromGPSPos",value:function(e,t){var n=t.y*Math.PI/180-e.y*Math.PI/180,i=t.x*Math.PI/180-e.x*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.y*Math.PI/180)*Math.cos(t.y*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6378.137*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}},{key:"Get1KM_Long_ByGeoUnit",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new e(t,n,0),o=0,r=0;r<1e4;++r){var a=e.KMeterFromGPSPos(i,new e(i.x+o,i.y,i.z));if(1<a&&a<1.001)return i.x+o;o+=1e-5}return-1}},{key:"Get1KM_lat_ByGeoUnit",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new e(t,n,0),o=0,r=0;r<1e4;++r){var a=e.KMeterFromGPSPos(i,new e(i.x,i.y+o,i.z));if(1<a&&a<1.001)return i.y+o;o+=1e-5}return-1}},{key:"Get1KM_Lat_Long_GeoUnit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.Get1KM_Long_ByGeoUnit(t,n),o=e.Get1KM_lat_ByGeoUnit(t,n);return new e(i,o,0)}},{key:"CalculateFalloff",value:function(t,n,i,o){var r=e.Sub(n,t).Length();return r*(i*Math.exp(-o*r*r))}},{key:"Attractor",value:function(t,n,i,o){var r=e.Sub(n,t),a=r.Length();return r.Unitize(),r.Mult(i*Math.exp(-o*a*a))}},{key:"Explosion",value:function(t,n,i,o){var r=e.Sub(n,t),a=r.Length();return r.Unitize(),r.Mult(-i*Math.exp(-o*a*a))}},{key:"Rotor",value:function(t,n,i,o){return e.Sub(n,t).Unitize(),e.Origin()}},{key:"GetAngleBetween",value:function(e,t){return Math.atan2(t.x-e.x,t.y-e.y)}},{key:"GetCosAngleByTwoVectors",value:function(t,n){return e.DotProduct(e.Normalize(t),e.Normalize(n))}},{key:"GetAngleByTwoVectorsRadian",value:function(t,n){return Math.acos(e.GetCosAngleByTwoVectors(t,n))}},{key:"GetAngleByTwoVectors",value:function(t,n){return 180*e.GetAngleByTwoVectorsRadian(t,n)/Math.PI}},{key:"GetRotationByWorldCoodinate",value:function(t){var n=new e(1,0,0);return e.GetAngleByTwoVectors(n,t)}},{key:"GetRotationByWorldCoodinateByTwo",value:function(t,n){var i=n.Sub(t),o=new e(1,0,0);return i.y>0?-1*e.GetAngleByTwoVectors(o,i):e.GetAngleByTwoVectors(o,i)}},{key:"ComputeDotProducts",value:function(t){for(var n=[],i=0;i<t.length;++i)if(i<t.length-1){var o=new e(t[i].x,t[i].y,t[i].z),r=new e(t[i+1].x,t[i+1].y,t[i+1].z);r.x-=o.x,r.y-=o.y,r.z-=o.z;var a=e.DotProduct(new e(1,0,0),e.Normalize(r));n.push(a)}else{var s=new e(t[i].x,t[i].y,t[i].z),h=new e(t[0].x,t[0].y,t[0].z);h.x-=s.x,h.y-=s.y,h.z-=s.z;var u=e.DotProduct(new e(1,0,0),e.Normalize(h));n.push(u)}return n}},{key:"ComputeDotProductsWithCenter",value:function(t){for(var n=e.GetCenterVecFromVecs(t),i=[],o=0;o<t.length;++o){var r=void 0,a=void 0;o<t.length-1?(r=new e(t[o].x-n.x,t[o].y-n.y,t[o].z-n.z),a=new e(t[o+1].x-n.x,t[o+1].y-n.y,t[o+1].z-n.z)):(r=new e(t[o].x-n.x,t[o].y-n.y,t[o].z-n.z),a=new e(t[0].x-n.x,t[0].y-n.y,t[0].z-n.z));var s=e.DotProduct(e.Normalize(r),e.Normalize(a));i.push(s)}return i}},{key:"GetXYDimForCircle",value:function(t){for(var n=e.GetCenterVecFromVecs(t),i=0,o=0,r=t.length,a=0;a<r;++a)i+=Math.abs(t[a].x-n.x),o+=Math.abs(t[a].y-n.y);return[i/(r+=2),o/r]}},{key:"DistanceMouseWithTwoVecs",value:function(t,n,i){n.x+=1e-5,n.y+=1e-5;var o=e.GetBoundingVecs(n,i),r=e.GetCloseVec(n,i,t.x,t.y,o,!0);return e.Distance(t,r)}},{key:"GetCloseVec",value:function(t,n,i,o,r){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=new e(t.x,t.y,t.z),h=new e(n.x,n.y,n.z),u=h.Sub(s),c=new e(i,o,0),l=c.Sub(s);u.Unitize();var v=s.Add(u.Mult(l.DotProduct(u)));return a?e.IsInsideOfVecs(v,r)?v:t.Distance(v)<n.Distance(v)?new e(t.x,t.y,t.z):new e(n.x,n.y,n.z):v}},{key:"GetBoundingVecs",value:function(t,n){var i=[],o=new e(t.x<n.x?t.x:n.x,t.y<n.y?t.y:n.y,t.z<n.z?t.z:n.z),r=new e(t.x>n.x?t.x:n.x,t.y>n.y?t.y:n.y,t.z>n.z?t.z:n.z);return i.push(new e(o.x,o.y,o.z)),i.push(new e(r.x,o.y,o.z)),i.push(new e(r.x,r.y,o.z)),i.push(new e(o.x,r.y,o.z)),i}},{key:"GetBoundaryByVecWidthHeight",value:function(t,n,i){var o=[];return o.push(new e(t.x,t.y,t.z)),o.push(new e(t.x+n,t.y,t.z)),o.push(new e(t.x+n,t.y+i,t.z)),o.push(new e(t.x,t.y+i,t.z)),o}},{key:"GetBoundingByVecs",value:function(t){for(var n=[],i=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER,u=0;u<t.length;++u)i>t[u].x&&(i=t[u].x),o>t[u].y&&(o=t[u].y),r>t[u].z&&(r=t[u].z),a<t[u].x&&(a=t[u].x),s<t[u].y&&(s=t[u].y),h<t[u].z&&(h=t[u].z);return n.push(new e(i,o,r)),n.push(new e(a,s,h)),n}},{key:"GetMinMaxVecFromVecs",value:function(t){var n,o=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MAX_VALUE,s=Number.MIN_VALUE,h=Number.MIN_VALUE,u=Number.MIN_VALUE,c=(0,i.Z)(t);try{for(c.s();!(n=c.n()).done;){var l=n.value;o>l.x&&(o=l.x),r>l.y&&(r=l.y),a>l.z&&(a=l.z),s<l.x&&(s=l.x),h<l.y&&(h=l.y),u<l.z&&(u=l.z)}}catch(v){c.e(v)}finally{c.f()}return[new e(o,r,a),new e(s,h,u)]}},{key:"RemoveVecsWithinDis",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=[],o=0;o<t.length-1;++o){var r=t[o];if(!1!==r.d)for(var a=o+1;a<t.length;++a)e.Distance(r,t[a])<n&&(t[a].d=!1)}for(var s=0;s<t.length;++s)!0===t[s].d&&i.push(t[s]);return i}},{key:"IsInsideOfVecsWtihVecs",value:function(t,n){for(var i=0;i<t.length;i++)if(!e.IsInsideOfVecs(t[i],n))return!1;return!0}},{key:"IsInsideOfVecWithHeight",value:function(e,t,n,i){return t.x<e.x&&e.x<t.x+n&&t.y<e.y&&e.y<t.y+i}},{key:"orientation",value:function(e,t,n){var i=(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);return 0===i?0:i>0?1:2}},{key:"onSegment",value:function(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}},{key:"isIntersect",value:function(e,t,n,i){var o=this.orientation(e,t,n),r=this.orientation(e,t,i),a=this.orientation(n,i,e),s=this.orientation(n,i,t);return o!==r&&a!==s||(!(0!==o||!this.onSegment(e,n,t))||(!(0!==r||!this.onSegment(e,i,t))||(!(0!==a||!this.onSegment(n,e,i))||!(0!==s||!this.onSegment(n,t,i)))))}},{key:"IsInsideOfVecs",value:function(e,t){for(var n=e.x,i=e.y,o=!1,r=0,a=t.length-1;r<t.length;a=r++){var s=t[r].x,h=t[r].y,u=t[a].x,c=t[a].y;h>i!==c>i&&n<(u-s)*(i-h)/(c-h)+s&&(o=!o)}return o}},{key:"IsInsideOfVecsByArray",value:function(e,t){for(var n=e[0],i=e[1],o=!1,r=0,a=t.length-1;r<t.length;a=r++){var s=t[r][0],h=t[r][1],u=t[a][0],c=t[a][1];h>i!==c>i&&n<(u-s)*(i-h)/(c-h)+s&&(o=!o)}return o}},{key:"IsInsideOfVecsByCrossing",value:function(t,n,i,o){return!!this.IsInsideOfVecs(new e(t.x-.5*n,t.y-.5*i),o)||(!!this.IsInsideOfVecs(new e(t.x+.5*n,t.y-.5*i),o)||(!!this.IsInsideOfVecs(new e(t.x+.5*n,t.y+.5*i),o)||!!this.IsInsideOfVecs(new e(t.x-.5*n,t.y+.5*i),o)))}},{key:"IsInsideOfVecsByConcaveHull",value:function(e,t){}},{key:"IsInsideOfVecsByConvexHull",value:function(t,n){return n=e.ConvexHull(n),!!e.IsInsideOfVecs(t,n)}},{key:"ConvexHull",value:function(t){t.sort((function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x}));for(var n=[],i=0;i<t.length;i++){for(;n.length>=2&&e.Cross(n[n.length-2],n[n.length-1],t[i])<=0;)n.pop();n.push(t[i])}for(var o=[],r=t.length-1;r>=0;r--){for(;o.length>=2&&e.Cross(o[o.length-2],o[o.length-1],t[r])<=0;)o.pop();o.push(t[r])}o.pop(),n.pop();for(var a=0;a<o.length;++a)n.push(o[a]);return n}},{key:"Cross",value:function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)}},{key:"Cross_A_B_OUT",value:function(e,t,n){var i=e.x,o=e.y,r=e.z,a=t.x,s=t.y,h=t.z;return n.x=o*h-r*s,n.y=r*a-i*h,n.z=i*s-o*a,n}},{key:"CheckBoundIntersection",value:function(e,t,n){for(var i=0;i<e.length-1;++i)if(this.CheckLineIntersection(e[i],e[i+1],t,n))return!0;return!1}},{key:"CheckLineIntersection",value:function(t,n,i,o){var r,a,s,h=0,u=0,c=!1,l=!1;r=(o.y-i.y)*(n.x-t.x)-(o.x-i.x)*(n.y-t.y);var v=new e(0,0,0);if(0!==r)return h=t.y-i.y,u=t.x-i.x,a=(o.x-i.x)*h-(o.y-i.y)*u,s=(n.x-t.x)*h-(n.y-t.y)*u,h=a/r,u=s/r,v.x=t.x+h*(n.x-t.x),v.y=t.y+h*(n.y-t.y),h>0&&h<1&&(c=!0),u>0&&u<1&&(l=!0),c&&l?v:void 0}},{key:"CheckConvexity",value:function(t){if(t.length<3)return!1;for(var n,i,o,r=0,a=0;a<t.length;a++){n=t[a];var s=t[(a+1)%t.length];if(i=new e(s.x-n.x,s.y-n.y,0),o=t[(a+2)%t.length],0===a)r=o.x*i.y-o.y*i.x+i.x*n.y-i.y*n.x;else{var h=o.x*i.y-o.y*i.x+i.x*n.y-i.y*n.x;if(h>0&&r<0||h<0&&r>0)return!1}}return!0}},{key:"MoveVecs",value:function(t,n){for(var i=[],o=0;o<t.length;++o)i.push(e.MoveVec(t[o],n));return i}},{key:"MoveVec",value:function(t,n){return new e(t.x+n.x,t.y+n.y,t.z+n.z)}},{key:"RotateVecsLoal",value:function(t,n){var i=e.GetCenterVecFromVecs(t),o=new e(-i.x,-i.y,-i.z),r=e.MoveVecs(t,o);return r=e.RotateVecs(r,n),r=e.MoveVecs(r,i)}},{key:"RotateVecs",value:function(t,n){for(var i=[],o=0;o<t.length;++o)i.push(e.RotateVec(t[o],n));return i}},{key:"Reflect",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.x*=-1,t.y*=-1,t.z*=-1;var o=this.DotProduct(t,n);return new e((2*o*n.x-t.x)*i,(2*o*n.y-t.y)*i,(2*o*n.z-t.z)*i)}},{key:"RotateVec",value:function(t,n){var i=Math.cos(.017453292519943278*n),o=Math.sin(.017453292519943278*n);return new e(t.x*i-t.y*o,t.x*o+t.y*i,t.z)}},{key:"GetCenterVecFromVecs",value:function(t){for(var n=new e(0,0,0),i=0,o=t.length;i<o;++i)n.Add(t[i]);return n.Mult(1/t.length),n}},{key:"MidVecGeo",value:function(t,n){return new e(t.x+.5*(n.x+t.x),t.y+.5*(n.y+t.y),t.z+.5*(n.z+t.z))}},{key:"GetVecFromIntersection",value:function(t){for(var n=[],i=0;i<t.length-1;++i)for(var o=i+1;o<t.length-1;++o){var r=e.CheckLineIntersection(t[i],t[i+1],t[o],t[o+1]);r&&n.push(r)}return 0===n.length?void 0:n}},{key:"between",value:function(t,n,i){return t-e.eps<=n&&n<=i+e.eps}},{key:"segment_intersection",value:function(t,n,i,o){var r=((t.x*n.y-t.y*n.x)*(i.x-o.x)-(t.x-n.x)*(i.x*o.y-i.y*o.x))/((t.x-n.x)*(i.y-o.y)-(t.y-n.y)*(i.x-o.x)),a=((t.x*n.y-t.y*n.x)*(i.y-o.y)-(t.y-n.y)*(i.x*o.y-i.y*o.x))/((t.x-n.x)*(i.y-o.y)-(t.y-n.y)*(i.x-o.x));if(isNaN(r)||isNaN(a))return!1;if(t.x>=n.x){if(!e.between(n.x,r,t.x))return!1}else if(!e.between(t.x,r,n.x))return!1;if(t.y>=n.y){if(!e.between(n.y,a,t.y))return!1}else if(!e.between(t.y,a,n.y))return!1;if(i.x>=o.x){if(!e.between(o.x,r,i.x))return!1}else if(!e.between(i.x,r,o.x))return!1;if(i.y>=o.y){if(!e.between(o.y,a,i.y))return!1}else if(!e.between(i.y,a,o.y))return!1;return new e(r,a)}}]),e}();a.eps=1e-7,a.origin=new a(0,0,0)},33803:function(e,t,n){n.d(t,{mK:function(){return s}});var i,o,r=n(15671),a=n(43144);!function(e){e.SOURCE_OVER="source-over",e.SOURCE_IN="source-in",e.SOURCE_OUT="source-out",e.SOURCE_ATOP="source-atop",e.COPY="copy",e.DESTAINATION_OVER="destination-over",e.DESTAINATION_IN="destination-in",e.DESTAINATION_OUT="destination-out",e.DESTAINATION_ATOP="destination-atop",e.LIGHTER="lighter",e.MULTIPLY="multiply",e.SCREEN="screen",e.OVERLAY="overlay",e.DARKEN="darken",e.LIGHTEN="lighten",e.COLOR_DODGE="color-dodge",e.COLOR_BURN="color-burn",e.HARD_LIGHT="hard-light",e.SOFT_LIGHT="soft-light",e.DIFFERENCE="difference",e.EXCLUSION="exclusion",e.HUE="hue",e.SATURATION="saturation",e.COLOR="color",e.LUMINOSITY="luminosity"}(i||(i={})),function(e){e.aqua="#00ffff",e.azure="#f0ffff",e.beige="#f5f5dc",e.black="#000000",e.blue="#0000ff",e.brown="#a52a2a",e.cyan="#00ffff",e.darkblue="#00008b",e.darkcyan="#008b8b",e.darkgrey="#a9a9a9",e.darkgreen="#006400",e.darkkhaki="#bdb76b",e.darkmagenta="#8b008b",e.darkolivegreen="#556b2f",e.darkorange="#ff8c00",e.darkorchid="#9932cc",e.darkred="#8b0000",e.darksalmon="#e9967a",e.darkviolet="#9400d3",e.fuchsia="#ff00ff",e.gold="#ffd700",e.green="#008000",e.indigo="#4b0082",e.khaki="#f0e68c",e.lightblue="#add8e6",e.lightcyan="#e0ffff",e.lightgreen="#90ee90",e.lightgrey="#d3d3d3",e.lightpink="#ffb6c1",e.lightyellow="#ffffe0",e.lime="#00ff00",e.magenta="#ff00ff",e.maroon="#800000",e.navy="#000080",e.olive="#808000",e.orange="#ffa500",e.pink="#ffc0cb",e.purple="#800080",e.violet="#800080",e.red="#ff0000",e.silver="#c0c0c0",e.white="#ffffff",e.yellow="#ffff00"}(o||(o={}));var s=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"ShiftBlendingMode",value:function(t){var n=t%e.modeListGL.length;return console.log(e.modeListGL[n]+" mode for WebGL"),e.modeListGL[n]}},{key:"RGBtoGray",value:function(e,t,n){return.2126*e+.7152*t+.0722*n}},{key:"RGB_String_by_A",value:function(e,t){var n=e.split(",");return"".concat(n[0],",").concat(n[1],",").concat(n[2],",").concat(t,")")}},{key:"HSVtoRGB",value:function(e,t,n,i){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;(void 0===t||isNaN(t))&&(t=2);var n=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"),i=0,o="";for(e=Math.floor(e);e>0;)i=e%16,e=Math.floor((e-i)/16),o=n[i]+o;for(;o.length<t;)o="0"+o;return o},r=Math.floor(e/60)%6,a=e/60-Math.floor(e/60),s=n*(1-t),h=n*(1-a*t),u=n*(1-(1-a)*t),c=n,l=u,v=s;switch(r){case 1:c=h,l=n,v=s;break;case 2:c=s,l=n,v=u;break;case 3:c=s,l=h,v=n;break;case 4:c=u,l=s,v=n;break;case 5:c=n,l=s,v=h}return i?"rgba( ".concat(Math.round(255*c),",").concat(Math.round(255*l),",").concat(Math.round(255*v),",").concat(i,")"):"#"+o(255*c)+o(255*l)+o(255*v)}},{key:"GetRandomHex",value:function(){return e.RGBToHex(Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random()))}},{key:"GetRandomRGB",value:function(){return"rgb(".concat(Math.round(255*Math.random()),",").concat(Math.round(255*Math.random()),",").concat(Math.round(255*Math.random()),")")}},{key:"GetRandomRGBA",value:function(){return"rgb(".concat(Math.round(255*Math.random()),",").concat(Math.round(255*Math.random()),",").concat(Math.round(255*Math.random()),",1)")}},{key:"GetRandomRGBArray",value:function(){return[Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())]}},{key:"GetRandomColor",value:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},{key:"RGBToHex",value:function(e,t,n){return"#"+[Math.round(e),Math.round(t),Math.round(n)].map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join("")}},{key:"HexToCanvasColor",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n=n||"1.0",e=e.replace("#","");var o=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);if(i){var s=.58*o+.17*r+.8*a;t="rgba("+s+","+s+","+s+","+n+")"}else t="rgba("+o+","+r+","+a+","+n+")";return t}},{key:"Dec2hex",value:function(e){return(e+65536).toString(16).substr(-4).toUpperCase()}},{key:"Hex2Dec",value:function(e){return parseInt(e,16)}},{key:"GetRandomColorByLightness",value:function(t,n){var i=e.HexToRGBANormalized(t),o=e.RGB2HSL(i[0],i[1],i[2]);return e.HSL2RGB(o[0],o[1],o[2]+n)}},{key:"RGB_by_A",value:function(e,t){var n=e.split(",");return n[0]+","+n[1]+","+n[2]+","+t+")"}},{key:"HexToRGBA",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e.replace("#","");var i=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);if(n){var a=.58*i+.17*o+.8*r;return[a,a,a,t]}return[i,o,r,t]}},{key:"LABComputation",value:function(){}},{key:"lab2rgb",value:function(e,t,n){var i,o,r=(e+16)/116,a=t/500+r,s=r-n/200,h=0;return o=-.9689*(a=.95047*(a*a*a>.008856?a*a*a:(a-16/116)/7.787))+1.8758*(r=1*(r*r*r>.008856?r*r*r:(r-16/116)/7.787))+.0415*(s=1.08883*(s*s*s>.008856?s*s*s:(s-16/116)/7.787)),h=.0557*a+-.204*r+1.057*s,i=(i=3.2406*a+-1.5372*r+-.4986*s)>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:12.92*o,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:12.92*h,[255*Math.max(0,Math.min(1,i)),255*Math.max(0,Math.min(1,o)),255*Math.max(0,Math.min(1,h))]}},{key:"rgb2lab",value:function(e,t,n){var i,o,r,a=e/255,s=t/255,h=n/255;return o=(.2126*(a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92)+.7152*(s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92)+.0722*(h=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92))/1,r=(.0193*a+.1192*s+.9505*h)/1.08883,i=(i=(.4124*a+.3576*s+.1805*h)/.95047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116)-16,500*(i-o),200*(o-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}},{key:"deltaE",value:function(e,t){var n=e[0]-t[0],i=e[1]-t[1],o=e[2]-t[2],r=Math.sqrt(e[1]*e[1]+e[2]*e[2]),a=r-Math.sqrt(t[1]*t[1]+t[2]*t[2]),s=i*i+o*o-a*a,h=n/1,u=a/(1+.045*r),c=(s=s<0?0:Math.sqrt(s))/(1+.015*r),l=h*h+u*u+c*c;return l<0?0:Math.sqrt(l)}},{key:"Threshold",value:function(e,t,n,i,o,r){return.3*e+.59*t+.11*n>=i?o:r}},{key:"HexToRGBANormalized",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e.replace("#","");var i=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);if(n){var a=.58*i+.17*o+.8*r;return[a,a,a,t]}return[i/255,o/255,r/255,t/255]}},{key:"RGB2HSL",value:function(e,t,n){e/=255,t/=255,n/=255;var i=Math.max(e,t,n),o=Math.min(e,t,n),r=(i+o)/2,a=(i+o)/2,s=(i+o)/2;if(i===o)r=a=0;else{var h=i-o;switch(a=s>.5?h/(2-i-o):h/(i+o),i){case e:r=(t-n)/h+(t<n?6:0);break;case t:r=(n-e)/h+2;break;case n:r=(e-t)/h+4}r/=6}return[r,a,s]}},{key:"HSL2RGB",value:function(e,t,n){var i,o,r;if(0===t)i=o=r=n;else{var a=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},s=n<.5?n*(1+t):n+t-n*t,h=2*n-s;i=a(h,s,e+1/3),o=a(h,s,e),r=a(h,s,e-1/3)}return[Math.max(0,Math.min(Math.round(255*i),255)),Math.max(0,Math.min(Math.round(255*o),255)),Math.max(0,Math.min(Math.round(255*r),255))]}},{key:"RGB2HSV",value:function(e,t,n){e/=255,t/=255,n/=255;var i,o=Math.max(e,t,n),r=Math.min(e,t,n),a=o,s=o,h=o-r;if(i=0===o?0:h/o,o===r)a=0;else{switch(o){case e:a=(t-n)/h+(t<n?6:0);break;case t:a=(n-e)/h+2;break;case n:a=(e-t)/h+4}a/=6}return[a,i,s]}},{key:"HSV2RGB",value:function(e,t,n){var i=0,o=0,r=0,a=Math.floor(6*e),s=6*e-a,h=n*(1-t),u=n*(1-s*t),c=n*(1-(1-s)*t);switch(a%6){case 0:i=n,o=c,r=h;break;case 1:i=u,o=n,r=h;break;case 2:i=h,o=n,r=c;break;case 3:i=h,o=u,r=n;break;case 4:i=c,o=h,r=n;break;case 5:i=n,o=h,r=u}return[255*i,255*o,255*r]}},{key:"InterpolateColor",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,i=[e[0],e[1],e[2]],o=0;o<3;o++)i[o]=255*i[o]+n*(255*t[o]-255*e[o]);return i}},{key:"InterpolateColorsByArray",value:function(t,n,i){for(var o=1/(i-1),r=[],a=0;a<i;a++)r.push(e.InterpolateColor(t,n,o*a));return r}},{key:"InterpolateColors",value:function(t,n,i){var o=1/(i-1),r=[],a=e.RBGToArray(t),s=e.RBGToArray(n);if(a&&s)for(var h=0;h<i;h++)r.push(e.InterpolateColor(a,s,o*h));return r}},{key:"RBGToArray",value:function(e){var t=e.match(/\d+/g);if(t)return t.map(Number)}},{key:"Blend",value:function(e,t,n){return e*(1-n)+t*n}},{key:"Addition",value:function(e,t,n){return e*(1-n)+n*(e+t)*.5}},{key:"Subtraction",value:function(e,t,n){return e*(1-n)+n*(e-t)*2}},{key:"Multiply",value:function(e,t,n){return e*(1-n)+n*(e*t)*.5}},{key:"Screen",value:function(e,t,n){return e*(1-n)+n*(1-(1-e)*(1-t))}},{key:"Overlay",value:function(e,t,n){return e*(1-n)+n*(e<.5?2*e*t:1-2*(1-e)*(1-t))}},{key:"SoftLight",value:function(e,t,n){return e*(1-n)+n*(t<.5?2*e*t+e*e*(1-2*t):2*e*(1-t)+Math.sqrt(e)*(2*t-1))}},{key:"Hex2HSVByHue",value:function(t,n){var i=e.HexToRGBA(t),o=e.RGB2HSV(i[0],i[1],i[2]);return o[1]=n,e.HSVtoRGB(o[0],o[1],o[2],1)}},{key:"Hex2HSVByCol",value:function(t,n){var i=e.HexToRGBA(t),o=e.RGB2HSV(i[0],i[1],i[2]);return o[0]+=n,e.HSVtoRGB(o[0],o[1],o[2],1)}},{key:"BrightnessContrastLUT",value:function(e,t){for(var n=[],i=-128*t+128+255*e,o=0;o<256;o++){var r=o*t+i,a=Math.floor(r<0?0:r>255?255:r);n.push(a)}return n}},{key:"ImgBrightnessContrast",value:function(e,t,n){for(var i=new ImageData(e.width,e.height),o=this.BrightnessContrastLUT(t,n+1),r=0;r<e.data.length;r+=4){var a=o[e.data[r+0]],s=o[e.data[r+1]],h=o[e.data[r+2]],u=e.data[r+3];i.data[r+0]=a,i.data[r+1]=s,i.data[r+2]=h,i.data[r+3]=u}return i}},{key:"HueSaturationLightness",value:function(e,t,n,i){for(var o=new ImageData(e.width,e.height),r=0;r<e.data.length;r+=4){var a=e.data[r+0],s=e.data[r+1],h=e.data[r+2],u=e.data[r+3],c=this.RGB2HSL(a,s,h);c[0]+=t,c[1]+=n,c[1]<0&&(c[1]=0),c[2]+=i;var l=this.HSL2RGB(c[0],c[1],c[2]);o.data[r+0]=l[0],o.data[r+1]=l[1],o.data[r+2]=l[2],o.data[r+3]=u}return o}},{key:"ImgInvert",value:function(e){for(var t=new ImageData(e.width,e.height),n=0;n<e.data.length;n+=4){var i=e.data[n+0],o=e.data[n+1],r=e.data[n+2];t.data[n+0]=255-i,t.data[n+1]=255-o,t.data[n+2]=255-r,t.data[n+3]=255}return t}},{key:"ImgThreshold",value:function(t,n,i,o){for(var r=new ImageData(t.width,t.height),a=0;a<t.data.length;a+=4){var s=t.data[a+0],h=t.data[a+1],u=t.data[a+2],c=e.Threshold(s/255,h/255,u/255,n,i,o),l=Math.floor(255*c);l=(l=l<255?l:255)<0?0:l,r.data[a+0]=l,r.data[a+1]=l,r.data[a+2]=l,r.data[a+3]=255}return r}}]),e}();s.modeList=["source-over","source-in","source-out","source-atop","copy","destination-over","destination-in","destination-out","destination-atop","lighter","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],s.modeListGL=["source-over","lighter","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],s.ColorPreset={shadow:"rgba(10,10,10,0.5)"}},48224:function(e,t,n){n.d(t,{mK:function(){return i.mK}});var i=n(33803);n(82953)},16795:function(e,t,n){n.d(t,{gj:function(){return Me},R7:function(){return ae},uh:function(){return X},mK:function(){return M.mK},gk:function(){return K},$H:function(){return x},Fc:function(){return me.NUI},h9:function(){return p.h},m3:function(){return m},aX:function(){return k}});var i=n(43144),o=n(15671),r=(0,i.Z)((function e(){(0,o.Z)(this,e)}));r.vTerrain="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    out vec3 vLighting;\n    out vec4 v_color;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.3, 0.3, 0.3);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n       \n        highp vec3 directionalVector = vec3(0.85, 1.8, 0.75);\n\n        // highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        // highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        // vLighting = ambientLight + (directionalLightColor * directional);\n\n        highp float directional = max(dot(a_normal.xyz, directionalVector), 0.0);\n        vLighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n    }\n    ",r.fTerrain="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n\n    in vec4 v_color;\n    in vec3 vLighting;\n\n    out vec4 outColor;\n    void main()\n    {\n        outColor = vec4(vLighting,1);\n\n        // outColor = vec4(v_color.xyz * vLighting,1);\n        // outColor = v_color;\n    }\n\n    ",r.vGlobe="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    out vec3 vLighting;\n    out vec4 v_color;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.3, 0.3, 0.3);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n       \n        highp vec3 directionalVector = vec3(0.85, 1.8, 0.75);\n\n        // highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        // highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        // vLighting = ambientLight + (directionalLightColor * directional);\n\n        highp float directional = max(dot(a_normal.xyz, directionalVector), 0.0);\n        vLighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n    }\n    ",r.fGlobe="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n\n    in vec4 v_color;\n    in vec3 vLighting;\n\n    out vec4 outColor;\n    void main()\n    {\n        outColor = vec4(vLighting,1);\n\n        // outColor = vec4(v_color.xyz * vLighting,1);\n        // outColor = v_color;\n    }\n\n    ",r.vGlobeTexture="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n    in vec2 a_texcoord;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    out vec3 v_Lighting;\n    out vec4 v_color;\n    out vec2 v_texcoord;\n    out vec3 v_normal;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.3, 0.3, 0.3);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n       \n        highp vec3 directionalVector = vec3(0.85, 1.8, 0.75);\n\n        // highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        // highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        // v_Lighting = ambientLight + (directionalLightColor * directional);\n\n        highp float directional = max(dot(a_normal.xyz, directionalVector), 0.0);\n        v_Lighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n        v_texcoord = a_texcoord;\n        v_normal = a_normal;\n    }\n    ",r.fGlobeTexture="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    uniform sampler2D u_texture;\n\n    in vec3 v_normal;\n    in vec4 v_color;\n    in vec3 v_Lighting;\n    in vec2 v_texcoord;\n\n    out vec4 outColor;\n    void main()\n    {\n        // outColor = vec4(v_Lighting,1);\n        vec4 texCol = texture(u_texture, v_texcoord);\n        outColor = vec4(texCol.xyz * v_Lighting,1);\n        // outColor = v_color;\n    }\n\n    ",r.vObjBunny01="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n    in vec4 a_color;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    out vec3 vLighting;\n    out vec4 v_color;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.6, 0.6, 0.6);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n       \n        highp vec3 directionalVector = vec3(0.85, 0.8, 0.75);\n\n        // highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        // highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        // vLighting = ambientLight + (directionalLightColor * directional);\n\n        highp float directional = max(dot(a_normal.xyz, directionalVector), 0.0);\n        vLighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n    }\n    ",r.fObjBunny01="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n\n    in vec4 v_color;\n    in vec3 vLighting;\n\n    out vec4 outColor;\n    void main()\n    {\n        outColor = vec4(vLighting,1);\n\n        // outColor = vec4(v_color.xyz * vLighting,1);\n        // outColor = v_color;\n    }\n\n    ",r.vObjBunny02="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n    in vec4 a_color;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n\n    out vec3 vLighting;\n    out vec4 v_color;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.6, 0.6, 0.6);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n    \n        highp vec3 directionalVector = vec3(0.85, 0.8, 0.75);\n\n        // highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        // highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        // vLighting = ambientLight + (directionalLightColor * directional);\n\n        highp float directional = max(dot(a_normal.xyz, directionalVector), 0.0);\n        vLighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n    }\n    ",r.fObjBunny02="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    in vec4 v_color;\n    in vec3 vLighting;\n\n    out vec4 outColor;\n    void main()\n    {\n        // outColor = vec4(vLighting,1);\n\n        // outColor = vec4(v_color.xyz * vLighting,1);\n        outColor = v_color;\n    }\n    ",r.vObjBunny03="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n    in vec4 a_color;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n\n    out vec3 vLighting;\n    out vec4 v_color;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.6, 0.6, 0.6);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n        highp vec3 directionalVector = vec3(0.85, 0.8, 0.75);\n\n        directionalVector = (vec4(directionalVector,1) * u_matrix).xyz;\n\n        highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        vLighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n    }\n    ",r.fObjBunny03="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    in vec4 v_color;\n    in vec3 vLighting;\n\n    out vec4 outColor;\n    void main(){\n        outColor = vec4(v_color.xyz * vLighting,1);\n    }\n    ";var a=n(60136),s=n(29388),h=n(28664),u=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,o.Z)(this,n),(e=t.call(this,3)).isModified=!0,e.x=i,e.y=r,e.z=a,e}return(0,i.Z)(n,[{key:"x",get:function(){return this[0]},set:function(e){this[0]=e}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=e}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=e}},{key:"Set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=e,this.y=t,this.z=n}},{key:"Length",value:function(e){if(void 0===e)return Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]);var t=this[0]-e[0],n=this[1]-e[1],i=this[2]-e[2];return Math.sqrt(t*t+n*n+i*i)}},{key:"LengthSqr",value:function(e){if(void 0===e)return this[0]*this[0]+this[1]*this[1]+this[2]*this[2];var t=this[0]-e[0],n=this[1]-e[1],i=this[2]-e[2];return t*t+n*n+i*i}},{key:"Normalize",value:function(){return n.Normalize(this)}},{key:"Scale",value:function(e,t){return(t=t||this)[0]=this[0]*e,t[1]=this[1]*e,t[2]=this[2]*e,t===this&&(this.isModified=!0),this}},{key:"Mul",value:function(e,t){return(t=t||this)[0]=this[0]*e[0],t[1]=this[1]*e[1],t[2]=this[2]*e[2],t===this&&(this.isModified=!0),this}},{key:"Add",value:function(e,t){return(t=t||this)[0]=this[0]+e[0],t[1]=this[1]+e[1],t[2]=this[2]+e[2],t===this&&(this.isModified=!0),this}},{key:"Sub",value:function(e,t){return(t=t||this)[0]=this[0]-e[0],t[1]=this[1]-e[1],t[2]=this[2]-e[2],t===this&&(this.isModified=!0),this}},{key:"Div",value:function(e,t){return(t=t||this)[0]=0!==e[0]?this[0]/e[0]:0,t[1]=0!==e[1]?this[1]/e[1]:0,t[2]=0!==e[2]?this[2]/e[2]:0,t===this&&(this.isModified=!0),this}},{key:"DivInvScale",value:function(e,t){return(t=t||this)[0]=0!==this[0]?e/this[0]:0,t[1]=0!==this[1]?e/this[1]:0,t[2]=0!==this[2]?e/this[2]:0,t===this&&(this.isModified=!0),this}},{key:"Clone",value:function(){return new n(this.x,this.y,this.z)}},{key:"Copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.isModified=!0,this}},{key:"nearZero",value:function(e){return e=e||this,Math.abs(e[0])<=1e-6&&(e[0]=0),Math.abs(e[1])<=1e-6&&(e[1]=0),Math.abs(e[2])<=1e-6&&(e[2]=0),this}},{key:"TransformMat3",value:function(e,t){var n=this[0],i=this[1],o=this[2];return(t=t||this)[0]=n*e[0]+i*e[3]+o*e[6],t[1]=n*e[1]+i*e[4]+o*e[7],t[2]=n*e[2]+i*e[5]+o*e[8],t}},{key:"TransformMat4",value:function(e,t){var n=this[0],i=this[1],o=this[2],r=e[3]*n+e[7]*i+e[11]*o+e[15];return r=r||1,(t=t||this)[0]=(e[0]*n+e[4]*i+e[8]*o+e[12])/r,t[1]=(e[1]*n+e[5]*i+e[9]*o+e[13])/r,t[2]=(e[2]*n+e[6]*i+e[10]*o+e[14])/r,t}}],[{key:"FromValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new n(e,t,i)}},{key:"scalar",value:function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}},{key:"Normalize",value:function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return e[0]=e[0]/t,e[1]=e[1]/t,e[2]=e[2]/t,e.isModified=!0,e}},{key:"ScalarRev",value:function(e,t,n){return n[0]=t*e[0],n[1]=t*e[1],n[2]=t*e[2],n}},{key:"Dot",value:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}},{key:"Cross",value:function(e,t,n){var i=e[0],o=e[1],r=e[2],a=t[0],s=t[1],h=t[2];return n[0]=o*h-r*s,n[1]=r*a-i*h,n[2]=i*s-o*a,n}},{key:"Lerp",value:function(e,t,n,i){var o=t[0],r=t[1],a=t[2];return e[0]=o+i*(n[0]-o),e[1]=r+i*(n[1]-r),e[2]=a+i*(n[2]-a),e}},{key:"ClosestPointToLine3D",value:function(e,t,i,o){void 0===o&&(o=new n);var r=t.x-e.x,a=t.y-e.y,s=e.z-e.z,h=((i.x-e.x)*r+(i.y-e.y)*a+(i.z-e.z)*s)/(r*r+a*a+s*s),u=e.x+r*h,c=e.y+a*h,l=e.z+s*h;return o.Set(u,c,l)}}]),n}((0,h.Z)(Float32Array));(function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,null,[{key:"create",value:function(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"GetIdentity",value:function(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"identity",value:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"clone",value:function(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{key:"copy",value:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{key:"Clone",value:function(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{key:"FromValues",value:function(e,t,n,i,o,r,a,s,h,u,c,l,v,d,f,y){var x=new Float32Array(16);return x[0]=e,x[1]=t,x[2]=n,x[3]=i,x[4]=o,x[5]=r,x[6]=a,x[7]=s,x[8]=h,x[9]=u,x[10]=c,x[11]=l,x[12]=v,x[13]=d,x[14]=f,x[15]=y,x}},{key:"set",value:function(e,t,n,i,o,r,a,s,h,u,c,l,v,d,f,y,x){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e[4]=r,e[5]=a,e[6]=s,e[7]=h,e[8]=u,e[9]=c,e[10]=l,e[11]=v,e[12]=d,e[13]=f,e[14]=y,e[15]=x,e}},{key:"transpose",value:function(e,t){if(e===t){var n=t[1],i=t[2],o=t[3],r=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=r,e[11]=t[14],e[12]=o,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},{key:"lookAt",value:function(t,n,i,o){var r,a,s,h,u,c,l,v,d,f,y=n[0],x=n[1],p=n[2],g=o[0],m=o[1],M=o[2],k=i[0],E=i[1],I=i[2];return Math.abs(y-k)<e.EPSILON&&Math.abs(x-E)<e.EPSILON&&Math.abs(p-I)<e.EPSILON?e.GetIdentity():(l=y-k,v=x-E,d=p-I,r=m*(d*=f=1/Math.sqrt(l*l+v*v+d*d))-M*(v*=f),a=M*(l*=f)-g*d,s=g*v-m*l,(f=Math.sqrt(r*r+a*a+s*s))?(r*=f=1/f,a*=f,s*=f):(r=0,a=0,s=0),h=v*s-d*a,u=d*r-l*s,c=l*a-v*r,(f=Math.sqrt(h*h+u*u+c*c))?(h*=f=1/f,u*=f,c*=f):(h=0,u=0,c=0),t[0]=r,t[1]=h,t[2]=l,t[3]=0,t[4]=a,t[5]=u,t[6]=v,t[7]=0,t[8]=s,t[9]=c,t[10]=d,t[11]=0,t[12]=-(r*y+a*x+s*p),t[13]=-(h*y+u*x+c*p),t[14]=-(l*y+v*x+d*p),t[15]=1,t)}},{key:"Ortho",value:function(e,t,n,i,o,r){var a=new Float32Array(16),s=1/(e-t),h=1/(n-i),u=1/(o-r);return a[0]=-2*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*h,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*u,a[11]=0,a[12]=(e+t)*s,a[13]=(i+n)*h,a[14]=(r+o)*u,a[15]=1,a}},{key:"ortho",value:function(e,t,n,i,o,r,a){var s=1/(t-n),h=1/(i-o),u=1/(r-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(o+i)*h,e[14]=(a+r)*u,e[15]=1,e}},{key:"adjoint",value:function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],h=t[6],u=t[7],c=t[8],l=t[9],v=t[10],d=t[11],f=t[12],y=t[13],x=t[14],p=t[15];return e[0]=s*(v*p-d*x)-l*(h*p-u*x)+y*(h*d-u*v),e[1]=-(i*(v*p-d*x)-l*(o*p-r*x)+y*(o*d-r*v)),e[2]=i*(h*p-u*x)-s*(o*p-r*x)+y*(o*u-r*h),e[3]=-(i*(h*d-u*v)-s*(o*d-r*v)+l*(o*u-r*h)),e[4]=-(a*(v*p-d*x)-c*(h*p-u*x)+f*(h*d-u*v)),e[5]=n*(v*p-d*x)-c*(o*p-r*x)+f*(o*d-r*v),e[6]=-(n*(h*p-u*x)-a*(o*p-r*x)+f*(o*u-r*h)),e[7]=n*(h*d-u*v)-a*(o*d-r*v)+c*(o*u-r*h),e[8]=a*(l*p-d*y)-c*(s*p-u*y)+f*(s*d-u*l),e[9]=-(n*(l*p-d*y)-c*(i*p-r*y)+f*(i*d-r*l)),e[10]=n*(s*p-u*y)-a*(i*p-r*y)+f*(i*u-r*s),e[11]=-(n*(s*d-u*l)-a*(i*d-r*l)+c*(i*u-r*s)),e[12]=-(a*(l*x-v*y)-c*(s*x-h*y)+f*(s*v-h*l)),e[13]=n*(l*x-v*y)-c*(i*x-o*y)+f*(i*v-o*l),e[14]=-(n*(s*x-h*y)-a*(i*x-o*y)+f*(i*h-o*s)),e[15]=n*(s*v-h*l)-a*(i*v-o*l)+c*(i*h-o*s),e}},{key:"determinant",value:function(e){var t=e[0],n=e[1],i=e[2],o=e[3],r=e[4],a=e[5],s=e[6],h=e[7],u=e[8],c=e[9],l=e[10],v=e[11],d=e[12],f=e[13],y=e[14],x=e[15];return(t*a-n*r)*(l*x-v*y)-(t*s-i*r)*(c*x-v*f)+(t*h-o*r)*(c*y-l*f)+(n*s-i*a)*(u*x-v*d)-(n*h-o*a)*(u*y-l*d)+(i*h-o*s)*(u*f-c*d)}},{key:"Perspective",value:function(e,t,n,i,o){var r=1/Math.tan(t/2),a=1/(i-o);return e[0]=r/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+i)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*i*a,e[15]=0,e}},{key:"LookAt",value:function(t,n,i){var o=e.normalize(e.subtractVectors(t,n)),r=e.cross(i,o),a=e.cross(o,r);return new Float32Array([r[0],r[1],r[2],0,a[0],a[1],a[2],0,o[0],o[1],o[2],0,t[0],t[1],t[2],1])}},{key:"scale",value:function(e,t,n){var i=n[0],o=n[1],r=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{key:"rotate",value:function(t,n,i,o){var r,a,s,h,u,c,l,v,d,f,y,x,p,g,m,M,k,E,I,N,R,w,A,O,P=o[0],T=o[1],C=o[2],b=Math.sqrt(P*P+T*T+C*C);return Math.abs(b)<e.EPSILON?null:(P*=b=1/b,T*=b,C*=b,r=Math.sin(i),s=1-(a=Math.cos(i)),h=n[0],u=n[1],c=n[2],l=n[3],v=n[4],d=n[5],f=n[6],y=n[7],x=n[8],p=n[9],g=n[10],m=n[11],M=P*P*s+a,k=T*P*s+C*r,E=C*P*s-T*r,I=P*T*s-C*r,N=T*T*s+a,R=C*T*s+P*r,w=P*C*s+T*r,A=T*C*s-P*r,O=C*C*s+a,t[0]=h*M+v*k+x*E,t[1]=u*M+d*k+p*E,t[2]=c*M+f*k+g*E,t[3]=l*M+y*k+m*E,t[4]=h*I+v*N+x*R,t[5]=u*I+d*N+p*R,t[6]=c*I+f*N+g*R,t[7]=l*I+y*N+m*R,t[8]=h*w+v*A+x*O,t[9]=u*w+d*A+p*O,t[10]=c*w+f*A+g*O,t[11]=l*w+y*A+m*O,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}},{key:"rotateX",value:function(e,t,n){var i=Math.sin(n),o=Math.cos(n),r=t[4],a=t[5],s=t[6],h=t[7],u=t[8],c=t[9],l=t[10],v=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=r*o+u*i,e[5]=a*o+c*i,e[6]=s*o+l*i,e[7]=h*o+v*i,e[8]=u*o-r*i,e[9]=c*o-a*i,e[10]=l*o-s*i,e[11]=v*o-h*i,e}},{key:"rotateY",value:function(e,t,n){var i=Math.sin(n),o=Math.cos(n),r=t[0],a=t[1],s=t[2],h=t[3],u=t[8],c=t[9],l=t[10],v=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=r*o-u*i,e[1]=a*o-c*i,e[2]=s*o-l*i,e[3]=h*o-v*i,e[8]=r*i+u*o,e[9]=a*i+c*o,e[10]=s*i+l*o,e[11]=h*i+v*o,e}},{key:"rotateZ",value:function(e,t,n){var i=Math.sin(n),o=Math.cos(n),r=t[0],a=t[1],s=t[2],h=t[3],u=t[4],c=t[5],l=t[6],v=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=r*o+u*i,e[1]=a*o+c*i,e[2]=s*o+l*i,e[3]=h*o+v*i,e[4]=u*o-r*i,e[5]=c*o-a*i,e[6]=l*o-s*i,e[7]=v*o-h*i,e}},{key:"fromScaling",value:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"fromRotation",value:function(t,n,i){var o,r,a,s=i[0],h=i[1],u=i[2],c=Math.sqrt(s*s+h*h+u*u);return Math.abs(c)<e.EPSILON?null:(s*=c=1/c,h*=c,u*=c,o=Math.sin(n),a=1-(r=Math.cos(n)),t[0]=s*s*a+r,t[1]=h*s*a+u*o,t[2]=u*s*a-h*o,t[3]=0,t[4]=s*h*a-u*o,t[5]=h*h*a+r,t[6]=u*h*a+s*o,t[7]=0,t[8]=s*u*a+h*o,t[9]=h*u*a-s*o,t[10]=u*u*a+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},{key:"fromXRotation",value:function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"fromYRotation",value:function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"fromZRotation",value:function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"fromRotationTranslation",value:function(e,t,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=i+i,h=o+o,u=r+r,c=i*s,l=i*h,v=i*u,d=o*h,f=o*u,y=r*u,x=a*s,p=a*h,g=a*u;return e[0]=1-(d+y),e[1]=l+g,e[2]=v-p,e[3]=0,e[4]=l-g,e[5]=1-(c+y),e[6]=f+x,e[7]=0,e[8]=v+p,e[9]=f-x,e[10]=1-(c+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}},{key:"getTranslation",value:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}},{key:"getScaling",value:function(e,t){var n=t[0],i=t[1],o=t[2],r=t[4],a=t[5],s=t[6],h=t[8],u=t[9],c=t[10];return e[0]=Math.sqrt(n*n+i*i+o*o),e[1]=Math.sqrt(r*r+a*a+s*s),e[2]=Math.sqrt(h*h+u*u+c*c),e}},{key:"getRotation",value:function(e,t){var n=t[0]+t[5]+t[10],i=0;return n>0?(i=2*Math.sqrt(n+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}},{key:"fromRotationTranslationScale",value:function(e,t,n,i){var o=t[0],r=t[1],a=t[2],s=t[3],h=o+o,u=r+r,c=a+a,l=o*h,v=o*u,d=o*c,f=r*u,y=r*c,x=a*c,p=s*h,g=s*u,m=s*c,M=i[0],k=i[1],E=i[2];return e[0]=(1-(f+x))*M,e[1]=(v+m)*M,e[2]=(d-g)*M,e[3]=0,e[4]=(v-m)*k,e[5]=(1-(l+x))*k,e[6]=(y+p)*k,e[7]=0,e[8]=(d+g)*E,e[9]=(y-p)*E,e[10]=(1-(l+f))*E,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}},{key:"fromRotationTranslationScaleOrigin",value:function(e,t,n,i,o){var r=t[0],a=t[1],s=t[2],h=t[3],u=r+r,c=a+a,l=s+s,v=r*u,d=r*c,f=r*l,y=a*c,x=a*l,p=s*l,g=h*u,m=h*c,M=h*l,k=i[0],E=i[1],I=i[2],N=o[0],R=o[1],w=o[2];return e[0]=(1-(y+p))*k,e[1]=(d+M)*k,e[2]=(f-m)*k,e[3]=0,e[4]=(d-M)*E,e[5]=(1-(v+p))*E,e[6]=(x+g)*E,e[7]=0,e[8]=(f+m)*I,e[9]=(x-g)*I,e[10]=(1-(v+y))*I,e[11]=0,e[12]=n[0]+N-(e[0]*N+e[4]*R+e[8]*w),e[13]=n[1]+R-(e[1]*N+e[5]*R+e[9]*w),e[14]=n[2]+w-(e[2]*N+e[6]*R+e[10]*w),e[15]=1,e}},{key:"fromQuat",value:function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],a=n+n,s=i+i,h=o+o,u=n*a,c=i*a,l=i*s,v=o*a,d=o*s,f=o*h,y=r*a,x=r*s,p=r*h;return e[0]=1-l-f,e[1]=c+p,e[2]=v-x,e[3]=0,e[4]=c-p,e[5]=1-u-f,e[6]=d+y,e[7]=0,e[8]=v+x,e[9]=d-y,e[10]=1-u-l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"frustum",value:function(e,t,n,i,o,r,a){var s=1/(n-t),h=1/(o-i),u=1/(r-a);return e[0]=2*r*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*r*h,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(o+i)*h,e[10]=(a+r)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*r*2*u,e[15]=0,e}},{key:"perspective",value:function(e,t,n,i,o){var r=1/Math.tan(t/2),a=1/(i-o);return e[0]=r/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+i)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*i*a,e[15]=0,e}},{key:"targetTo",value:function(e,t,n,i){var o=t[0],r=t[1],a=t[2],s=i[0],h=i[1],u=i[2],c=o-n[0],l=r-n[1],v=a-n[2],d=c*c+l*l+v*v;d>0&&(c*=d=1/Math.sqrt(d),l*=d,v*=d);var f=h*v-u*l,y=u*c-s*v,x=s*l-h*c;return e[0]=f,e[1]=y,e[2]=x,e[3]=0,e[4]=l*x-v*y,e[5]=v*f-c*x,e[6]=c*y-l*f,e[7]=0,e[8]=c,e[9]=l,e[10]=v,e[11]=0,e[12]=o,e[13]=r,e[14]=a,e[15]=1,e}},{key:"str",value:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},{key:"frob",value:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}},{key:"add",value:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}},{key:"subtract",value:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}},{key:"multiplyScalar",value:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}},{key:"multiplyScalarAndAdd",value:function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e[9]=t[9]+n[9]*i,e[10]=t[10]+n[10]*i,e[11]=t[11]+n[11]*i,e[12]=t[12]+n[12]*i,e[13]=t[13]+n[13]*i,e[14]=t[14]+n[14]*i,e[15]=t[15]+n[15]*i,e}},{key:"exactEquals",value:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}},{key:"equals",value:function(t,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],h=t[5],u=t[6],c=t[7],l=t[8],v=t[9],d=t[10],f=t[11],y=t[12],x=t[13],p=t[14],g=t[15],m=n[0],M=n[1],k=n[2],E=n[3],I=n[4],N=n[5],R=n[6],w=n[7],A=n[8],O=n[9],P=n[10],T=n[11],C=n[12],b=n[13],L=n[14],_=n[15];return Math.abs(i-m)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-M)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(r-k)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(k))&&Math.abs(a-E)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(s-I)<=e.EPSILON*Math.max(1,Math.abs(s),Math.abs(I))&&Math.abs(h-N)<=e.EPSILON*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(u-R)<=e.EPSILON*Math.max(1,Math.abs(u),Math.abs(R))&&Math.abs(c-w)<=e.EPSILON*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(l-A)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(v-O)<=e.EPSILON*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(d-P)<=e.EPSILON*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(f-T)<=e.EPSILON*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(y-C)<=e.EPSILON*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(x-b)<=e.EPSILON*Math.max(1,Math.abs(x),Math.abs(b))&&Math.abs(p-L)<=e.EPSILON*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(g-_)<=e.EPSILON*Math.max(1,Math.abs(g),Math.abs(_))}},{key:"XRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return new Float32Array([1,0,0,0,0,t,n,0,0,-n,t,0,0,0,0,1])}},{key:"YRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return new Float32Array([t,0,-n,0,0,1,0,0,n,0,t,0,0,0,0,1])}},{key:"translate",value:function(e,t,n){var i,o,r,a,s,h,u,c,l,v,d,f,y=n[0],x=n[1],p=n[2];return t===e?(e[12]=t[0]*y+t[4]*x+t[8]*p+t[12],e[13]=t[1]*y+t[5]*x+t[9]*p+t[13],e[14]=t[2]*y+t[6]*x+t[10]*p+t[14],e[15]=t[3]*y+t[7]*x+t[11]*p+t[15]):(i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],h=t[5],u=t[6],c=t[7],l=t[8],v=t[9],d=t[10],f=t[11],e[0]=i,e[1]=o,e[2]=r,e[3]=a,e[4]=s,e[5]=h,e[6]=u,e[7]=c,e[8]=l,e[9]=v,e[10]=d,e[11]=f,e[12]=i*y+s*x+l*p+t[12],e[13]=o*y+h*x+v*p+t[13],e[14]=r*y+u*x+d*p+t[14],e[15]=a*y+c*x+f*p+t[15]),e}},{key:"Translate",value:function(t,n,i,o){return e.Multiply(t,e.Translation(n,i,o))}},{key:"Translation",value:function(e,t,n){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1])}},{key:"multiply",value:function(e,t,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],h=t[5],u=t[6],c=t[7],l=t[8],v=t[9],d=t[10],f=t[11],y=t[12],x=t[13],p=t[14],g=t[15],m=n[0],M=n[1],k=n[2],E=n[3];return e[0]=m*i+M*s+k*l+E*y,e[1]=m*o+M*h+k*v+E*x,e[2]=m*r+M*u+k*d+E*p,e[3]=m*a+M*c+k*f+E*g,m=n[4],M=n[5],k=n[6],E=n[7],e[4]=m*i+M*s+k*l+E*y,e[5]=m*o+M*h+k*v+E*x,e[6]=m*r+M*u+k*d+E*p,e[7]=m*a+M*c+k*f+E*g,m=n[8],M=n[9],k=n[10],E=n[11],e[8]=m*i+M*s+k*l+E*y,e[9]=m*o+M*h+k*v+E*x,e[10]=m*r+M*u+k*d+E*p,e[11]=m*a+M*c+k*f+E*g,m=n[12],M=n[13],k=n[14],E=n[15],e[12]=m*i+M*s+k*l+E*y,e[13]=m*o+M*h+k*v+E*x,e[14]=m*r+M*u+k*d+E*p,e[15]=m*a+M*c+k*f+E*g,e}},{key:"Multiply",value:function(e,t){var n=e[0],i=e[1],o=e[2],r=e[3],a=e[4],s=e[5],h=e[6],u=e[7],c=e[8],l=e[9],v=e[10],d=e[11],f=e[12],y=e[13],x=e[14],p=e[15],g=t[0],m=t[1],M=t[2],k=t[3],E=t[4],I=t[5],N=t[6],R=t[7],w=t[8],A=t[9],O=t[10],P=t[11],T=t[12],C=t[13],b=t[14],L=t[15];return new Float32Array([g*n+m*a+M*c+k*f,g*i+m*s+M*l+k*y,g*o+m*h+M*v+k*x,g*r+m*u+M*d+k*p,E*n+I*a+N*c+R*f,E*i+I*s+N*l+R*y,E*o+I*h+N*v+R*x,E*r+I*u+N*d+R*p,w*n+A*a+O*c+P*f,w*i+A*s+O*l+P*y,w*o+A*h+O*v+P*x,w*r+A*u+O*d+P*p,T*n+C*a+b*c+L*f,T*i+C*s+b*l+L*y,T*o+C*h+b*v+L*x,T*r+C*u+b*d+L*p])}},{key:"Inverse",value:function(e){var t=e[0],n=e[1],i=e[2],o=e[3],r=e[4],a=e[5],s=e[6],h=e[7],u=e[8],c=e[9],l=e[10],v=e[11],d=e[12],f=e[13],y=e[14],x=e[15],p=l*x,g=y*v,m=s*x,M=y*h,k=s*v,E=l*h,I=i*x,N=y*o,R=i*v,w=l*o,A=i*h,O=s*o,P=u*f,T=d*c,C=r*f,b=d*a,L=r*c,_=u*a,S=t*f,G=d*n,D=t*c,z=u*n,V=t*a,H=r*n,B=p*a+M*c+k*f-(g*a+m*c+E*f),F=g*n+I*c+w*f-(p*n+N*c+R*f),U=m*n+N*a+A*f-(M*n+I*a+O*f),Z=E*n+R*a+O*c-(k*n+w*a+A*c),W=1/(t*B+r*F+u*U+d*Z);return new Float32Array([W*B,W*F,W*U,W*Z,W*(g*r+m*u+E*d-(p*r+M*u+k*d)),W*(p*t+N*u+R*d-(g*t+I*u+w*d)),W*(M*t+I*r+O*d-(m*t+N*r+A*d)),W*(k*t+w*r+A*u-(E*t+R*r+O*u)),W*(P*h+b*v+L*x-(T*h+C*v+_*x)),W*(T*o+S*v+z*x-(P*o+G*v+D*x)),W*(C*o+G*h+V*x-(b*o+S*h+H*x)),W*(_*o+D*h+H*v-(L*o+z*h+V*v)),W*(C*l+_*y+T*s-(L*y+P*s+b*l)),W*(D*y+P*i+G*l-(S*l+z*y+T*i)),W*(S*s+H*y+b*i-(V*y+C*i+G*s)),W*(V*l+L*i+z*s-(D*s+H*l+_*i))])}},{key:"invert",value:function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],h=t[6],u=t[7],c=t[8],l=t[9],v=t[10],d=t[11],f=t[12],y=t[13],x=t[14],p=t[15],g=n*s-i*a,m=n*h-o*a,M=n*u-r*a,k=i*h-o*s,E=i*u-r*s,I=o*u-r*h,N=c*y-l*f,R=c*x-v*f,w=c*p-d*f,A=l*x-v*y,O=l*p-d*y,P=v*p-d*x,T=g*P-m*O+M*A+k*w-E*R+I*N;if(T)return T=1/T,e[0]=(s*P-h*O+u*A)*T,e[1]=(o*O-i*P-r*A)*T,e[2]=(y*I-x*E+p*k)*T,e[3]=(v*E-l*I-d*k)*T,e[4]=(h*w-a*P-u*R)*T,e[5]=(n*P-o*w+r*R)*T,e[6]=(x*M-f*I-p*m)*T,e[7]=(c*I-v*M+d*m)*T,e[8]=(a*O-s*w+u*N)*T,e[9]=(i*w-n*O-r*N)*T,e[10]=(f*E-y*M+p*g)*T,e[11]=(l*M-c*E-d*g)*T,e[12]=(s*R-a*A-h*N)*T,e[13]=(n*A-i*R+o*N)*T,e[14]=(y*m-f*k-x*g)*T,e[15]=(c*k-l*m+v*g)*T,e}},{key:"VectorMultiply",value:function(e,t){for(var n=[],i=0;i<4;++i){n[i]=0;for(var o=0;o<4;++o)n[i]+=e[o]*t[4*o+i]}return n}},{key:"subtractVectors",value:function(e,t){return new Float32Array([e[0]-t[0],e[1]-t[1],e[2]-t[2]])}},{key:"normalize",value:function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t>1e-5?new Float32Array([e[0]/t,e[1]/t,e[2]/t]):new Float32Array([0,0,0])}},{key:"cross",value:function(e,t){return new Float32Array([e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]])}}]),e}()).EPSILON=1e-6,(function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.call(this,16)).raw=void 0,e[0]=e[5]=e[10]=e[15]=1,e.raw=n.Identity(e.raw),e}return(0,i.Z)(n,[{key:"Translate",value:function(e){return n.Translate(this,e[0],e[1],e[2]),this}},{key:"ResetTranslation",value:function(){return this[12]=this[13]=this[14]=0,this[15]=1,this}},{key:"Reset",value:function(){for(var e=0;e<=this.length;e++)this[e]=e%5===0?1:0;return this}},{key:"Copy",value:function(e){for(var t=0;t<16;t++)this[t]=e[t];return this}}],[{key:"Identity",value:function(e){for(var t=0;t<=e.length;t++)e[t]=t%5===0?1:0;return e}},{key:"Perspective",value:function(e,t,n,i,o){var r=1/Math.tan(t/2),a=1/(i-o);e[0]=r/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+i)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*i*a,e[15]=0}},{key:"Ortho",value:function(e,t,n,i,o,r,a){var s=1/(t-n),h=1/(i-o),u=1/(r-a);e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(o+i)*h,e[14]=(a+r)*u,e[15]=1}},{key:"Transpose",value:function(e,t){if(e===t){var n=t[1],i=t[2],o=t[3],r=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=r,e[11]=t[14],e[12]=o,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},{key:"NormalMat3",value:function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],h=t[6],u=t[7],c=t[8],l=t[9],v=t[10],d=t[11],f=t[12],y=t[13],x=t[14],p=t[15],g=n*s-i*a,m=n*h-o*a,M=n*u-r*a,k=i*h-o*s,E=i*u-r*s,I=o*u-r*h,N=c*y-l*f,R=c*x-v*f,w=c*p-d*f,A=l*x-v*y,O=l*p-d*y,P=v*p-d*x,T=g*P-m*O+M*A+k*w-E*R+I*N;return T?(T=1/T,e[0]=(s*P-h*O+u*A)*T,e[1]=(h*w-a*P-u*R)*T,e[2]=(a*O-s*w+u*N)*T,e[3]=(o*O-i*P-r*A)*T,e[4]=(n*P-o*w+r*R)*T,e[5]=(i*w-n*O-r*N)*T,e[6]=(y*I-x*E+p*k)*T,e[7]=(x*M-f*I-p*m)*T,e[8]=(f*E-y*M+p*g)*T,e):null}},{key:"FromQuaternion",value:function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],a=n+n,s=i+i,h=o+o,u=n*a,c=n*s,l=n*h,v=i*s,d=i*h,f=o*h,y=r*a,x=r*s,p=r*h;return e[0]=1-(v+f),e[1]=c+p,e[2]=l-x,e[3]=0,e[4]=c-p,e[5]=1-(u+f),e[6]=d+y,e[7]=0,e[8]=l+x,e[9]=d-y,e[10]=1-(u+v),e[11]=0,e}},{key:"FromQuaternionTranslation",value:function(e,t,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=i+i,h=o+o,u=r+r,c=i*s,l=i*h,v=i*u,d=o*h,f=o*u,y=r*u,x=a*s,p=a*h,g=a*u;return e[0]=1-(d+y),e[1]=l+g,e[2]=v-p,e[3]=0,e[4]=l-g,e[5]=1-(c+y),e[6]=f+x,e[7]=0,e[8]=v+p,e[9]=f-x,e[10]=1-(c+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}},{key:"FromQuaternionTranslationScale",value:function(e,t,n,i){var o=t[0],r=t[1],a=t[2],s=t[3],h=o+o,u=r+r,c=a+a,l=o*h,v=o*u,d=o*c,f=r*u,y=r*c,x=a*c,p=s*h,g=s*u,m=s*c,M=i[0],k=i[1],E=i[2];return e[0]=(1-(f+x))*M,e[1]=(v+m)*M,e[2]=(d-g)*M,e[3]=0,e[4]=(v-m)*k,e[5]=(1-(l+x))*k,e[6]=(y+p)*k,e[7]=0,e[8]=(d+g)*E,e[9]=(y-p)*E,e[10]=(1-(l+f))*E,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}},{key:"GetTranslation",value:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}},{key:"GetScaling",value:function(e,t){var n=t[0],i=t[1],o=t[2],r=t[4],a=t[5],s=t[6],h=t[8],u=t[9],c=t[10];return e[0]=Math.sqrt(n*n+i*i+o*o),e[1]=Math.sqrt(r*r+a*a+s*s),e[2]=Math.sqrt(h*h+u*u+c*c),e}},{key:"GetRotation",value:function(e,t){var n=t[0]+t[5]+t[10],i=0;return n>0?(i=2*Math.sqrt(n+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}},{key:"MultiplyVector",value:function(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],a=e[0],s=e[1],h=e[2],u=e[3],c=e[4],l=e[5],v=e[6],d=e[7],f=e[8],y=e[9],x=e[10],p=e[11];return[n*a+i*c+o*f+r*e[12],n*s+i*l+o*y+r*e[13],n*h+i*v+o*x+r*e[14],n*u+i*d+o*p+r*e[15]]}},{key:"TransformVec4",value:function(e,t,n){return e[0]=n[0]*t[0]+n[4]*t[1]+n[8]*t[2]+n[12]*t[3],e[1]=n[1]*t[0]+n[5]*t[1]+n[9]*t[2]+n[13]*t[3],e[2]=n[2]*t[0]+n[6]*t[1]+n[10]*t[2]+n[14]*t[3],e[3]=n[3]*t[0]+n[7]*t[1]+n[11]*t[2]+n[15]*t[3],e}},{key:"TransformVec3",value:function(e,t,n){return e[0]=n[0]*t[0]+n[4]*t[1]+n[8]*t[2]+n[12],e[1]=n[1]*t[0]+n[5]*t[1]+n[9]*t[2]+n[13],e[2]=n[2]*t[0]+n[6]*t[1]+n[10]*t[2]+n[14],e[3]=n[3]*t[0]+n[7]*t[1]+n[11]*t[2]+n[15],e}},{key:"Mult",value:function(e,t,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],h=t[5],u=t[6],c=t[7],l=t[8],v=t[9],d=t[10],f=t[11],y=t[12],x=t[13],p=t[14],g=t[15],m=n[0],M=n[1],k=n[2],E=n[3];return e[0]=m*i+M*s+k*l+E*y,e[1]=m*o+M*h+k*v+E*x,e[2]=m*r+M*u+k*d+E*p,e[3]=m*a+M*c+k*f+E*g,m=n[4],M=n[5],k=n[6],E=n[7],e[4]=m*i+M*s+k*l+E*y,e[5]=m*o+M*h+k*v+E*x,e[6]=m*r+M*u+k*d+E*p,e[7]=m*a+M*c+k*f+E*g,m=n[8],M=n[9],k=n[10],E=n[11],e[8]=m*i+M*s+k*l+E*y,e[9]=m*o+M*h+k*v+E*x,e[10]=m*r+M*u+k*d+E*p,e[11]=m*a+M*c+k*f+E*g,m=n[12],M=n[13],k=n[14],E=n[15],e[12]=m*i+M*s+k*l+E*y,e[13]=m*o+M*h+k*v+E*x,e[14]=m*r+M*u+k*d+E*p,e[15]=m*a+M*c+k*f+E*g,e}},{key:"scale",value:function(e,t,n,i){return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e[4]*=n,e[5]*=n,e[6]*=n,e[7]*=n,e[8]*=i,e[9]*=i,e[10]*=i,e[11]*=i,e}},{key:"RotateY",value:function(e,t){var n=Math.sin(t),i=Math.cos(t),o=e[0],r=e[1],a=e[2],s=e[3],h=e[8],u=e[9],c=e[10],l=e[11];return e[0]=o*i-h*n,e[1]=r*i-u*n,e[2]=a*i-c*n,e[3]=s*i-l*n,e[8]=o*n+h*i,e[9]=r*n+u*i,e[10]=a*n+c*i,e[11]=s*n+l*i,e}},{key:"RotateX",value:function(e,t){var n=Math.sin(t),i=Math.cos(t),o=e[4],r=e[5],a=e[6],s=e[7],h=e[8],u=e[9],c=e[10],l=e[11];return e[4]=o*i+h*n,e[5]=r*i+u*n,e[6]=a*i+c*n,e[7]=s*i+l*n,e[8]=h*i-o*n,e[9]=u*i-r*n,e[10]=c*i-a*n,e[11]=l*i-s*n,e}},{key:"RotateZ",value:function(e,t){var n=Math.sin(t),i=Math.cos(t),o=e[0],r=e[1],a=e[2],s=e[3],h=e[4],u=e[5],c=e[6],l=e[7];return e[0]=o*i+h*n,e[1]=r*i+u*n,e[2]=a*i+c*n,e[3]=s*i+l*n,e[4]=h*i-o*n,e[5]=u*i-r*n,e[6]=c*i-a*n,e[7]=l*i-s*n,e}},{key:"Rotate",value:function(e,t,n){var i,o,r,a,s,h,u,c,l,v,d,f,y,x,p,g,m,M,k,E,I,N,R,w,A=n[0],O=n[1],P=n[2],T=Math.sqrt(A*A+O*O+P*P);return Math.abs(T)<1e-6?null:(A*=T=1/T,O*=T,P*=T,i=Math.sin(t),r=1-(o=Math.cos(t)),a=e[0],s=e[1],h=e[2],u=e[3],c=e[4],l=e[5],v=e[6],d=e[7],f=e[8],y=e[9],x=e[10],p=e[11],g=A*A*r+o,m=O*A*r+P*i,M=P*A*r-O*i,k=A*O*r-P*i,E=O*O*r+o,I=P*O*r+A*i,N=A*P*r+O*i,R=O*P*r-A*i,w=P*P*r+o,e[0]=a*g+c*m+f*M,e[1]=s*g+l*m+y*M,e[2]=h*g+v*m+x*M,e[3]=u*g+d*m+p*M,e[4]=a*k+c*E+f*I,e[5]=s*k+l*E+y*I,e[6]=h*k+v*E+x*I,e[7]=u*k+d*E+p*I,e[8]=a*N+c*R+f*w,e[9]=s*N+l*R+y*w,e[10]=h*N+v*R+x*w,e[11]=u*N+d*R+p*w,e)}},{key:"Invert",value:function(e,t){void 0===t&&(t=e);var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],h=t[6],u=t[7],c=t[8],l=t[9],v=t[10],d=t[11],f=t[12],y=t[13],x=t[14],p=t[15],g=n*s-i*a,m=n*h-o*a,M=n*u-r*a,k=i*h-o*s,E=i*u-r*s,I=o*u-r*h,N=c*y-l*f,R=c*x-v*f,w=c*p-d*f,A=l*x-v*y,O=l*p-d*y,P=v*p-d*x,T=g*P-m*O+M*A+k*w-E*R+I*N;return!!T&&(T=1/T,e[0]=(s*P-h*O+u*A)*T,e[1]=(o*O-i*P-r*A)*T,e[2]=(y*I-x*E+p*k)*T,e[3]=(v*E-l*I-d*k)*T,e[4]=(h*w-a*P-u*R)*T,e[5]=(n*P-o*w+r*R)*T,e[6]=(x*M-f*I-p*m)*T,e[7]=(c*I-v*M+d*m)*T,e[8]=(a*O-s*w+u*N)*T,e[9]=(i*w-n*O-r*N)*T,e[10]=(f*E-y*M+p*g)*T,e[11]=(l*M-c*E-d*g)*T,e[12]=(s*R-a*A-h*N)*T,e[13]=(n*A-i*R+o*N)*T,e[14]=(y*m-f*k-x*g)*T,e[15]=(c*k-l*m+v*g)*T,!0)}},{key:"Translate",value:function(e,t,n,i){e[12]=e[0]*t+e[4]*n+e[8]*i+e[12],e[13]=e[1]*t+e[5]*n+e[9]*i+e[13],e[14]=e[2]*t+e[6]*n+e[10]*i+e[14],e[15]=e[3]*t+e[7]*n+e[11]*i+e[15]}}]),n}((0,h.Z)(Float32Array))).deg2Rad=Math.PI/180;var c;Float32Array;!function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE"}(c||(c={}));var l,v=function(){function e(){(0,o.Z)(this,e),this.indexSource=0,this.indexDestination=1,this.glSource=void 0,this.glDestination=void 0,this.indexSource=6,this.indexDestination=1,this.glSource=c[e.glBlendingArray[this.indexSource]],this.glDestination=c[e.glBlendingArray[this.indexDestination]]}return(0,i.Z)(e,[{key:"ShiftSource",value:function(){++this.indexSource===e.glBlendingArray.length&&(this.indexSource=0),this.glSource=c[e.glBlendingArray[this.indexSource]],this.GetLog()}},{key:"ShiftDestination",value:function(){++this.indexDestination===e.glBlendingArray.length&&(this.indexDestination=0),this.glDestination=c[e.glBlendingArray[this.indexDestination]],this.GetLog()}},{key:"GetLog",value:function(){console.log(e.glBlendingArray[this.indexSource],"|",e.glBlendingArray[this.indexDestination])}},{key:"UpdateBlending",value:function(e){e.blendFunc(this.glSource,this.glDestination)}}],[{key:"GLBlendingType",value:function(e,t,n){e.blendFunc(t,n)}},{key:"GetSourceBlendingInOrder",value:function(){}},{key:"GetDestinationBlendingInOrder",value:function(){}}]),e}();v.numSource=0,v.numDestination=0,v.glBlendingArray=["ZERO","ONE","SRC_COLOR","ONE_MINUS_SRC_COLOR","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","DST_ALPHA","ONE_MINUS_DST_ALPHA","CONSTANT_COLOR","ONE_MINUS_CONSTANT_COLOR","CONSTANT_ALPHA","ONE_MINUS_CONSTANT_ALPHA","SRC_ALPHA_SATURATE"],function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(l||(l={}));n(20028);var d,f,y=n(37762);!function(e){e.METER="METER",e.KILOMETER="KILOMETER",e.CENTIMETER="CENTIMETER",e.MILLIMETER="MILLIMETER",e.MICROMETER="MICROMETER",e.NANOMETER="NANOMETER",e.MILE="MILE",e.YARD="YARD",e.FOOT="FOOT",e.INCH="INCH"}(d||(d={})),function(e){e.METER="METER",e.KM="KM",e.MILE="MILE"}(f||(f={}));var x=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,null,[{key:"Series",value:function(){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[],i=0;i<e;i+=t)n.push(i);return n}},{key:"Range",value:function(){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=[],i=e/t,o=0;o<e;o+=i)n.push(o);return n}},{key:"Playground",value:function(){}},{key:"DigitGenerator",value:function(e){for(var t=e;e;)t+=Math.floor(e%10),e=Math.floor(e/10);return t}},{key:"ReMapNomalize",value:function(t){var n,i=[],o=e.GetDomain(t),r=(0,y.Z)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;i.push((a-o[0])/(o[1]-o[0]))}}catch(s){r.e(s)}finally{r.f()}return i}},{key:"Remaps",value:function(t,n,i,o,r){var a,s=[],h=(0,y.Z)(t);try{for(h.s();!(a=h.n()).done;){var u=a.value;s.push(e.Remap(u,n,i,o,r))}}catch(c){h.e(c)}finally{h.f()}return s}},{key:"Remap",value:function(e,t,n,i,o){return(e-t)*(o-i)/(n-t)+i}},{key:"GetDomain",value:function(e){var t,n=Number.MAX_VALUE,i=Number.MIN_VALUE,o=(0,y.Z)(e);try{for(o.s();!(t=o.n()).done;){var r=t.value;n>r&&(n=r),i<r&&(i=r)}}catch(a){o.e(a)}finally{o.f()}return[n,i]}},{key:"GetIndexBySort",value:function(e){for(var t=e.length,n=new Array(t),i=0;i<t;++i)n[i]=i;return n.sort((function(t,n){return e[t]<e[n]?-1:e[t]>e[n]?1:0})),n}},{key:"GetMaxIndex",value:function(e){for(var t=-1,n=Number.MIN_SAFE_INTEGER,i=0;i<e.length;++i)n<e[i]&&(n=e[i],t=i);return t}},{key:"GetRatioByWidthHidthByWidths",value:function(e,t,n){return[n,t*(n/e)]}},{key:"GetRatioByWidthHidthByHeight",value:function(e,t,n){return[e*(n/t),n]}},{key:"GetRatioByNewWidth",value:function(e,t,n){return[n,t*(n/e)]}},{key:"GetRatioByNewHeight",value:function(e,t,n){return[e*(n/t),n]}},{key:"IsContainNagativeNumber",value:function(e){for(var t=0;t<e.length;++t)if(e[t]<0)return!0;return!1}},{key:"RemapMeterFromGPSPos",value:function(e,t,n,i){var o=n*Math.PI/180-e*Math.PI/180,r=i*Math.PI/180-t*Math.PI/180,a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 1e3*(6378.137*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))))}},{key:"GetKilogramFromNewton",value:function(e){return.10197162129779283*e}},{key:"GetNewtonFromKilogram",value:function(e){return 9.80665*e}},{key:"ReMapMileFromMeter",value:function(e){return 621371e-9*e}},{key:"ReMapMeterFromMile",value:function(e){return 1609.34*e}},{key:"ConverterUnitLength",value:function(e,t,n){switch(t){case d.NANOMETER:return 1e9*e;case d.MICROMETER:return 1e6*e;case d.MILLIMETER:return 1e3*e;case d.CENTIMETER:return 100*e;case d.METER:return e;case d.INCH:return 39.37007874*e;case d.FOOT:return 3.280839895*e;case d.YARD:return 1.0936132983*e;case d.MILE:return.0006213689*e;case d.KILOMETER:return.001*e;default:return e}}},{key:"ConverterUnitLengthFromMeter",value:function(e,t){switch(t){case d.NANOMETER:return 1e9*e;case d.MICROMETER:return 1e6*e;case d.MILLIMETER:return 1e3*e;case d.CENTIMETER:return 100*e;case d.METER:return e;case d.INCH:return 39.37007874*e;case d.FOOT:return 3.280839895*e;case d.YARD:return 1.0936132983*e;case d.MILE:return.0006213689*e;case d.KILOMETER:return.001*e;default:return e}}},{key:"MilesFromMeters",value:function(e){return 62137e-8*e}},{key:"MilesFromKM",value:function(e){return.62137119*e}},{key:"Radians",value:function(e){return.017453292519943278*e}},{key:"Degrees",value:function(e){return 57.29577951308238*e}},{key:"GetRandom",value:function(){return Math.random()}},{key:"GetRandomArbitrary",value:function(e,t){return Math.random()*(t-e)+e}},{key:"GetRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}},{key:"GetRandomIntFromRenage",value:function(e){return Math.floor(Math.random()*e)}},{key:"GetRandomIntsInclusive",value:function(e,t,n){for(var i=[],o=0;o<n;++o)i.push(this.GetRandomIntInclusive(e,t));return i}},{key:"GetRandomIntInclusive",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"GetRandomItemWithStringList",value:function(e){return e[Math.floor(Math.random()*e.length)]}},{key:"GetUUID",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}},{key:"Clamp",value:function(e,t,n){return Math.max(t,Math.min(n,e))}},{key:"SmoothStep",value:function(e,t,n){var i=Math.max(0,Math.min(1,(n-e)/(t-e)));return i*i*(3-2*i)}},{key:"Lerp",value:function(e,t,n){return e+n*(t-e)}},{key:"ClosestPointToLine2D",value:function(e,t,n,i,o,r){var a=n-e,s=i-t,h=((o-e)*a+(r-t)*s)/(a*a+s*s);return[e+a*h,t+s*h]}},{key:"LinearInterpolate",value:function(e,t,n){return e+(t-e)*n}},{key:"GetInterpolatedArray",value:function(e,t){var n=new Array,i=(e.length-1)/(t-1);n[0]=e[0];for(var o=1;o<t-1;o++){var r=o*i,a=+Math.floor(r).toFixed(),s=+Math.ceil(r).toFixed(),h=r-a;n[o]=this.LinearInterpolate(e[a],e[s],h)}return n[t-1]=e[e.length-1],n}},{key:"RemapLongToSurface",value:function(e,t,n){return(e- -180)*(n-t)/360+t}},{key:"RemapLatToSurface",value:function(e,t,n){return(e- -90)*(n-t)/180+t}},{key:"RemapLongToSurfaceNormal",value:function(e){return 1*(e- -180)/360}},{key:"RemapLatToSurfaceNormal",value:function(e){return 1*(e- -90)/180}},{key:"RemapLong",value:function(e){return(e+180)*Math.PI*2/360*-1}},{key:"RemapLat",value:function(e){return(e+90)*Math.PI/180}},{key:"GetRadiusByArea",value:function(e){return Math.sqrt(e/Math.PI)}},{key:"GetRadiusByCircumference",value:function(e){return e/Math.PI*.5}}]),e}();x.DEG2RAD=Math.PI/180,x.RAD2DEG=180/Math.PI;var p=n(82953),g=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,i){var r;return(0,o.Z)(this,n),(r=t.call(this)).p0=void 0,r.p1=void 0,r.p0=e,r.p1=i,r}return(0,i.Z)(n,[{key:"Render",value:function(e){e.lineWidth=.5,e.strokeStyle="red",e.beginPath(),e.moveTo(this.p0.x,this.p0.y),e.lineTo(this.p1.x,this.p1.y),e.closePath(),e.stroke()}},{key:"DistanceToPoint",value:function(e){var t=(this.p1.y-this.p0.y)/(this.p1.x-this.p0.x),n=this.p0.y-t*this.p0.x,i=[];return i.push(Math.abs(e.y-t*e.x-n)/Math.sqrt(Math.pow(t,2)+1)),i.push(Math.sqrt(Math.pow(e.x-this.p0.x,2)+Math.pow(e.y-this.p0.y,2))),i.push(Math.sqrt(Math.pow(e.x-this.p1.x,2)+Math.pow(e.y-this.p1.y,2))),i.sort((function(e,t){return e-t}))[0]}},{key:"PointCloseToLine",value:function(e){var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/(t*t+n*n);return[x.Lerp(this.p0.x,this.p1.x,i),x.Lerp(this.p0.y,this.p1.y,i)]}},{key:"GetLog",value:function(){throw new Error("Method not implemented.")}},{key:"RenderPost",value:function(e){throw new Error("Method not implemented.")}},{key:"IsMouseInside",value:function(e,t){throw new Error("Method not implemented.")}},{key:"Translate",value:function(e,t){throw new Error("Method not implemented.")}},{key:"Move",value:function(e,t){throw new Error("Method not implemented.")}},{key:"Remove",value:function(){throw new Error("Method not implemented.")}},{key:"Hide",value:function(){throw new Error("Method not implemented.")}}],[{key:"GetLineFromVecs",value:function(e){for(var t=[],i=0;i<e.length;++i)i===e.length-1?t.push(new n(e[i],e[0])):t.push(new n(e[i],e[i+1]));return t}},{key:"GetUnOverlapWithLines",value:function(e,t){for(var i=[],o=[],r=0;r<e.length;++r){i.push(!1);for(var a=0;a<t.length;++a)n.IsOverlap(e[r],t[a])&&(i[r]=!0)}for(var s=0;s<i.length;++s)i[s]||o.push(e[s]);return o}},{key:"IsOverlap",value:function(e,t){return!(!e.p0.IsOverlap(t.p0)||!e.p1.IsOverlap(t.p1))||!(!e.p0.IsOverlap(t.p1)||!e.p1.IsOverlap(t.p0))}},{key:"RemoveOverlapWithLines",value:function(e){for(var t=[],i=[],o=0;o<e.length;++o){t.push(0);for(var r=o+1;r<e.length;++r)n.IsOverlap(e[o],e[r])&&t[o]++}for(var a=0;a<t.length;++a)0===t[a]&&i.push(e[a]);return i}}]),n}((0,i.Z)((function e(){(0,o.Z)(this,e),this.vec=new p.h(0,0,0)}))),m=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,null,[{key:"GetGridArray",value:function(e,t,n,i,o,r){for(var a=new Float32Array(e*t*2),s=(o-n)/(e-1),h=(r-i)/(t-1),u=0,c=0;c<t;++c)for(var l=h*c+i,v=0;v<e;++v){var d=s*v+n;a[u++]=d,a[u++]=l}return a}},{key:"GetGridVec",value:function(e,t,n,i,o,r){for(var a=[],s=(o-n)/(e-1),h=(r-i)/(t-1),u=0;u<t;++u)for(var c=h*u+i,l=0;l<e;++l){var v=s*l+n;a.push(new p.h(v,c))}return a}},{key:"GetGridVec3d",value:function(e,t,n,i,o,r,a,s,h){for(var u=[],c=(a-i)/(e-1),l=(s-o)/(t-1),v=(h-r)/(n-1),d=0;d<n;++d)for(var f=v*d+r,y=0;y<t;++y)for(var x=l*y+o,g=0;g<e;++g){var m=c*g+i;u.push(new p.h(m,x,f))}return u}},{key:"GetLineGridVec",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=[];e-=1,t-=1;for(var r=new p.h(.5*-e*n,.5*-t*i,0),a=new p.h(.5*e*n,.5*t*i,0),s=0;s<=t;++s){var h=new p.h(r.x+s*n,r.y,0),u=new p.h(r.x+s*n,a.y,0),c=new g(h,u);o.push(c),h=new p.h(r.x,r.y+s*i,0),u=new p.h(a.x,r.y+s*i,0),c=new g(h,u),o.push(c)}return o}},{key:"GetCircleVec",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:360,r=[e,t],a=360/o,s=0;s<=360;s+=a){var h=s*Math.PI/180,u=e+Math.sin(h)*n,c=t+Math.cos(h)*i;r.push(u,c)}return new Float32Array(r)}},{key:"GetCircleVec3d",value:function(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:360,a=[e,t,n],s=360/r,h=0;h<=360;h+=s){var u=h*Math.PI/180,c=e+Math.sin(u)*i,l=t+Math.cos(u)*o,v=n;a.push(c,l,v)}return new Float32Array(a)}},{key:"GetSpherec3d",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=[],n=0;n<6.28;n+=.1)for(var i=0;i<3.14;i+=.1){var o=e*Math.cos(n)*Math.sin(i),r=e*Math.sin(n)*Math.sin(i),a=e*Math.cos(i);t.push(o,r,a)}return new Float32Array(t)}},{key:"GetArcVec",value:function(e,t,n,i,o){for(var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,a=[new p.h(e,t)],s=2*Math.PI*n+.5*Math.PI,h=2*Math.PI*i+.5*Math.PI,u=(h-s)/r,c=s;c<=h+.001;c+=u){var l=e+Math.sin(c)*o,v=t-Math.cos(c)*o;a.push(new p.h(l,v))}return a}},{key:"GetSpherecVecs3d",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=[],o=2*Math.PI/e,r=Math.PI/t,a=0;a<2*Math.PI;a+=o)for(var s=0;s<Math.PI;s+=r){var h=n*Math.cos(a)*Math.sin(s),u=n*Math.sin(a)*Math.sin(s),c=n*Math.cos(s);i.push(new p.h(h,u,c))}return i}},{key:"GetSpherecVecs3dRandom",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],i=0;i<e;++i){var o=2*Math.PI*Math.random(),r=Math.PI*Math.random(),a=t*Math.cos(o)*Math.sin(r),s=t*Math.sin(o)*Math.sin(r),h=t*Math.cos(r);n.push(new p.h(a,s,h))}return n}},{key:"GetSpherecVecs3dRandomWithThicknessOffset",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=[],o=0;o<e;o++){var r=Math.random()*Math.PI*2,a=(1-Math.sqrt(Math.random()))*Math.PI/2*(Math.random()>.5?1:-1),s=Math.cos(r)*Math.cos(a),h=Math.sin(a),u=Math.sin(r)*Math.cos(a),c=new p.h(s,h,u);c.Mult(t+(Math.random()-.5)*n),i.push(c)}return i}},{key:"GetSpherecVecs3dForWire",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=[],o=2*Math.PI/e,r=Math.PI/t,a=0;a<Math.PI;a+=r)for(var s=0;s<2*Math.PI;s+=o){var h=n*Math.cos(s)*Math.sin(a),u=n*Math.sin(s)*Math.sin(a),c=n*Math.cos(a);i.push(new p.h(h,u,c))}for(var l=0;l<2*Math.PI;l+=o)for(var v=0;v<Math.PI;v+=r){var d=n*Math.cos(l)*Math.sin(v),f=n*Math.sin(l)*Math.sin(v),y=n*Math.cos(v);i.push(new p.h(d,f,y))}return i}},{key:"GetPoints3dProjectedToGlobe",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=[],r=0;r<e.length-3;r+=3){var a=x.RemapLong(e[r]),s=x.RemapLat(e[r+1]),h=e[r+2],u=t*Math.cos(a)*Math.sin(s),c=t*Math.sin(a)*Math.sin(s),l=t*Math.cos(s),v=new p.h(u,c,l);if(n){var d=h*i,f=p.h.Normalize(v).Mult(d);v.Add(f)}o.push(v)}return o}},{key:"GetPoint3dProjectedToGlobeByVecs",value:function(e){for(var t=[],n=0;n<e.length;++n)t.push(this.GetPoint3dProjectedToGlobeByVec(e[n].x,e[n].y));return t}},{key:"GetPoint3dProjectedToGlobeByVec",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,a=x.RemapLong(e),s=x.RemapLat(t),h=n,u=i*Math.cos(a)*Math.sin(s),c=i*Math.sin(a)*Math.sin(s),l=i*Math.cos(s),v=new p.h(u,c,l);if(o){var d=h*r,f=p.h.Normalize(v).Mult(d);v.Add(f)}return v}},{key:"GetLineVecProjectedToGlobe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=[],i=x.RemapLong(e.x),o=x.RemapLat(e.y),r=e.z,a=r*Math.cos(i)*Math.sin(o),s=r*Math.sin(i)*Math.sin(o),h=r*Math.cos(o);return n.push(new p.h(a,s,h)),a=(r=e.z+t)*Math.cos(i)*Math.sin(o),s=r*Math.sin(i)*Math.sin(o),h=r*Math.cos(o),n.push(new p.h(a,s,h)),n}}]),e}(),M=n(33803),k=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,null,[{key:"Scale",value:function(t){return.2*(Math.sin(e.t)+5)*t}},{key:"ScaleLocalT",value:function(e,t){return.2*(Math.sin(t)+5)*e}},{key:"ScaleMin",value:function(t){return(.02*(Math.sin(e.t)+5)+.9)*t}},{key:"ScaleMinOfMin",value:function(e){return Math.cos(e)}},{key:"ScaleMinLocalT",value:function(e,t){return(.02*(Math.sin(t)+5)+.9)*e}},{key:"linear",value:function(e){return e}},{key:"EaseInQuad",value:function(e){return e*e}},{key:"EaseOutQuad",value:function(e){return e*(2-e)}},{key:"EaseInOutQuad",value:function(e){return e<.5?2*e*e:(4-2*e)*e-1}},{key:"EaseInCubic",value:function(e){return e*e*e}},{key:"EaseOutCubic",value:function(e){return--e*e*e+1}},{key:"EaseInOutCubic",value:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}},{key:"EaseInQuart",value:function(e){return e*e*e*e}},{key:"EaseOutQuart",value:function(e){return 1- --e*e*e*e}},{key:"EaseInOutQuart",value:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},{key:"EaseInQuint",value:function(e){return e*e*e*e*e}},{key:"EaseOutQuint",value:function(e){return 1+--e*e*e*e*e}},{key:"EaseInOutQuint",value:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},{key:"EaseInElastic",value:function(e){return(.04-.04/e)*Math.sin(25*e)+1}},{key:"EaseOutElastic",value:function(e){return.04*e/--e*Math.sin(25*e)}},{key:"EaseInOutElastic",value:function(e){return(e-=.5)<0?(.01+.01/e)*Math.sin(50*e):(.02-.01/e)*Math.sin(50*e)+1}},{key:"easeOutElastic2",value:function(e){return Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1}},{key:"easeInSine",value:function(e){return-1*Math.cos(e*(Math.PI/2))+1}},{key:"easeOutSine",value:function(e){return Math.sin(e*(Math.PI/2))}},{key:"easeInOutSine",value:function(e){return-.5*(Math.cos(Math.PI*e)-1)}},{key:"easeInQuad",value:function(e){return e*e}},{key:"easeOutQuad",value:function(e){return e*(2-e)}},{key:"easeInOutQuad",value:function(e){return e<.5?2*e*e:(4-2*e)*e-1}},{key:"easeInCubic",value:function(e){return e*e*e}},{key:"easeOutCubic",value:function(e){var t=e-1;return t*t*t+1}},{key:"easeInOutCubic",value:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}},{key:"easeInQuart",value:function(e){return e*e*e*e}},{key:"easeOutQuart",value:function(e){var t=e-1;return 1-t*t*t*t}},{key:"easeInOutQuart",value:function(e){var t=e-1;return e<.5?8*e*e*e*e:1-8*t*t*t*t}},{key:"easeInQuint",value:function(e){return e*e*e*e*e}},{key:"easeOutQuint",value:function(e){var t=e-1;return 1+t*t*t*t*t}},{key:"easeInOutQuint",value:function(e){var t=e-1;return e<.5?16*e*e*e*e*e:1+16*t*t*t*t*t}},{key:"easeInExpo",value:function(e){return 0===e?0:Math.pow(2,10*(e-1))}},{key:"easeOutExpo",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"easeInOutExpo",value:function(e){if(0===e||1===e)return e;var t=2*e,n=t-1;return t<1?.5*Math.pow(2,10*n):.5*(2-Math.pow(2,-10*n))}},{key:"easeInCirc",value:function(e){var t=e/1;return-1*(Math.sqrt(1-t*e)-1)}},{key:"easeOutCirc",value:function(e){var t=e-1;return Math.sqrt(1-t*t)}},{key:"easeInOutCirc",value:function(e){var t=2*e,n=t-2;return t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-n*n)+1)}},{key:"easeInBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158;return e*e*((t+1)*e-t)}},{key:"easeOutBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158,n=e/1-1;return n*n*((t+1)*n+t)+1}},{key:"easeInOutBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158,n=2*e,i=n-2,o=1.525*t;return n<1?.5*n*n*((o+1)*n-o):.5*(i*i*((o+1)*i+o)+2)}},{key:"easeInElastic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;if(0===e||1===e)return e;var n=e/1,i=n-1,o=1-t,r=o/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*i)*Math.sin((i-r)*(2*Math.PI)/o)}},{key:"easeOutElastic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7,n=1-t,i=2*e;if(0===e||1===e)return e;var o=n/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*i)*Math.sin((i-o)*(2*Math.PI)/n)+1}},{key:"easeInOutElastic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.65,n=1-t;if(0===e||1===e)return e;var i=2*e,o=i-1,r=n/(2*Math.PI)*Math.asin(1);return i<1?Math.pow(2,10*o)*Math.sin((o-r)*(2*Math.PI)/n)*-.5:Math.pow(2,-10*o)*Math.sin((o-r)*(2*Math.PI)/n)*.5+1}},{key:"easeOutBounce",value:function(e){var t=e/1;if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75){var n=t-1.5/2.75;return 7.5625*n*n+.75}if(t<2.5/2.75){var i=t-2.25/2.75;return 7.5625*i*i+.9375}var o=t-2.625/2.75;return 7.5625*o*o+.984375}},{key:"easeInBounce",value:function(t){return 1-e.easeOutBounce(1-t)}},{key:"easeInOutBounce",value:function(t){return t<.5?.5*e.easeInBounce(2*t):.5*e.easeOutBounce(2*t-1)+.5}},{key:"Easing",value:function(){}},{key:"Update",value:function(){e.t+=.05}}]),e}();k.t=0;var E,I,N,R,w,A,O,P,T,C,b,L,_,S,G,D,z,V,H,B,F,U,Z,W,X,Y,q,j,J,K=function(){function e(){(0,o.Z)(this,e),this.now=void 0,this.delta=void 0,this.frameRate=void 0,this.last=0,this.timeLastRender=void 0,this.msLoop=void 0}return(0,i.Z)(e,[{key:"UpdateFPS",value:function(){this.now=window.performance.now(),this.msLoop=this.now-this.last,this.last=this.now,this.delta=this.delta+Math.min(1,this.msLoop/1e3),this.delta>this.frameRate&&(this.delta=this.delta-this.frameRate),this.delta=(Date.now()-this.timeLastRender)/1e3,this.timeLastRender=Date.now(),this.frameRate=1/this.delta}},{key:"dt",get:function(){return this.delta}}]),e}();!function(e){e.WALLPAPER2D="WALLPAPER2D",e.ANNOTATION2D="ANNOTATION2D",e.ANNOTATION3D="ANNOTATION3D",e.WALLPAPER3D="WALLPAPER3D",e.DRAWINGTOOL2D="DRAWINGTOOL2D",e.DRAWINGTOOL3D="DRAWINGTOOL3D"}(E||(E={})),function(e){e.SMARTDRAWING="SMARTDRAWING",e.MAPFILTER="MAPFILTER",e.MAPTICON="MAPTICON",e.DRAWINGBLOCK="DRAWINGBLOCK"}(I||(I={})),function(e){e.NONE="NONE",e.SELECT="SELECT",e.REMOVE="REMOVE"}(N||(N={})),function(e){e.NONE="NONE",e.DEEP_LEARNING="DEEP_LEARNING"}(R||(R={})),function(e){e.ERASER="ERASER",e.NONE="NONE",e.SIMPLE_PENCIL="SIMPLE_PENCIL",e.SIMPLE_MULT_PENCIL="SIMPLE_MULT_PENCIL",e.BRUSH_PENCIL="BRUSH_PENCIL",e.FUR_PENCIL="FUR_PENCIL",e.FUR_PENCIL_TEXTURE="FUR_PENCIL_TEXTURE",e.BRAID_PENCIL="BRAID_PENCIL",e.STAR_PENCIL="STAR_PENCIL",e.MULTIPLE_LINE_PENCIL="MULTIPLE_LINE_PENCIL",e.RANDOM_RADIUS_PENCIL="RANDOM_RADIUS_PENCIL",e.COLORED_PIXELS_PENCIL="COLORED_PIXELS_PENCIL",e.PATTERN_BASED_PENCIL="PATTERN_BASED_PENCIL",e.SHAPED_PENCIL="SHAPED_PENCIL"}(w||(w={})),function(e){e.MERCATOR="MERCATOR",e.SPHERICALPROJECTION="SPHERICALPROJECTION",e.ORTHOGRAPHIC="ORTHOGRAPHIC",e.CONIC_EQUAL_AREA="CONIC_EQUAL_AREA",e.CONIC_EQUI_DISTANT="CONIC_EQUI_DISTANT",e.EQUAL_EARTH="EQUAL_EARTH",e.EQUI_RECTANGULAR="EQUI_RECTANGULAR",e.GNOMONIC="GNOMONIC",e.CONIC_CONFORMAL="CONIC_CONFORMAL",e.STEREO_GRAPHIC="STEREO_GRAPHIC",e.ALBERS_USA="ALBERS_USA"}(A||(A={})),function(e){e.NONE="NONE",e.SELECT="SELECT",e.REMOVE="REMOVE",e.SELECT_RECT="SELECT_RECT",e.SELECT_LASSO="SELECT_LASSO",e.MOVE_EASEING="MOVE_EASEING",e.UNDO="UNDO",e.REDO="REDO",e.POINT_REGULAR="POINT_REGULAR",e.POINT_NUMBERED="POINT_NUMBERED",e.POLYLINE="POLYLINE",e.FREEHAND_POLYLINE_BENDING="FREEHAND_POLYLINE_BENDING",e.POLYLINE_CONSTRAINT="POLYLINE_CONSTRAINT",e.POLYGON="POLYGON",e.POLYGON_GRAPH="POLYGON_GRAPH",e.POLYGON_MULTIPLE="POLYGON_MULTIPLE",e.POLYGON_CONSTRAINT="POLYGON_CONSTRAINT",e.POLYLINE_BENDING="POLYLINE_BENDING",e.LINE_GRAPH="LINE_GRAPH",e.CIRCLE="CIRCLE",e.CIRCLE_CONSTRAINT_AREA="CIRCLE_CONSTRAINT_AREA",e.CIRCLE_CONSTRAINT_CIRCUMFERENCE="CIRCLE_CONSTRAINT_CIRCUMFERENCE",e.RECTANGLE="RECTANGLE",e.POINT_ICON="POINT_ICON",e.TEXT="TEXT",e.TEXT_LEADERLINE="TEXT_LEADERLINE",e.ARROW_SINGLE="ARROW_SINGLE",e.ARROW_DOUBLE="ARROW_DOUBLE",e.CURVE="CURVE",e.CURVE_OPEN="CURVE_OPEN",e.CURVE_CLOSE="CURVE_CLOSE",e.FREEHAND_POLYLINE="FREEHAND_POLYLINE",e.FREEHAND_POLYGON="FREEHAND_POLYGON",e.FREEHAND_CURVE="FREEHAND_CURVE",e.FREEHAND_CURVE_CLOSED="FREEHAND_CURVE_CLOSED",e.SMARTDRAWING="SMARTDRAWING",e.SMARTDRAWING_DEEPLEARNING="SMARTDRAWING_DEEPLEARNING",e.LINE="LINE",e.APOINT="APOINT",e.CPOINT_REGULAR="CPOINT_REGULAR",e.CPOINT_NUMBERED="CPOINT_NUMBERED",e.CLINE="CLINE",e.CPOLYLINE="CPOLYLINE",e.CPOLYGON="CPOLYGON",e.CLINE_TOOGLE="CLINE_TOOGLE",e.CARC="CARC",e.CCIRCLE="CCIRCLE",e.CRECTANGLE="CRECTANGLE",e.CNGON="CNGON",e.CSTAR="CSTAR",e.CCURVE="CCURVE",e.CCURVE_CLOSE="CCURVE_CLOSE",e.CFREEHAND_POLYLINE="CFREEHAND_POLYLINE",e.CFREEHAND_CURVE="CFREEHAND_CURVE",e.CFREEHAND_LINE="CFREEHAND_LINE",e.CFREEHAND_SMARTDRAWING="CFREEHAND_SMARTDRAWING",e.CFREEHAND_SMOOTH="CFREEHAND_SMOOTH",e.CRECTANGLE_CROP="CRECTANGLE_CROP",e.CPOINT="CPOINT",e.CNODE="CNODE",e.CEDGE="CEDGE",e.LINE_SPIKE="LINE_SPIKE",e.CIRCLE_TRAJECTORY="CIRCLE_TRAJECTORY",e.ARC_SPIKE="ARC_SPIKE"}(O||(O={})),function(e){e.POINT_REGULAR="POINT_REGULAR",e.POINT_NUMBERED="POINT_NUMBERED",e.POINT_ICON="POINT_ICON",e.POLYLINE="POLYLINE",e.POLYLINE_BENDING="POLYLINE_BENDING",e.POLYGON="POLYGON",e.POLYGON_GRAPH="POLYGON_GRAPH",e.POLYGON_MULTIPLE="POLYGON_MULTIPLE",e.CIRCLE="CIRCLE",e.RECTANGLE="RECTANGLE",e.AN_GON="AN_GON",e.ARROW_SINGLE="ARROW_SINGLE",e.ARROW_DOUBLE="ARROW_DOUBLE",e.TEXT="TEXT",e.CATEXT="CATEXT",e.TEXT_LEADERLINE="TEXT_LEADERLINE",e.APOINT="APOINT",e.AMIDPOINT="AMIDPOINT",e.ANODE="ANODE",e.APOINT_PATH="APOINT_PATH",e.ANODE_RECT="ANODE_RECT",e.ANODE_CIRCLE="ANODE_CIRCLE",e.ANODE_NGON="ANODE_NGON",e.ANODE_TEXT="ANODE_TEXT",e.AMIDPOINT_ALINE="AMIDPOINT_ALINE",e.CURVE="CURVE",e.CURVE_OPEN="CURVE_OPEN",e.CURVE_CLOSE="CURVE_CLOSE",e.FREEHAND_POLYLINE="FREEHAND_POLYLINE",e.FREEHAND_CURVE="FREEHAND_CURVE",e.SMARTDRAWING="SMARTDRAWING",e.ALINE="ALINE",e.CPOINT="CPOINT",e.CMIDPOINT="CMIDPOINT",e.CNODE="CNODE",e.CNODE_RECT="CNODE_RECT",e.CNODE_CIRCLE="CNODE_CIRCLE",e.CNODE_NGON="CNODE_NGON",e.CNODE_TEXT="CNODE_TEXT",e.CPOINT_REGULAR="CPOINT_REGULAR",e.CPOINT_NUMBERED="CPOINT_NUMBERED",e.CLINE="CLINE",e.CEDGE="CEDGE",e.CPOLYLINE="CPOLYLINE",e.CPOLYGON="CPOLYGON",e.CRECTANGLE="CRECTANGLE",e.CN_GON="CN_GON",e.CN_STAR="CN_STAR",e.CARC="CARC",e.CCIRCLE="CCIRCLE",e.CCURVE="CCURVE",e.CCURVE_OPEN="CCURVE_OPEN",e.CCURVE_CLOSED="CCURVE_CLOSED",e.CBLACKHOLE="CBLACKHOLE",e.CFREEHAND="CFREEHAND",e.COTHERS="COTHERS"}(P||(P={})),function(e){e.DEFAULT="default",e.AUTO="auto",e.CROSSHAIR="crosshair",e.MOVE="move",e.POINTER="pointer",e.TEXT="text",e.WAIT="wait",e.HELP="help",e.PROGRESS="progress"}(T||(T={})),function(e){e.X_NONE="X_NONE",e.X_REMOVE="X_REMOVE",e.X_SELECT="X_SELECT",e.X_SELECT_RECT="X_SELECT_RECT",e.X_SELECT_LASSO="X_SELECT_LASSO",e.X_UNDO="X_UNDO",e.X_REDO="X_REDO",e.X_ARROW_SINGLE="X_ARROW_SINGLE",e.X_ARROW_DOUBLE="X_ARROW_DOUBLE",e.X_POINT_REGULAR="X_POINT_REGULAR",e.X_POINT_NUMBERED="X_POINT_NUMBERED",e.X_POLYLINE="X_POLYLINE",e.X_FREEHAND_POLYLINE="X_FREEHAND_POLYLINE",e.X_POLYGON="X_POLYGON",e.X_CIRCLE="X_CIRCLE",e.X_RECTANGLE="X_RECTANGLE",e.X_TEXT_LEADERLINE="X_TEXT_LEADERLINE",e.X_POINT="X_POINT",e.X_NODE="X_NODE",e.X_EDGE="X_EDGE",e.X_POINT_ICON="X_POINT_ICON"}(C||(C={})),function(e){e.PointerOut="pointerOut",e.SetDrawingMode="setDrawingMode",e.ToggleMapfilter="toggleMapfilter",e.ToggleQuickActions="toggleQuickActions",e.ChangeTheme="changeTheme",e.ToggleDrawingTooltips="toggleDrawingTooltips",e.ToggleGrid="toggleGrid",e.ToggleMeasure="toggleMeasure",e.ShiftUnit="shiftUnit",e.DumpIconsBase64s="dumpIconsBase64s",e.AddIconBase64="addIconBase64",e.SelectIconBase64="selectIconBase64",e.InclusiveSelect="inclusiveSelect",e.InclusiveDeselect="inclusiveDeselect",e.ExclusiveSelect="exclusiveSelect",e.ExclusiveDeselect="exclusiveDeselect",e.ReorderNumberedPoints="reorderNumberedPoints",e.Remove="remove",e.RemoveSelected="removeSelected",e.Update="update",e.Enter="enter",e.Leave="leave",e.Show="show",e.Hide="hide",e.HidePopup="hidePopup",e.ShowPopup="showPopup",e.Dump="dump",e.InitGhost="initGhost",e.EnterGhost="enterGhost",e.LeaveGhost="leaveGhost",e.ShowGhostPopup="showGhostPopup",e.HideGhostPopup="hideGhostPopup",e.AddGhost="addGhost",e.Add="add",e.Transform="transform",e.RemoveGhost="removeGhost",e.ShowText="showText",e.HideText="hideText",e.StartEditingText="startEditingText",e.EndEditingText="endEditingText"}(b||(b={})),function(e){e.START="start",e.END="end",e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(L||(L={})),function(e){e.WRAP="WRAP",e.LINEBREAK="LINEBREAK",e.NORMAL="NORMAL"}(_||(_={})),function(e){e.ROUND="round",e.BUTT="butt",e.SQUARE="square"}(S||(S={})),function(e){e.CURVE="CURVE",e.CURVE_CLOSED="CURVE_CLOSED",e.LINE="LINE",e.PLINE="PLINE",e.PLINE_BENDING="PLINE_BENDING",e.PGON="PGON",e.SMOOTH="SMOOTH",e.SMDRAWING="SMDRAWING"}(G||(G={})),function(e){e.REGULAR="REGULAR",e.DOUGLAS_PEUCKER="DOUGLAS_PEUCKER"}(D||(D={})),function(e){e.FULL_HD="d"}(z||(z={})),function(e){e.SVG="SVG",e.CANVAS="CANVAS",e.GL="GL"}(V||(V={})),function(e){e.COMMAND="COMMAND",e.OBJECT="OBJECT"}(H||(H={})),function(e){e.PRODUCTION="PRODUCTION",e.DEVELOPMENT="DEVELOPMENT",e.LOCAL="LOCAL"}(B||(B={})),function(e){e.DRAWING="DRAWING",e.INTERACTIVE_VIEWER="INTERACTIVE_VIEWER",e.OBSERVE_VIEWER="OBSERVE_VIEWER"}(F||(F={})),function(e){e.DRAWING="DRAWING",e.INTERACTIVE_VIEWER="INTERACTIVE_VIEWER",e.OBSERVE_VIEWER="OBSERVE_VIEWER"}(U||(U={})),function(e){e.OPERA="Opera",e.CHROME="Chrome",e.SAFARI="Safari",e.FIREFOX="Firefox",e.IE="IE",e.EDGE="Edge",e.UNKNOWN="unknown"}(Z||(Z={})),function(e){e.UP="UP",e.DOWN="DOWN"}(W||(W={})),function(e){e.LEFT="LEFT",e.MIDDLE="MIDDLE",e.RIGHT="RIGHT",e.WHEEL="WHEEL",e.DRAG="DRAG",e.DRAG_LEFT="DRAG_LEFT",e.DRAG_MIDDLE="DRAG_MIDDLE",e.DRAG_RIGHT="DRAG_RIGHT",e.MOVE="MOVE",e.DOUBLE="DOUBLE",e.UP="UP",e.DOWN="DOWN",e.DOWN_MIDDLE="DOWN_MIDDLE",e.DOWN_RIGHT="DOWN_RIGHT"}(X||(X={})),function(e){e.START="START",e.END="END",e.MOVE="MOVE",e.CANCEL="CANCEL"}(Y||(Y={})),function(e){e.NATIVE="NATIVE",e.JSAPI4X="JSAPI4X"}(q||(q={})),function(e){e.PERSPECTIVE="PERSPECTIVE",e.ORTHOGRAPHIC="ORTHOGRAPHIC",e.STEREO="STEREO"}(j||(j={})),function(e){e.CANVAS="CANVAS",e.GL="GL"}(J||(J={}));var Q=function(){function e(){(0,o.Z)(this,e),this.x=-1,this.y=-1,this.z=-1,this.preX=-1,this.preY=-1,this.preZ=-1,this.yGLPicking=void 0,this.command=void 0,this.TOUCH_TYPE=Y.MOVE,this.identifier=void 0,this.radiusX=void 0,this.radiusY=void 0,this.rotationAngle=void 0,this.force=void 0,this.color=void 0}return(0,i.Z)(e,[{key:"DeepCopy",value:function(){var t=new e;return t.x=this.x,t.y=this.y,t.z=this.z,t.preX=this.preX,t.preY=this.preY,t.preZ=this.preZ,t.yGLPicking=this.yGLPicking,t.TOUCH_TYPE=this.TOUCH_TYPE,t.command=this.command,t}}]),e}(),$=function(){function e(){(0,o.Z)(this,e),this.native=void 0,this.eventList=void 0,this.TOUCH_TYPE=Y.MOVE,this.eventList=[]}return(0,i.Z)(e,[{key:"Build",value:function(e,t){for(var n=0;n<e.touches.length;++n){var i=new Q;i.identifier=e.touches[n].identifier,i.TOUCH_TYPE=t,i.radiusX=e.touches[n].radiusX,i.radiusY=e.touches[n].radiusY,i.rotationAngle=e.touches[n].rotationAngle,i.x=e.touches[n].clientX,i.y=e.touches[n].clientY,i.force=e.touches[n].force,i.color=this.ColorForTouch(e.touches[n]),this.eventList.push(i)}}},{key:"DeepCopy",value:function(){}},{key:"ColorForTouch",value:function(e){var t=e.identifier%16,n=Math.floor(e.identifier/3)%16,i=Math.floor(e.identifier/7)%16;return"#"+t.toString(16)+n.toString(16)+i.toString(16)}}]),e}();(function(){function e(t){(0,o.Z)(this,e),this.isEnable=!0,this.click=!1,this.prevent=!1,this.delay=100,this.timer=void 0,this.down=!1,this.e=void 0,this.preEvent=void 0,this.divHost=void 0,this.divHost=t,this.InitNativeTouchEvent(this.divHost)}return(0,i.Z)(e,[{key:"InitNativeTouchEvent",value:function(t){var n=this;t.ontouchstart=function(t){var i=e.CommonEventBuilder(t,Y.START);n.TouchEventEmittingBinding(i)},t.ontouchend=function(t){var i=e.CommonEventBuilder(t,Y.END);n.TouchEventEmittingBinding(i)},t.ontouchmove=function(t){var i=e.CommonEventBuilder(t,Y.MOVE);n.TouchEventEmittingBinding(i)},t.ontouchcancel=function(t){var i=e.CommonEventBuilder(t,Y.CANCEL);n.TouchEventEmittingBinding(i)}}},{key:"TouchEventEmittingBinding",value:function(e){console.log("implmentation needed",e)}}],[{key:"CommonEventBuilder",value:function(e,t){var n=new $;return n.TOUCH_TYPE=t,n.Build(e,t),this.touchEventDataPre=n,n}}]),e}()).touchEventDataPre=void 0;var ee=[1920,1080],te=function(){function e(t){(0,o.Z)(this,e),this.video=void 0,this.canvas=void 0,this.ctx=void 0,this.width=400,this.height=400,this.mediaStream=void 0,this.hostDiv=void 0,this.id=void 0,this.hostDiv=t,this.width=t.clientWidth,this.height=t.clientHeight,this.id="njslab-web-core-camera"+e.id++;var n=ee;console.log(n),this.InitVideo(t),this.InitMedia()}return(0,i.Z)(e,[{key:"SetSizeFromTemplate",value:function(e){this.width=e[0],this.height=e[1],this.video.style.width=e[0]+"px",this.video.style.height=e[1]+"px",this.hostDiv.style.width=e[0]+"px",this.hostDiv.style.height=e[1]+"px"}},{key:"InitCanvas",value:function(){var e=document.createElement("canvas");if(e){this.canvas=e;var t=this.canvas.getContext("2d");t&&(this.ctx=t)}}},{key:"InitVideo",value:function(e){this.video=document.createElement("video"),this.video.id=this.id,this.video.setAttribute("playsinline",""),this.video.setAttribute("autoplay",""),this.video.setAttribute("muted",""),this.video.style.filter="blur(3px)",this.video.style.filter="contrast(150%)",this.video.style.width=this.width+"px",this.video.style.height=this.height+"px",e.appendChild(this.video)}},{key:"InitMedia",value:function(){var e=this,t={video:{facingMode:"facingMode",width:this.width,height:this.height},audio:!1};this.HasGetUserMedia()?navigator.mediaDevices.getUserMedia(t).then((function(t){e.mediaStream=t,e.video.srcObject=e.mediaStream})):alert("getUserMedia() is not supported by your browser")}},{key:"GetImageData",value:function(){this.ctx.drawImage(this.video,0,0,this.width,this.height);var e=this.ctx.getImageData(0,0,this.width,this.height);console.log(e)}},{key:"Resize",value:function(e,t){this.width=e,this.height=t,this.video.style.width=e+"px",this.video.style.height=t+"px"}},{key:"HasGetUserMedia",value:function(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}},{key:"Dummy",value:function(){}},{key:"Dispose",value:function(){this.mediaStream.getTracks().forEach((function(e){return e.stop()})),this.hostDiv.removeChild(this.video)}}],[{key:"GetCamera",value:function(){}}]),e}();te.id=0,te.FILTERS=["grayscale","sepia","blur","brightness","contrast","hue-rotate","hue-rotate2","hue-rotate3","saturate","invert",""];var ne=n(74165),ie=n(15861),oe=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,null,[{key:"URL",value:function(){var e=(0,ie.Z)((0,ne.Z)().mark((function e(t){return(0,ne.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){return e.text()})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"OpenOBJ",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"torus.obj",t.abrupt("return",fetch("".concat(e.path,"/3dData/").concat("torus.obj")).then((function(e){return e.text()})).then((function(e){})).catch((function(e){console.log(e)})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"OpenOBJForExternalRenderer",value:function(){var e=(0,ie.Z)((0,ne.Z)().mark((function e(t){return(0,ne.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch(t,{mode:"no-cors"}).then((function(e){return e.text()})).then((function(e){})).catch((function(e){console.log(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"OpenGeoJsonEx01",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"weektest.geojson",t.abrupt("return",fetch("".concat(e.path,"/json/").concat("weektest.geojson")).then((function(e){return e.json()})).then((function(e){})).catch((function(e){console.log(e)})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"OpenGeoJsonEx02",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"BusRoute.geojson",t.abrupt("return",fetch("".concat(e.path,"/json/").concat("BusRoute.geojson")).then((function(e){return e.json()})).then((function(e){})).catch((function(e){console.log(e)})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"OpenGeoJsonEx03",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"globeMap.geojson",t.abrupt("return",fetch("".concat(e.path,"/json/").concat("globeMap.geojson")).then((function(e){return e.json()})).then((function(e){})).catch((function(e){console.log(e)})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"OpenGeoJson",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(e.path,"/json/").concat(n)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"OpenJson",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(e.path,"/json/").concat(n)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"OpenJsonAnnotationTheme",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(e.path,"/theme/").concat(n)).then((function(e){return e.json()})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"OpenThemeJSON",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(e.path,"/theme/").concat(n)).then((function(e){return e.json()})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"OpenDataJSON",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(e.path,"/").concat(n)).then((function(e){return e.json()})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"OpenImg",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(e.path,"/img/").concat(n)).then((function(e){return e.blob()})).then((function(e){var t=new Image,n=URL.createObjectURL(e);return t.src=n,t.onload=function(){t.crossOrigin="anonymous"},console.log(t),t})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"LoadImg",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(e.path,"/").concat(n)).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"LoadSVG",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(e.path,"/").concat(n)).then((function(e){return e.text()})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"LoadSVGFromLocal",value:function(){var t=(0,ie.Z)((0,ne.Z)().mark((function t(n){return(0,ne.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(e.path,"/images/").concat(n)).then((function(e){return e.text()})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"LoadSVGFromHTTP",value:function(){var e=(0,ie.Z)((0,ne.Z)().mark((function e(t){return(0,ne.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,{mode:"no-cors"}).then((function(e){return e.text()})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"PointRegular",value:function(){var e=(0,ie.Z)((0,ne.Z)().mark((function e(){return(0,ne.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"OpenXML",value:function(){var e=(0,ie.Z)((0,ne.Z)().mark((function e(t){return(0,ne.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"OpenCSV",value:function(){var e=(0,ie.Z)((0,ne.Z)().mark((function e(t){return(0,ne.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"OpenTXT",value:function(){var e=(0,ie.Z)((0,ne.Z)().mark((function e(t){return(0,ne.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetObjectFromSVGPath",value:function(){var e=(0,ie.Z)((0,ne.Z)().mark((function e(t){var n,i,o,r,a;return(0,ne.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new DOMParser,e.next=3,fetch(t);case 3:return i=e.sent,e.next=6,i.text();case 6:return o=e.sent,e.next=9,n.parseFromString(o,"text/xml");case 9:return r=e.sent,a=this.XmlToJson(r),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetObjectFromSVGImporting",value:function(){var e=(0,ie.Z)((0,ne.Z)().mark((function e(t){var n,i,o;return(0,ne.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new DOMParser,e.next=3,n.parseFromString(t,"text/xml");case 3:return i=e.sent,o=this.XmlToJson(i),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"XmlToJson",value:function(e){var t=new Object;if(1===e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@attributes"][i.nodeName]=i.nodeValue}}}else 3===e.nodeType&&e.nodeValue&&(t=e.nodeValue);if(e.hasChildNodes())for(var o=0;o<e.childNodes.length;o++){var r=e.childNodes.item(o),a=r.nodeName;if("undefined"===typeof t[a])t[a]=this.XmlToJson(r);else{if("undefined"===typeof t[a].push){var s=t[a];t[a]=[],t[a].push(s)}t[a].push(this.XmlToJson(r))}}return t}}]),e}();oe.path="/njslabSandboxStatic";var re=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,null,[{key:"Test",value:function(){var e=x.GetRandomIntsInclusive(0,1e4,1e4);console.log(e);var t=performance.now();this.SortMerge(e,0,e.length-1);var n=performance.now();console.log(e),console.log("SortMerge",n-t),e=x.GetRandomIntsInclusive(0,1e4,1e4),console.log(e),t=performance.now(),this.SortQuickAscending(e),n=performance.now(),console.log(e),console.log("SortQuickAscending",n-t),e=x.GetRandomIntsInclusive(0,1e4,1e4),console.log(e),t=performance.now(),this.SortBubbleAscending(e),n=performance.now(),console.log(e),console.log("SortBubbleAscending",n-t),e=x.GetRandomIntsInclusive(0,1e4,1e4),console.log(e),t=performance.now(),this.SortInsertionAscending(e),n=performance.now(),console.log(e),console.log("SortInsertionAscending",n-t)}},{key:"GetIndexBySort",value:function(e){for(var t=e.length,n=new Array(t),i=0;i<t;++i)n[i]=i;return n.sort((function(t,n){return e[t]<e[n]?-1:e[t]>e[n]?1:0})),n}},{key:"GetIndexBySortDescending",value:function(e){for(var t=e.length,n=new Array(t),i=0;i<t;++i)n[i]=i;return n.sort((function(t,n){return e[t]>e[n]?-1:e[t]<e[n]?1:0})),n}},{key:"SortHeapAscending",value:function(e){for(var t=e.length,n=0;n<t;++n){var i=n;do{var o=Math.round((i-1)/2);if(e[o]<e[i]){var r=e[o];e[o]=e[i],e[i]=r}i=o}while(0!==i)}for(var a=t-1;a>=0;a--){var s=e[0];e[0]=e[a],e[a]=s;var h=0,u=1;do{(u=2*h+1)<a-1&&e[u]<e[u+1]&&u++,u<a&&e[h]<e[u]&&(s=e[h],e[h]=e[u],e[u]=s),h=u}while(u<a)}return e}},{key:"SortHeapDescending",value:function(e){return e}},{key:"Merge",value:function(e,t,n,i){for(var o=t,r=n+1,a=t;o<=n&&r<=i;)e[o]<=e[r]?(this.sorted[a]=e[o],o++):(this.sorted[a]=e[r],r++),a++;if(o>n)for(var s=r;s<=i;++s)this.sorted[a]=e[s],a++;else for(var h=o;h<=n;++h)this.sorted[a]=e[h],a++;for(var u=t;u<=i;++u)e[u]=this.sorted[u]}},{key:"SortMergeLoop",value:function(e,t,n){if(t<n){var i=Math.floor((t+n)/2);this.SortMergeLoop(e,t,i),this.SortMergeLoop(e,i+1,n),this.Merge(e,t,i,n)}}},{key:"SortMerge",value:function(e,t,n){this.sorted=[],this.SortMergeLoop(e,t,n)}},{key:"SortQuickAscending",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;if(!(t>=n)){for(var i=0,o=t,r=t+1,a=n;r<=a;){for(;r<=n&&e[r]<=e[o];)r++;for(;a>t&&e[a]>=e[o];)a--;r>a?(i=e[a],e[a]=e[o],e[o]=i):(i=e[r],e[r]=e[a],e[a]=i)}this.SortQuickAscending(e,t,a-1),this.SortQuickAscending(e,a+1,n)}}},{key:"SortQuickDescending",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;if(!(t>=n)){for(var i=0,o=t,r=t+1,a=n;r<=a;){for(;r<=n&&e[r]>=e[o];)r++;for(;a>t&&e[a]<=e[o];)a--;r>a?(i=e[a],e[a]=e[o],e[o]=i):(i=e[r],e[r]=e[a],e[a]=i)}this.SortQuickDescending(e,t,a-1),this.SortQuickDescending(e,a+1,n)}}},{key:"SortInsertionAscending",value:function(e){for(var t=0,n=0,i=e.length,o=0;o<i-1;++o)for(n=o;e[n]>e[n+1];)t=e[n],e[n]=e[n+1],e[n+1]=t,n--;return e}},{key:"SortInsertionDescending",value:function(e){for(var t=0,n=0,i=e.length,o=0;o<i-1;++o)for(n=o;e[n]<e[n+1];)t=e[n],e[n]=e[n+1],e[n+1]=t,n--;return e}},{key:"SortBubbleAscending",value:function(e){for(var t=0,n=e.length,i=0;i<n;++i)for(var o=0;o<n-1-i;++o)e[o]>e[o+1]&&(t=e[o],e[o]=e[o+1],e[o+1]=t);return e}},{key:"SortBubbleDescending",value:function(e){for(var t=0,n=e.length,i=0;i<n;++i)for(var o=0;o<n-1-i;++o)e[o]<e[o+1]&&(t=e[o],e[o]=e[o+1],e[o+1]=t);return e}},{key:"SortSelectionAscending",value:function(e){for(var t=0,n=0,i=e.length,o=0;o<i;++o){for(var r=Number.MAX_SAFE_INTEGER,a=o;a<i;++a)e[a]<r&&(r=e[a],t=a);n=e[o],e[o]=e[t],e[t]=n}return e}},{key:"SortSelectionDescending",value:function(e){for(var t=0,n=0,i=e.length,o=0;o<i;++o){for(var r=Number.MIN_SAFE_INTEGER,a=o;a<i;++a)e[a]>r&&(r=e[a],t=a);n=e[o],e[o]=e[t],e[t]=n}return e}}]),e}();re.sorted=[];var ae=function(){function e(){(0,o.Z)(this,e),this._type=void 0,this._isMobile=void 0,this.DetectBrowser(),this.DetectIsMoile()}return(0,i.Z)(e,[{key:"DetectBrowser",value:function(){-1===navigator.userAgent.indexOf("Edge")?(-1!==(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))&&(this._type=Z.OPERA),-1===navigator.userAgent.indexOf("Chrome")?-1===navigator.userAgent.indexOf("Safari")?-1===navigator.userAgent.indexOf("Firefox")?(-1!==navigator.userAgent.indexOf("MSIE")&&(this._type=Z.IE),this._type=Z.UNKNOWN):this._type=Z.FIREFOX:this._type=Z.SAFARI:this._type=Z.CHROME):this._type=Z.EDGE}},{key:"DetectIsMoile",value:function(){this._isMobile=!1,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(this._isMobile=!0)}},{key:"type",get:function(){return this._type}},{key:"isMobile",get:function(){return this._isMobile}}],[{key:"getAllUrlParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,t=e?e.split("?")[1]:window.location.search.slice(1),n={};if(t)for(var i=(t=t.split("#")[0]).split("&"),o=0;o<i.length;o++){var r=i[o].split("="),a=r[0],s="undefined"===typeof r[1]||r[1];if(a=a.toLowerCase(),"string"===typeof s&&(s=s.toLowerCase()),a.match(/\[(\d+)?\]$/)){var h=a.replace(/\[(\d+)?\]/,"");if(n[h]||(n[h]=[]),a&&a.match(/\[\d+\]$/)){if(null!==/\[(\d+)\]/.exec(a)){var u=/\[(\d+)\]/.exec(a);u&&u[1]&&(n[h][u]=s)}}else n[h].push(s)}else n[a]?n[a]&&"string"===typeof n[a]?(n[a]=[n[a]],n[a].push(s)):n[a].push(s):n[a]=s}return n}}]),e}();(function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,null,[{key:"log",value:function(t){e.isPrint}}]),e}()).isPrint=!0;var se=n(93433),he=function(){function e(t,n,i,r,a,s,h,u,c,l){(0,o.Z)(this,e),this.index=void 0,this.data=void 0,this.count=void 0,this.min=void 0,this.max=void 0,this.mean=void 0,this.sum=void 0,this.median=void 0,this.variance=void 0,this.STD=void 0,this.toFixed=void 0,this.data=t,this.count=n,this.min=i,this.max=r,this.mean=a,this.sum=s,this.median=h,this.variance=u,this.STD=c,this.index=l,this.toFixed=4}return(0,i.Z)(e,[{key:"ToString",value:function(){var e=[];return e.push("index : "+this.index),e.push("count : "+this.count),e.push("min : "+this.min.toFixed(this.toFixed)),e.push("max : "+this.max.toFixed(this.toFixed)),e.push("mean : "+this.mean.toFixed(this.toFixed)),e.push("sum : "+this.sum.toFixed(this.toFixed)),e.push("median : "+this.median.toFixed(this.toFixed)),e.push("variance : "+this.variance.toFixed(this.toFixed)),e.push("STD : "+this.STD.toFixed(this.toFixed)),e}}]),e}(),ue=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,null,[{key:"DescribeNumeric",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"null",i=new he(t,t.length,e.Min(t),e.Max(t),e.Mean(t),e.Sum(t),e.Median(t),e.Variance(t),e.StandardDeviation(t),n);return i}},{key:"Min",value:function(e){return Math.min.apply(Math,(0,se.Z)(e))}},{key:"Max",value:function(e){return Math.max.apply(Math,(0,se.Z)(e))}},{key:"Mean",value:function(t){return e.Average(t)}},{key:"Average",value:function(t){return e.Sum(t)/t.length}},{key:"Sum",value:function(e){for(var t=e.length,n=0;t--;)n+=e[t];return n}},{key:"Median",value:function(t){var n=e.SortAscending(t),i=Math.floor(n.length/2);return n.length%2?n[i]:(n[i-1]+n[i])/2}},{key:"SortAscending",value:function(e){return e.sort((function(e,t){return e-t}))}},{key:"SortDescending",value:function(e){return e.sort((function(e,t){return t-e}))}},{key:"Variance",value:function(t){for(var n=e.Mean(t),i=0,o=0;o<t.length;++o)t[o],i+=Math.pow(n-t[o],2);return i/(t.length-1)}},{key:"StandardDeviation",value:function(t){var n=e.Variance(t);return Math.sqrt(n)}},{key:"GetDataForHistDataFromNumeric",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=[],o=e.SortAscending(t),r=[o[0],o[o.length-1]],a=(r[1]-r[0])/(n-1),s=0,h=0;h<n;++h){for(var u=r[0]+(h+1)*a,c=[],l=s;l<t.length;++l){if(!(t[l]<u)){s=l;break}c.push(t[l])}i.push(c)}return i}},{key:"GetIndexByDataForHistDataFromNumeric",value:function(e,t){for(var n=0;n<e.length;++n)for(var i=0;i<e[n].length;++i)if(t<e[n][i])return n;return-1}}]),e}(),ce=function(){function e(t){(0,o.Z)(this,e),this.dJson=void 0,this.dMat=void 0,this.index=void 0,this.dHist=void 0,this.dDescribe=void 0,this.dT=void 0,this.dA=void 0,this.dB=void 0,this.dC=void 0,this.dD=void 0,this.dE=void 0,this.dF=void 0,this.dJson=t,this.dMat=e.GetDataWithIndexFromGeoJson(t),this.index=this.dMat[0],this.dDescribe=this.GetDescribeByCol(this.index[0]).ToString(),this.dHist=this.GetHistByCol(this.index[0]),console.log(this.dJson),console.log(this.index),console.log(this.dDescribe),console.log(this.dMat),this.dT=this.GetColbyIndex("time"),this.dA=this.GetColbyIndex(this.index[0]),this.dB=this.GetColbyIndex("rms"),this.dC=this.GetColbyIndex("sig"),this.dD=this.GetColbyIndex("nst"),this.dE=this.GetColbyIndex("mag"),this.dF=this.GetColbyIndex("dmin"),console.log(this.dD)}return(0,i.Z)(e,[{key:"GetDataByIndex",value:function(e){for(var t=this.index.indexOf(e),n=[],i=1;i<this.dMat.length;++i)n.push(this.dMat[i][t]);return n}},{key:"GetColbyIndex",value:function(e){return this.GetDataByIndex(e)}},{key:"GetDescribeByCol",value:function(e){var t=this.GetDataByIndex(e);return ue.DescribeNumeric(t,e)}},{key:"GetHistByCol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.GetDataByIndex(e);return ue.GetDataForHistDataFromNumeric(n,t)}}],[{key:"GetIndexFromGeoJson",value:function(e){var t=[],n=[];Object.keys(e).forEach((function(i){if("features"===i){var o,r=e[i],a=(0,y.Z)(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;t=s.geometry,n=s.properties;break}}catch(h){a.e(h)}finally{a.f()}}}));var i=[];return Object.keys(t).forEach((function(e){i.push(e)})),Object.keys(n).forEach((function(e){i.push(e)})),i}},{key:"GetDataWithIndexFromGeoJson",value:function(e){var t=!0,n=[];return Object.keys(e).forEach((function(i){if("features"===i){var o,r=e[i],a=(0,y.Z)(r);try{var s=function(){var e=o.value,i=[],r=[];Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(o){var a=e[n][o];"string"===typeof a&&1===a.length||(t&&i.push(o),r.push(a))}))})),t&&(n.push(i),t=!1),n.push(r)};for(a.s();!(o=a.n()).done;)s()}catch(h){a.e(h)}finally{a.f()}return n}})),n}}]),e}();ce.geoJsonGeoType=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];var le=function(){function e(t){(0,o.Z)(this,e),this.dJson=void 0,this.dMat=void 0,this.index=void 0,this.dHist=void 0,this.dDescribe=void 0,this.dT=void 0,this.dA=void 0,this.dB=void 0,this.dC=void 0,this.dD=void 0,this.dE=void 0,this.dF=void 0,this.posLn=void 0,this.dJson=t,this.dMat=e.GetDataWithIndexFromGeoJson(t),this.index=this.dMat[0],console.log(this.index),this.posLn=this.GetPTFloat32Array(),e.d=this.posLn}return(0,i.Z)(e,[{key:"GetPTFloat32Array",value:function(){for(var e=[1],t=this.GetDataByIndex(this.index[this.index.length-1]),n=0;n<t.length;++n)if(Array.isArray(t[n]))for(var i=0;i<t[n].length;++i)if(Array.isArray(t[n][i])){for(var o=0;o<t[n][i].length;++o)if(Array.isArray(t[n][i][o]))for(var r=0;r<t[n][i][o].length;++r)e.push(t[n][i][o][r][0],t[n][i][o][r][1],10.5);0}return e.shift(),console.log(e),e}},{key:"GetDataByIndex",value:function(e){for(var t=this.index.indexOf(e),n=[],i=1;i<this.dMat.length;++i)n.push(this.dMat[i][t]);return n}},{key:"GetColbyIndex",value:function(e){return this.GetDataByIndex(e)}},{key:"GetDescribeByCol",value:function(e){var t=this.GetDataByIndex(e);return ue.DescribeNumeric(t,e)}},{key:"GetHistByCol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.GetDataByIndex(e);return ue.GetDataForHistDataFromNumeric(n,t)}}],[{key:"GetIndexFromGeoJson",value:function(e){var t=[],n=[];Object.keys(e).forEach((function(i){if("features"===i){var o,r=e[i],a=(0,y.Z)(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;t=s.geometry,n=s.properties;break}}catch(h){a.e(h)}finally{a.f()}}}));var i=[];return Object.keys(t).forEach((function(e){i.push(e)})),Object.keys(n).forEach((function(e){i.push(e)})),i}},{key:"GetDataWithIndexFromGeoJson",value:function(e){var t=!0,n=[];return Object.keys(e).forEach((function(i){if("features"===i){var o,r=e[i],a=(0,y.Z)(r);try{var s=function(){var e=o.value,i=[],r=[];Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(o){var a=e[n][o];"string"===typeof a&&1===a.length||(t&&i.push(o),r.push(a))}))})),t&&(n.push(i),t=!1),n.push(r)};for(a.s();!(o=a.n()).done;)s()}catch(h){a.e(h)}finally{a.f()}return n}})),n}}]),e}();le.d=void 0,le.geoJsonGeoType=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];var ve=function(){function e(t){(0,o.Z)(this,e),this.dJson=void 0,this.dMat=void 0,this.index=void 0,this.dHist=void 0,this.dDescribe=void 0,this.array={},this.arrayVis={},this.dJson=t,this.dMat=e.GetDataWithIndexFromGeoJson(t),this.index=this.dMat[0],this.Init()}return(0,i.Z)(e,[{key:"Init",value:function(){var e,t=(0,y.Z)(this.index);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.array[n]=this.GetColbyIndex(n)}}catch(r){t.e(r)}finally{t.f()}console.log(this.array),this.array.timeConverted=this.ConvertTime(this.array.Time_UT_),this.ComputeTimelineIndex();for(var i=[],o=0;o<this.array.timeConverted.length;++o)i.push(o);this.ComputeArrayVis(i),console.log(this)}},{key:"ComputeArrayVis",value:function(e){this.arrayVis={};var t,n=(0,y.Z)(this.index);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.arrayVis[i]=[];var o,r=(0,y.Z)(e);try{for(r.s();!(o=r.n()).done;){var a=o.value;this.arrayVis[i].push(this.array[i][a])}}catch(s){r.e(s)}finally{r.f()}}}catch(s){n.e(s)}finally{n.f()}}},{key:"GetHistByCol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.GetDataByIndex(e);return ue.GetDataForHistDataFromNumeric(n,t)}},{key:"GetDataByIndex",value:function(e){for(var t=this.index.indexOf(e),n=[],i=1;i<this.dMat.length;++i)n.push(this.dMat[i][t]);return n}},{key:"GetColbyIndex",value:function(e){return this.GetDataByIndex(e)}},{key:"ConvertTime",value:function(e){for(var t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,i=[],o=0;o<e.length;++o){var r=new Date(+e[o]).toLocaleDateString().split("/");t>+r[2]&&(t=+r[2]),n<+r[2]&&(n=+r[2]),i.push([+r[0],+r[1],+r[2]])}return this.array.yearDomain=[t,n],i}},{key:"ComputeTimelineIndex",value:function(){var e={};this.array.timeLineIndexArryForKey=[];for(var t=this.array.yearDomain[0];t<=this.array.yearDomain[1];++t)for(var n=1;n<13;++n){var i=t+"_"+n;e[i]=[],this.array.timeLineIndexArryForKey.push(i)}this.array.timeLineIndex=e;for(var o=0;o<this.array.timeConverted.length;++o){var r=this.array.timeConverted[o][2]+"_"+this.array.timeConverted[o][0];this.array.timeLineIndex[r].push(o)}console.log(this)}}],[{key:"GetHistByCol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return ue.GetDataForHistDataFromNumeric(e,t)}},{key:"GetIndexFromGeoJson",value:function(e){var t=[],n=[];Object.keys(e).forEach((function(i){if("features"===i){var o,r=e[i],a=(0,y.Z)(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;t=s.geometry,n=s.properties;break}}catch(h){a.e(h)}finally{a.f()}}}));var i=[];return Object.keys(t).forEach((function(e){i.push(e)})),Object.keys(n).forEach((function(e){i.push(e)})),i}},{key:"GetDataWithIndexFromGeoJson",value:function(e){var t=!0,n=[];return Object.keys(e).forEach((function(i){if("features"===i){var o,r=e[i],a=(0,y.Z)(r);try{var s=function(){var e=o.value,i=[],r=[];Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(o){var a=e[n][o];"string"===typeof a&&1===a.length||(t&&i.push(o),r.push(a))}))})),t&&(n.push(i),t=!1),n.push(r)};for(a.s();!(o=a.n()).done;)s()}catch(h){a.e(h)}finally{a.f()}return n}})),n}}]),e}();ve.geoJsonGeoType=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];var de=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.h(0,0,0);(0,o.Z)(this,e),this.map=void 0,this.vec=void 0,this.norV=void 0,this.nPix=[],this.recVec=void 0,this.i=-1,this.j=-1,this.k=-1,this.u=-1,this.v=-1,this.id=void 0,this.data=void 0,this.map=t,this.vec=n,this.nPix=[],this.recVec=[],this.i=-1,this.j=-1,this.k=-1,this.id=e.GetID(),this.data={}}return(0,i.Z)(e,[{key:"ToString",value:function(){var e="Pixel"+this.id;return console.log(e),e}},{key:"Update",value:function(){}},{key:"Render",value:function(){}}],[{key:"GetID",value:function(){return e.ID++}}]),e}();de.ID=0;var fe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.h(0,0,0);(0,o.Z)(this,e),this.map=void 0,this.vec=void 0,this.norV=void 0,this.nPix=[],this.recVec=void 0,this.i=-1,this.j=-1,this.k=-1,this.u=-1,this.v=-1,this.id=void 0,this.color=[],this.data=void 0,this.map=t,this.vec=n,this.nPix=[],this.recVec=[],this.i=-1,this.j=-1,this.k=-1,this.id=e.GetID(),this.data={}}return(0,i.Z)(e,[{key:"ToString",value:function(){var e="Pixel"+this.id;return console.log(e),e}},{key:"Update",value:function(){}},{key:"Render",value:function(){}}],[{key:"GetID",value:function(){return e.ID++}}]),e}();fe.ID=0;var ye,xe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,o.Z)(this,e),this.ctx=void 0,this.img=void 0,this.listPixel=[],this.width=void 0,this.height=void 0,this.rx=0,this.ry=0,this.sx=0,this.sy=0,this.sz=0,this.ddx=0,this.ddy=0,this.v0=void 0,this.v1=void 0,this.img=t,console.log(t);var h=document.createElement("canvas");h.width=this.img.width*r,h.height=this.img.height*a,this.ctx=h.getContext("2d"),this.ctx.drawImage(this.img,0,0),this.width=this.img.width,this.height=this.img.height,console.log(this.img.width,this.img.height,"lllllllllllllll"),this.rx=n,this.ry=i,this.sx=r,this.sy=a,this.sz=s,this.ddx=0,this.ddy=0,this.v0=new p.h(.5*-this.width*this.sx,-this.img.height*this.sy*.5,0),this.v1=new p.h(.5*this.width*this.sx,this.img.height*this.sy*.5,0),this.Init()}return(0,i.Z)(e,[{key:"Init",value:function(){this.ddx=this.width*this.sx/(this.rx-1),this.ddy=this.height*this.sy/(this.ry-1),console.log("ddx is "+this.ddx+". ddy is "+this.ddx),console.log("Pixe Map was executed..."),this.InitGrid()}},{key:"InitGrid",value:function(){console.log(this);for(var e=0,t=0;t<this.ry;++t){for(var n=0,i=0;i<this.rx;++i){var o=new de(this);o.i=i,o.j=t,o.u=n,o.v=e;var r=this.v0.x+this.ddx*i,a=this.v0.y+this.ddy*t,s=this.ctx.getImageData(this.ddx*i/this.sx,this.ddx*t/this.sy,1,1).data,h=-M.mK.RGBtoGray(s[0],s[1],s[2])*this.sz,u=[r,a,h];o.vec=new p.h(u[0],u[1],u[2]),o.norV=p.h.Normalize(o.vec),u=[r-.5*this.ddx,a-.5*this.ddy,h],o.recVec.push(new p.h(u[0],u[1],u[2])),u=[r+.5*this.ddx,a-.5*this.ddy,h],o.recVec.push(new p.h(u[0],u[1],u[2])),u=[r+.5*this.ddx,a+.5*this.ddy,h],o.recVec.push(new p.h(u[0],u[1],u[2])),u=[r-.5*this.ddx,a+.5*this.ddy,h],o.recVec.push(new p.h(u[0],u[1],u[2])),this.listPixel.push(o),n++}e++}this.InitGridNeighbor()}},{key:"InitGridNeighbor",value:function(){for(var e=0;e<this.ry;++e)for(var t=0;t<this.rx;++t){var n=e*this.rx+t,i=this.listPixel[n];i.nPix=[],t>0&&i.nPix.push(this.listPixel[n-1]),t<this.rx-1&&i.nPix.push(this.listPixel[n+1]),e>0&&i.nPix.push(this.listPixel[n-this.rx]),e<this.ry-1&&i.nPix.push(this.listPixel[n+this.rx]),t>0&&e<this.ry-1&&i.nPix.push(this.listPixel[n+this.rx-1]),t>0&&e>0&&i.nPix.push(this.listPixel[n-this.rx-1]),t<this.rx-1&&e<this.ry-1&&i.nPix.push(this.listPixel[n+this.rx+1]),t<this.rx-1&&e>0&&i.nPix.push(this.listPixel[n-this.rx+1])}console.log("done for computing neighbors ")}},{key:"GetPixelAtPoint",value:function(e){var t=this,n=new p.h(e.x-t.v0.x,e.y-t.v0.y,e.z-t.v0.z),i=Math.round(n.x/t.ddx),o=Math.round(n.y/t.ddy);return i>=t.rx&&(i=t.rx-1),o>=t.ry&&(o=t.ry-1),i<0&&(i=0),o<0&&(o=0),t.listPixel[o*t.rx+i]}},{key:"MouseMove",value:function(e,t,n){console.log("mouseMove x:"+e+", y:"+t+", z:"+n);var i=this.GetPixelAtPoint(new p.h(e,t,n));console.log(i.nPix)}},{key:"onDocumentMouseMove",value:function(){console.log("move")}},{key:"onmouseenter",value:function(){console.log("enter")}},{key:"CVisLineGrid",value:function(e){for(var t=this,n=0;n<t.listPixel.length;++n){e.lineWidth=.5,e.beginPath(),e.moveTo(t.listPixel[n].recVec[0].x,t.listPixel[n].recVec[0].y);for(var i=1;i<t.listPixel[n].recVec.length;++i)e.lineTo(t.listPixel[n].recVec[i].x,t.listPixel[n].recVec[i].y);e.closePath(),e.strokeStyle="#ff0000",e.stroke()}}},{key:"VisMeshGrid",value:function(){for(var e=0;e<this.listPixel.length;++e);}},{key:"VisCenterPoints",value:function(){for(var e=[],t=0;t<this.listPixel.length;++t)e.push(this.listPixel[t].vec)}},{key:"Render",value:function(e){}},{key:"GetTriFloatArray",value:function(){return new Float32Array(this.GetTriArray())}},{key:"GetTriArray",value:function(){for(var e=[],t=0;t<this.ry-1;++t)for(var n=new de(this,p.h.Origin()),i=0;i<this.rx-1;++i){var o=t*this.rx+i;n=this.listPixel[o],e.push(n.vec.x,n.vec.y,n.vec.z),n=this.listPixel[o+this.rx],e.push(n.vec.x,n.vec.y,n.vec.z),n=this.listPixel[o+this.rx+1],e.push(n.vec.x,n.vec.y,n.vec.z),n=this.listPixel[o],e.push(n.vec.x,n.vec.y,n.vec.z),n=this.listPixel[o+this.rx+1],e.push(n.vec.x,n.vec.y,n.vec.z),n=this.listPixel[o+1],e.push(n.vec.x,n.vec.y,n.vec.z)}return e}},{key:"GetPtFloatArray",value:function(){return new Float32Array(this.GetPtArray())}},{key:"GetPtArray",value:function(){for(var e=[],t=0;t<this.listPixel.length;++t){var n=this.listPixel[t].vec;e.push(n.x,n.y,n.z)}return e}},{key:"GetNormalFloatArray",value:function(){return new Float32Array(this.GetNormalArray())}},{key:"GetNormalArray",value:function(){for(var e=[],t=new de(this,p.h.Origin()),n=new p.h(0,0,0),i=0;i<this.ry-1;++i)for(var o=0;o<this.rx-1;++o){var r=o+i*this.rx;t=this.listPixel[r],n.x=t.vec.x,n.y=t.vec.y,n.z=t.vec.z,n.Normalize(),e.push(n.x,n.y,n.z),t=this.listPixel[r+this.rx],n.x=t.vec.x,n.y=t.vec.y,n.z=t.vec.z,n.Normalize(),e.push(n.x,n.y,n.z),t=this.listPixel[r+this.rx+1],n.x=t.vec.x,n.y=t.vec.y,n.z=t.vec.z,n.Normalize(),e.push(n.x,n.y,n.z),t=this.listPixel[r],n.x=t.vec.x,n.y=t.vec.y,n.z=t.vec.z,n.Normalize(),e.push(n.x,n.y,n.z),t=this.listPixel[r+this.rx+1],n.x=t.vec.x,n.y=t.vec.y,n.z=t.vec.z,n.Normalize(),e.push(n.x,n.y,n.z),t=this.listPixel[r+1],n.x=t.vec.x,n.y=t.vec.y,n.z=t.vec.z,n.Normalize(),e.push(n.x,n.y,n.z)}return e}},{key:"GetTexCoordinFloatArray",value:function(){return new Float32Array(this.GetTexCoordinArray())}},{key:"GetTexCoordinArray",value:function(){for(var e=[],t=0;t<this.listPixel.length;++t){var n=this.listPixel[t].u/(this.rx-1),i=this.listPixel[t].v/(this.ry-1);e.push(n,i),e.push(n,i+this.ddy),e.push(n+this.ddx,i+this.ddy),e.push(n,i),e.push(n+this.ddx,i+this.ddy),e.push(n+this.ddx,i)}return e}}]),e}();xe.img=void 0,function(e){e.DEFAULT="DEFAULT",e.START="START",e.END="END"}(ye||(ye={}));var pe=function(){function e(t,n){(0,o.Z)(this,e),this.i=void 0,this.j=void 0,this.nPix=void 0,this.bVec=void 0,this.vec=void 0,this.pMap=void 0,this.data=void 0,this.isVisited=void 0,this.isGetData=void 0,this.temp=void 0,this.pMap=t,this.nPix=[],this.bVec=[],this.vec=n,this.data=[],this.isVisited=!1,this.isGetData=!0}return(0,i.Z)(e,[{key:"GetData",value:function(){return this.isGetData?this.data.length:0}},{key:"SumDataByNPix",value:function(e){}}]),e}(),ge=function(){function e(t){(0,o.Z)(this,e),this.listPixel=[],this.rx=0,this.ry=0,this.ddx=0,this.ddy=0,this.offScale=void 0,this.d=void 0,this.minV=void 0,this.maxV=void 0,this.minData=void 0,this.maxData=void 0,this.v0=p.h.Origin(),this.v1=p.h.Origin(),this.d=t,this.ComputeMinMaxPos(),this.Init(this.minV,this.maxV,100,100),this.InitGrid(),this.InitGridNeighbor(),this.PushDataToPixel(this.d),this.ComputeMinMaxValue(this.d)}return(0,i.Z)(e,[{key:"ComputeMinMaxPos",value:function(){for(var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,o=this.d.length;o--;){var r=this.d[o][1],a=this.d[o][0];0!==r&&0!==a&&(e>r&&(e=r),n>a&&(n=a),t<r&&(t=r),i<a&&(i=a))}this.minV=new p.h(e,n,0),this.maxV=new p.h(t,i,0)}},{key:"Init",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;this.offScale=.9,this.rx=n,this.ry=i,this.ddx=0,this.ddy=0,this.v0=e,this.v1=t,this.ddx=(this.v1.x-this.v0.x)/(this.rx-1),this.ddy=(this.v1.y-this.v0.y)/(this.ry-1),console.debug("ddx is "+this.ddx+". ddy is "+this.ddx),console.debug("Pixe Map was executed...")}},{key:"InitGrid",value:function(){console.debug(this.rx,this.ry);for(var e=0;e<this.ry;++e)for(var t=0;t<this.rx;++t){var n=this.v0.x+t*this.ddx,i=this.v0.y+e*this.ddy,o=new pe(this,new p.h(n,i,0));o.i=t,o.j=e,o.bVec.push(new p.h(n-.5*this.ddx,i-.5*this.ddy,0)),o.bVec.push(new p.h(n+.5*this.ddx,i-.5*this.ddy,0)),o.bVec.push(new p.h(n+.5*this.ddx,i+.5*this.ddy,0)),o.bVec.push(new p.h(n-.5*this.ddx,i+.5*this.ddy,0)),this.listPixel.push(o)}}},{key:"InitGridNeighbor",value:function(){for(var e=0;e<this.ry;++e)for(var t=0;t<this.rx;++t){var n=e*this.rx+t,i=this.listPixel[n];t>0&&i.nPix.push(this.listPixel[n-1]),t<this.rx-1&&i.nPix.push(this.listPixel[n+1]),e>0&&i.nPix.push(this.listPixel[n-this.rx]),e<this.ry-1&&i.nPix.push(this.listPixel[n+this.rx]),t>0&&e<this.ry-1&&i.nPix.push(this.listPixel[n+this.rx-1]),t>0&&e>0&&i.nPix.push(this.listPixel[n-this.rx-1]),t<this.rx-1&&e<this.ry-1&&i.nPix.push(this.listPixel[n+this.rx+1]),t<this.rx-1&&e>0&&i.nPix.push(this.listPixel[n-this.rx+1])}console.debug("done for computing neighbors ")}},{key:"ComputePixelOff",value:function(){for(var e=this.listPixel.length;e--;){var t=p.h.GetCenterVecFromVecs(this.listPixel[e].bVec);this.listPixel[e].vec=t;for(var n=0;n<this.listPixel[e].bVec.length;++n){var i=this.listPixel[e].bVec[n],o=(i.x-t.x)*this.offScale+t.x,r=(i.y-t.y)*this.offScale+t.y;this.listPixel[e].bVec[n]=new p.h(o,r,0)}}}},{key:"PushDataToPixel",value:function(e){for(var t=this.d.length;t--;){var n=new p.h(this.d[t][1],this.d[t][0],0);this.GetPixelAtPoint(n).data.push(n)}console.log(this)}},{key:"ComputeMinMaxValue",value:function(e){this.minData=Number.MAX_SAFE_INTEGER,this.maxData=Number.MIN_SAFE_INTEGER;for(var t=0;t<this.listPixel.length;++t){var n=this.listPixel[t].data.length;n<this.minData&&(this.minData=n),n>this.maxData&&(this.maxData=n)}}},{key:"GetPixelAtPoint",value:function(e){var t=this,n=new p.h(e.x-t.v0.x,e.y-t.v0.y,e.z-t.v0.z),i=Math.round(n.x/t.ddx),o=Math.round(n.y/t.ddy);return i>=t.rx&&(i=t.rx-1),o>=t.ry&&(o=t.ry-1),i<0&&(i=0),o<0&&(o=0),t.listPixel[o*t.rx+i]}},{key:"GetDataAtPoint",value:function(e){return this.GetPixelAtPoint(e).data.length}},{key:"GetDataAtByVecs",value:function(e,t){var n=this.GetPixelAtPoint(e);return n.SumDataByNPix(t),n.data.length}},{key:"ForwardPropagation",value:function(e,t){var n=[];n.push(this.GetPixelAtPoint(e));for(var i=0,o=0;o<100&&0!==n.length;++o){var r=n[0];n.shift();var a,s=(0,y.Z)(r.nPix);try{for(s.s();!(a=s.n()).done;){var h=a.value;p.h.IsInsideOfVecs(h.vec,t)&&(n.push(h),i+=h.GetData(),h.isVisited=!0)}}catch(u){s.e(u)}finally{s.f()}}return i}},{key:"LogUpdate",value:function(e){}},{key:"Query",value:function(e,t,n){}},{key:"onDocumentMouseMove",value:function(){console.debug("move")}},{key:"onmouseenter",value:function(){console.debug("enter")}},{key:"VisMeshGrid",value:function(){}},{key:"VisCenterPoints",value:function(){}},{key:"UpdatePost",value:function(){}}],[{key:"Add",value:function(t){e.list.push(t)}},{key:"Remove",value:function(t){e.list.splice(e.list.indexOf(t),1)}}]),e}();ge.list=[];var me=n(55378),Me=(0,i.Z)((function e(){(0,o.Z)(this,e),this.isStandalone=!1,this.compileMode=B.DEVELOPMENT}))},89444:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#000000","colSelectedText":"#ffffff","widthEach":250,"heightEach":23,"textYOff":15,"font":"normal 12px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},70294:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#0080FF","colSelectedText":"#ffffff","widthEach":250,"heightEach":20,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},4008:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#575757","colSelectedText":"#ffffff","widthEach":250,"heightEach":20,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},95862:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#cccccc","colSelectedText":"#ffffff","widthEach":250,"heightEach":20,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},10117:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#29AB87","colSelectedText":"#ffffff","widthEach":250,"heightEach":22,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},22412:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#ffa500","colSelectedText":"#ffffff","widthEach":250,"heightEach":22,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},93146:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#9400D3","colSelectedText":"#ffffff","widthEach":300,"heightEach":22,"textYOff":15,"font":"normal 12px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},98732:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#ff0000","colSelectedText":"#ffffff","widthEach":250,"heightEach":20,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')}}]);
//# sourceMappingURL=6795.b48cd7c0.chunk.js.map