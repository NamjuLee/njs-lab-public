"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[2107],{62107:function(i,t,e){e.r(t),e.d(t,{AppGridSystem:function(){return a}});var s=e(15671),n=e(43144),h=function(){function i(t){(0,s.Z)(this,i),this.canvas=void 0,this.host=void 0,this.ctx=void 0,this.t=0,this.active=!1,this.InitCanvas(t)}return(0,n.Z)(i,[{key:"InitCanvas",value:function(i){var t=document.createElement("canvas"),e=document.getElementById(i);if(e&&(e.appendChild(t),this.host=e),t){this.canvas=t,this.canvas.width=this.host.clientWidth,this.canvas.height=this.host.clientHeight;var s=this.canvas.getContext("2d");s&&(this.ctx=s,this.Init())}}},{key:"Init",value:function(){this.active=!0,this.EventBind(),this.Loop()}},{key:"EventBind",value:function(){var i=this;this.canvas.onmousedown=function(t){return i.MouseDown(t)},this.canvas.onmouseup=function(t){return i.MouseUp(t)},this.canvas.onmousemove=function(t){return i.MouseMove(t)},window.onresize=function(t){return i.Resize(t)}}},{key:"Resize",value:function(i){this.canvas.width=this.host.clientWidth,this.canvas.height=this.host.clientHeight}},{key:"Loop",value:function(){var i=this;requestAnimationFrame((function(){i.Loop()})),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.beginPath(),this.ctx.rect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.closePath(),this.ctx.fillStyle="#eeeeee",this.ctx.fill(),this.Render(this.ctx)}},{key:"Render",value:function(i){}},{key:"MouseDown",value:function(i){}},{key:"MouseUp",value:function(i){}},{key:"MouseMove",value:function(i){}},{key:"destroy",value:function(){for(this.active=!1;this.host.lastChild;)this.host.removeChild(this.host.lastChild)}}]),i}(),o=e(16795),r=function(){function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.h9(0,0,0);(0,s.Z)(this,i),this.map=void 0,this.vec=void 0,this.norV=void 0,this.nPix=[],this.recVec=void 0,this.i=-1,this.j=-1,this.k=-1,this.u=-1,this.v=-1,this.id=void 0,this.data=void 0,this.map=t,this.vec=e,this.nPix=[],this.recVec=[],this.i=-1,this.j=-1,this.k=-1,this.id=i.GetID(),this.data={}}return(0,n.Z)(i,[{key:"ToString",value:function(){var i="Pixel"+this.id;return console.log(i),i}},{key:"Update",value:function(){}},{key:"Render",value:function(){}}],[{key:"GetID",value:function(){return i.ID++}}]),i}();r.ID=0;var c=function(){function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;(0,s.Z)(this,i),this.listPixel=[],this.rx=0,this.ry=0,this.ddx=0,this.ddy=0,this.v0=o.h9.Origin(),this.v1=o.h9.Origin(),this.rx=n,this.ry=h,this.ddx=0,this.ddy=0,this.v0=t,this.v1=e,this.Init()}return(0,n.Z)(i,[{key:"Init",value:function(){this.ddx=(this.v1.x-this.v0.x)/(this.rx-1),this.ddy=(this.v1.y-this.v0.y)/(this.ry-1),console.log("ddx is "+this.ddx+". ddy is "+this.ddx),console.log("Pixe Map was executed..."),this.InitGrid()}},{key:"InitGrid",value:function(){console.log(this.rx,this.ry);for(var i=0;i<this.ry;++i)for(var t=0;t<this.rx;++t){var e=this.v0.x+t*this.ddx,s=this.v0.y+i*this.ddy,n=new r(this);n.i=t,n.j=i,n.vec=new o.h9(e,s,0),n.recVec.push(new o.h9(e-.5*this.ddx,s-.5*this.ddy,0)),n.recVec.push(new o.h9(e+.5*this.ddx,s-.5*this.ddy,0)),n.recVec.push(new o.h9(e+.5*this.ddx,s+.5*this.ddy,0)),n.recVec.push(new o.h9(e-.5*this.ddx,s+.5*this.ddy,0)),this.listPixel.push(n)}this.InitGridNeighbor()}},{key:"InitGridNeighbor",value:function(){for(var i=0;i<this.ry;++i)for(var t=0;t<this.rx;++t){var e=i*this.rx+t,s=this.listPixel[e];t>0&&s.nPix.push(this.listPixel[e-1]),t<this.rx-1&&s.nPix.push(this.listPixel[e+1]),i>0&&s.nPix.push(this.listPixel[e-this.rx]),i<this.ry-1&&s.nPix.push(this.listPixel[e+this.rx]),t>0&&i<this.ry-1&&s.nPix.push(this.listPixel[e+this.rx-1]),t>0&&i>0&&s.nPix.push(this.listPixel[e-this.rx-1]),t<this.rx-1&&i<this.ry-1&&s.nPix.push(this.listPixel[e+this.rx+1]),t<this.rx-1&&i>0&&s.nPix.push(this.listPixel[e-this.rx+1])}console.log("done for computing neighbors ")}},{key:"GetPixelAtPoint",value:function(i){var t=this,e=new o.h9(i.x-t.v0.x,i.y-t.v0.y,i.z-t.v0.z),s=Math.round(e.x/t.ddx),n=Math.round(e.y/t.ddy);return s>=t.rx&&(s=t.rx-1),n>=t.ry&&(n=t.ry-1),s<0&&(s=0),n<0&&(n=0),t.listPixel[n*t.rx+s]}},{key:"MouseMove",value:function(i,t,e){console.log("mouseMove x:"+i+", y:"+t+", z:"+e);var s=this.GetPixelAtPoint(new o.h9(i,t,e));console.log(s.nPix)}},{key:"onDocumentMouseMove",value:function(){}},{key:"onmouseenter",value:function(){}},{key:"CVisLineGrid",value:function(i){for(var t=this,e=0;e<t.listPixel.length;++e){i.lineWidth=.5,i.beginPath(),i.moveTo(t.listPixel[e].recVec[0].x,t.listPixel[e].recVec[0].y);for(var s=1;s<t.listPixel[e].recVec.length;++s)i.lineTo(t.listPixel[e].recVec[s].x,t.listPixel[e].recVec[s].y);i.closePath(),i.strokeStyle="#ff0000",i.stroke()}}},{key:"VisMeshGrid",value:function(){for(var i=0;i<this.listPixel.length;++i);}},{key:"VisCenterPoints",value:function(i){var t=this;i.fillStyle="#0ff00f";for(var e=0;e<t.listPixel.length;++e)i.beginPath(),i.arc(t.listPixel[e].vec.x,t.listPixel[e].vec.y,5,0,6.28),i.closePath(),i.fill()}},{key:"Render",value:function(i){this.CVisLineGrid(i),this.VisCenterPoints(i)}}]),i}(),u=function(){function i(){(0,s.Z)(this,i),this.pMap=void 0,this.pMap=new c(new o.h9(10,10),new o.h9(200,200)),console.log(this.pMap)}return(0,n.Z)(i,[{key:"Render",value:function(i){this.pMap.Render(i)}},{key:"MouseDown",value:function(i){console.log(i,"core")}},{key:"MouseUp",value:function(i){console.log(i,"core")}},{key:"MouseMove",value:function(i){console.log(i,"core")}},{key:"MouseDrag",value:function(i){console.log(i,"core")}}]),i}(),a=function(){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SandBox";(0,s.Z)(this,i),this.canvasCore=void 0,this.core=void 0,this.core=new u,this.canvasCore=new h(t),this.BindEvent(),this.BindRenderer()}return(0,n.Z)(i,[{key:"BindEvent",value:function(){var i=this;this.canvasCore.MouseDown=function(t){return i.core.MouseDown(t)},this.canvasCore.MouseMove=function(t){return i.core.MouseMove(t)},this.canvasCore.MouseUp=function(t){return i.core.MouseUp(t)}}},{key:"BindRenderer",value:function(){var i=this;this.canvasCore.Render=function(t){return i.core.Render(t)}}},{key:"destroy",value:function(){this.canvasCore.destroy()}}]),i}()}}]);
//# sourceMappingURL=2107.8d40265e.chunk.js.map