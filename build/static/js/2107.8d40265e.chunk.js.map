{"version":3,"file":"static/js/2107.8d40265e.chunk.js","mappings":"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","sources":["njslab/Lab/AppGridSystem/CanvasCore/index.ts","njslab/Lab/AppGridSystem/Core/PixelMap/Pixel.ts","njslab/Lab/AppGridSystem/Core/PixelMap/PixelMap.ts","njslab/Lab/AppGridSystem/Core/Core.ts","njslab/Lab/AppGridSystem/index.ts"],"sourcesContent":["\r\nexport class CanvasCore {\r\n    canvas: HTMLCanvasElement;\r\n    host: HTMLElement;\r\n    ctx: CanvasRenderingContext2D;\r\n    t: number = 0.0;\r\n    private active = false;\r\n    constructor(id: string) {\r\n        this.InitCanvas(id);\r\n    }\r\n    InitCanvas(id: string) {\r\n        const canvas = document.createElement('canvas');\r\n        const host = document.getElementById(id);\r\n        if (host) {\r\n            host.appendChild(canvas);\r\n            this.host = host;\r\n        }\r\n        if (canvas) {\r\n            this.canvas = canvas;\r\n            this.canvas.width = this.host.clientWidth;\r\n            this.canvas.height = this.host.clientHeight;\r\n            const ctx = this.canvas.getContext('2d');\r\n            if (ctx) {\r\n                this.ctx = ctx;\r\n                this.Init();\r\n            }\r\n        }\r\n    }\r\n    Init() {\r\n        this.active = true;\r\n        this.EventBind();\r\n        this.Loop();\r\n    }\r\n    EventBind() {\r\n        this.canvas.onmousedown = (e: MouseEvent) => this.MouseDown(e);\r\n        this.canvas.onmouseup = (e: MouseEvent) => this.MouseUp(e);\r\n        this.canvas.onmousemove = (e: MouseEvent) => this.MouseMove(e);\r\n        window.onresize = (e: UIEvent) => this.Resize(e);\r\n\r\n    }\r\n    Resize(e: UIEvent) {\r\n        this.canvas.width = this.host.clientWidth;\r\n        this.canvas.height = this.host.clientHeight;\r\n    }\r\n    Loop() {\r\n        // if (!this.active) { return; }\r\n        requestAnimationFrame(() => { this.Loop(); });\r\n        this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n        this.ctx.beginPath();\r\n        this.ctx.rect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n        this.ctx.closePath();\r\n        this.ctx.fillStyle = '#eeeeee';\r\n        this.ctx.fill();\r\n        this.Render(this.ctx);\r\n    }\r\n    Render(ctx: CanvasRenderingContext2D) {\r\n        // console.log(ctx);\r\n    }\r\n    MouseDown(e: MouseEvent) {\r\n        // console.log(e);\r\n    }\r\n    MouseUp(e: MouseEvent) {\r\n        // console.log(e);\r\n    }\r\n    MouseMove(e: MouseEvent) {\r\n        // console.log(e);\r\n    }\r\n    public destroy(){\r\n        this.active = false;\r\n        while(this.host.lastChild) {\r\n            this.host.removeChild(this.host.lastChild);\r\n        }\r\n    }\r\n}","import { PixelMap } from './PixelMap';\r\nimport { NVector3 } from '../../../../../lib/NJSCore';\r\nexport class Pixel {\r\n    static ID = 0;\r\n    map: PixelMap;\r\n    vec: NVector3;\r\n    norV: NVector3;\r\n    nPix: Pixel[] = [];\r\n    recVec: NVector3[];\r\n    i: number = -1;\r\n    j: number = -1;\r\n    k: number = -1;\r\n    u: number = -1;\r\n    v: number = -1;\r\n    id: number;\r\n    data: {};\r\n    static GetID() { return Pixel.ID++; }\r\n    constructor(map: PixelMap, v: NVector3 = new NVector3(0, 0, 0)) {\r\n        this.map = map;\r\n        this.vec = v;\r\n        this.nPix = [];\r\n        this.recVec = [];\r\n        this.i = -1;\r\n        this.j = -1;\r\n        this.k = -1;\r\n        this.id = Pixel.GetID();\r\n        this.data = {};\r\n    }\r\n    public ToString() {\r\n        let temp = 'Pixel' + this.id;\r\n        console.log(temp);\r\n        return temp;\r\n    }\r\n    public Update() {\r\n        /* */\r\n    }\r\n    public Render() {\r\n        /* */\r\n    }\r\n}","import { NVector3 } from '../../../../../lib/NJSCore';\r\nimport { Pixel } from './Pixel';\r\n\r\nexport class PixelMap {\r\n    public listPixel: Pixel[] = [];\r\n    public rx: number = 0;\r\n    public ry: number = 0;\r\n    public ddx: number = 0.0;\r\n    public ddy: number = 0.0;\r\n    public v0: NVector3 = NVector3.Origin();\r\n    public v1: NVector3 = NVector3.Origin();\r\n    constructor(v0: NVector3, v1: NVector3, rx: number = 10, ry: number = 10) {\r\n        this.rx = rx;\r\n        this.ry = ry;\r\n        this.ddx = 0.0;\r\n        this.ddy = 0.0;\r\n        this.v0 = v0;\r\n        this.v1 = v1;\r\n        // this.Built();\r\n        this.Init();\r\n    }\r\n    public Init() {\r\n        this.ddx = (this.v1.x - this.v0.x) / (this.rx - 1.0);\r\n        this.ddy = (this.v1.y - this.v0.y) / (this.ry - 1.0);\r\n        console.log('ddx is ' + this.ddx + '. ddy is ' + this.ddx);\r\n        console.log('Pixe Map was executed...');\r\n        this.InitGrid();\r\n    }\r\n    public InitGrid() {\r\n        console.log(this.rx, this.ry);\r\n\r\n        for (let j = 0; j < this.ry; ++j) {\r\n            for (let i = 0; i < this.rx; ++i) {\r\n                let x = this.v0.x + i * this.ddx;\r\n                let y = this.v0.y + j * this.ddy;\r\n                let px = new Pixel(this);\r\n                px.i = i; px.j = j;\r\n                px.vec = new NVector3(x, y, 0);\r\n                px.recVec.push(new NVector3(x - this.ddx * 0.5, y - this.ddy * 0.5, 0.0));\r\n                px.recVec.push(new NVector3(x + this.ddx * 0.5, y - this.ddy * 0.5, 0.0));\r\n                px.recVec.push(new NVector3(x + this.ddx * 0.5, y + this.ddy * 0.5, 0.0));\r\n                px.recVec.push(new NVector3(x - this.ddx * 0.5, y + this.ddy * 0.5, 0.0));\r\n                // console.log(px);\r\n                this.listPixel.push(px);\r\n            }\r\n        }\r\n        this.InitGridNeighbor();\r\n    }\r\n    public InitGridNeighbor() {\r\n        for (let j = 0; j < this.ry; ++j) {\r\n            for (let i = 0; i < this.rx; ++i) {\r\n                let k = j * this.rx + i;\r\n                let px0 = this.listPixel[k];\r\n                if (i > 0) { px0.nPix.push(this.listPixel[k - 1]); }\r\n                if (i < this.rx - 1) { px0.nPix.push(this.listPixel[k + 1]); }\r\n                if (j > 0) { px0.nPix.push(this.listPixel[k - this.rx]); }\r\n                if (j < this.ry - 1) { px0.nPix.push(this.listPixel[k + this.rx]); }\r\n                if ((i > 0) && (j < this.ry - 1)) { px0.nPix.push(this.listPixel[k + this.rx - 1]); }\r\n                if ((i > 0) && (j > 0)) { px0.nPix.push(this.listPixel[k - this.rx - 1]); }\r\n                if ((i < this.rx - 1) && (j < this.ry - 1)) { px0.nPix.push(this.listPixel[k + this.rx + 1]); }\r\n                if ((i < this.rx - 1) && (j > 0)) { px0.nPix.push(this.listPixel[k - this.rx + 1]); }\r\n            }\r\n        }\r\n        console.log('done for computing neighbors ');\r\n    }\r\n    public GetPixelAtPoint(pt: NVector3) {\r\n        let pixelMap = this;\r\n        let dp = new NVector3(pt.x - pixelMap.v0.x, pt.y - pixelMap.v0.y, pt.z - pixelMap.v0.z);\r\n        let i = Math.round(dp.x / pixelMap.ddx);\r\n        let j = Math.round(dp.y / pixelMap.ddy);\r\n        if (i >= pixelMap.rx) { i = pixelMap.rx - 1; }\r\n        if (j >= pixelMap.ry) { j = pixelMap.ry - 1; }\r\n        if (i < 0) { i = 0; }\r\n        if (j < 0) { j = 0; }\r\n        return pixelMap.listPixel[j * pixelMap.rx + i];\r\n    }\r\n    ////////////////// event\r\n    public MouseMove(x: number, y: number, z: number) {\r\n        let pixelMap = this;\r\n        console.log('mouseMove x:' + x + ', y:' + y + ', z:' + z);\r\n        let cpt = pixelMap.GetPixelAtPoint(new NVector3(x, y, z));\r\n        console.log(cpt.nPix);\r\n        // VisBufferPointsFromVecs(cpt.ptsCenter, 100);\r\n    }\r\n    public onDocumentMouseMove() {\r\n        // console.log('move');\r\n    }\r\n    public onmouseenter() {\r\n        // console.log('enter');\r\n    }\r\n    ////////////////// visualization\r\n    public CVisLineGrid(ctx: CanvasRenderingContext2D) {\r\n        let pixelMap = this;\r\n        for (let i = 0; i < pixelMap.listPixel.length; ++i) {\r\n            let color = '#ff0000';\r\n            // console.log('d');\r\n            ctx.lineWidth = 0.5;\r\n            ctx.beginPath();\r\n            ctx.moveTo(pixelMap.listPixel[i].recVec[0].x, pixelMap.listPixel[i].recVec[0].y);\r\n            // console.log(pixelMap.listPixel[i].recVec)\r\n            for (let j = 1; j < pixelMap.listPixel[i].recVec.length; ++j) {\r\n                ctx.lineTo(pixelMap.listPixel[i].recVec[j].x, pixelMap.listPixel[i].recVec[j].y);\r\n                // console.log(pixelMap.listPixel[i].nPix[j].vec.x, pixelMap.listPixel[i].nPix[j].vec.y);\r\n\r\n            }\r\n            ctx.closePath();\r\n            ctx.strokeStyle = color; // ColorUtility.HexToCanvasColor(color, 1);\r\n            ctx.stroke();\r\n            // ctx.fill();\r\n        }\r\n    }\r\n    public VisMeshGrid() {\r\n        let pixelMap = this;\r\n        for (let i = 0; i < pixelMap.listPixel.length; ++i) {\r\n            // VisMeshRectFromFourVecs(pixelMap.listPixel[i].ptsRectLst);\r\n        }\r\n    }\r\n    public VisCenterPoints(ctx: CanvasRenderingContext2D) {\r\n        let pixelMap = this;\r\n        // let pts: NVector3[] = [];\r\n        ctx.fillStyle = '#0ff00f';\r\n        for (let i = 0; i < pixelMap.listPixel.length; ++i) {\r\n            ctx.beginPath();\r\n            ctx.arc(pixelMap.listPixel[i].vec.x, pixelMap.listPixel[i].vec.y, 5, 0, 3.14 * 2);\r\n            // pts.push(pixelMap.listPixel[i].vec);\r\n            ctx.closePath();\r\n            ctx.fill();\r\n        }\r\n        // VisBufferPointsFromVecs(pts);\r\n    }\r\n    public Render(ctx: CanvasRenderingContext2D) {\r\n        /* */\r\n        this.CVisLineGrid(ctx);\r\n        this.VisCenterPoints(ctx);\r\n    }\r\n}","import { PixelMap } from './PixelMap/PixelMap';\r\nimport { NVector3 } from '../../../../lib/NJSCore';\r\nexport class Core {\r\n    pMap: PixelMap;\r\n    constructor() {\r\n        this.pMap = new PixelMap(new NVector3(10, 10), new NVector3(200, 200));\r\n        console.log(this.pMap);\r\n    }\r\n    Render(ctx: CanvasRenderingContext2D) {\r\n        this.pMap.Render(ctx);\r\n    }\r\n    MouseDown(e: MouseEvent) {\r\n        console.log(e, 'core');\r\n    }\r\n    MouseUp(e: MouseEvent) {\r\n        console.log(e, 'core');\r\n    }\r\n    MouseMove(e: MouseEvent) {\r\n        console.log(e, 'core');\r\n    }\r\n    MouseDrag(e: MouseEvent) {\r\n        console.log(e, 'core');\r\n    }\r\n}","import { CanvasCore } from './CanvasCore';\r\nimport { Core } from './Core/Core';\r\nexport class AppGridSystem {\r\n    canvasCore: CanvasCore;\r\n    core: Core;\r\n\r\n    constructor(id: string = 'SandBox') {\r\n        this.core = new Core();\r\n        this.canvasCore = new CanvasCore(id);\r\n        this.BindEvent();\r\n        this.BindRenderer();\r\n    }\r\n    BindEvent() {\r\n        this.canvasCore.MouseDown = (e: MouseEvent) => this.core.MouseDown(e);\r\n        this.canvasCore.MouseMove = (e: MouseEvent) => this.core.MouseMove(e);\r\n        this.canvasCore.MouseUp = (e: MouseEvent) => this.core.MouseUp(e);\r\n    }\r\n    BindRenderer() {\r\n        this.canvasCore.Render = (ctx: CanvasRenderingContext2D) => this.core.Render(ctx);\r\n    }\r\n    public destroy() {\r\n        this.canvasCore.destroy();\r\n    }\r\n}\r\n"],"names":["CanvasCore","id","canvas","host","ctx","t","active","this","InitCanvas","document","createElement","getElementById","appendChild","width","clientWidth","height","clientHeight","getContext","Init","EventBind","Loop","onmousedown","e","MouseDown","onmouseup","MouseUp","onmousemove","MouseMove","window","onresize","Resize","requestAnimationFrame","clearRect","beginPath","rect","closePath","fillStyle","fill","Render","lastChild","removeChild","Pixel","map","v","NVector3","vec","norV","nPix","recVec","i","j","k","u","data","GetID","temp","console","log","ID","PixelMap","v0","v1","rx","ry","listPixel","ddx","ddy","x","y","InitGrid","px","push","InitGridNeighbor","px0","pt","pixelMap","dp","z","Math","round","cpt","GetPixelAtPoint","length","lineWidth","moveTo","lineTo","strokeStyle","stroke","arc","CVisLineGrid","VisCenterPoints","Core","pMap","AppGridSystem","canvasCore","core","BindEvent","BindRenderer","destroy"],"sourceRoot":""}