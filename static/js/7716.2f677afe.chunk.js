"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[7716],{27716:function(e,n,r){r.r(n),r.d(n,{Solution:function(){return l}});var t=r(29439),a=r(74165),s=r(15861),u=r(15671),o=r(43144),i=r(88859),c=r(30386),l=(r(64355),function(){function e(n){(0,u.Z)(this,e),console.log("Let's learn TF JS !!"),console.log("=============================="),p(),console.log("Playground done!")}return(0,o.Z)(e,[{key:"destroy",value:function(){}}]),e}()),p=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return n=e.sent,console.log(n),d(n),e.next=7,m(n);case 7:return r=e.sent,console.log(r),t=h(),e.next=12,b(t,r.inputs,r.labels);case 12:v(t,n,r);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://storage.googleapis.com/tfjs-tutorials/carsData.json");case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,t=r.map((function(e){return{mpg:e.Miles_per_Gallon,horsepower:e.Horsepower}})).filter((function(e){return null!=e.mpg&&null!=e.horsepower})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.map((function(e){return{x:e.horsepower,y:e.mpg}})),c.render.scatterplot({name:"Horsepower v MPG"},{values:r},{xLabel:"Horsepower",yLabel:"MPG",height:300});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=i.sequential();return e.add(i.layers.dense({inputShape:[1],units:1,useBias:!0})),e.add(i.layers.dense({units:1,useBias:!0})),e},m=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.tidy((function(){i.util.shuffle(n);var e=n.map((function(e){return e.horsepower})),r=n.map((function(e){return e.mpg})),t=i.tensor2d(e,[e.length,1]),a=i.tensor2d(r,[r.length,1]),s=t.max(),u=t.min(),o=a.max(),c=a.min();return{inputs:t.sub(u).div(s.sub(u)),labels:a.sub(c).div(o.sub(c)),inputMax:s,inputMin:u,labelMax:o,labelMin:c}})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n,r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.compile({optimizer:i.train.adam(),loss:i.losses.meanSquaredError,metrics:["mse"]}),32,30,e.next=5,n.fit(r,t,{batchSize:32,epochs:30,shuffle:!0,callbacks:c.show.fitCallbacks({name:"Training Performance"},["loss","mse"],{height:200,callbacks:["onEpochEnd"]})});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),v=function(e,n,r){var a=r.inputMax,s=r.inputMin,u=r.labelMin,o=r.labelMax,l=i.tidy((function(){var n=i.linspace(0,1,100),r=e.predict(n.reshape([100,1])),t=n.mul(a.sub(s)).add(s),c=r.mul(o.sub(u)).add(u);return[t.dataSync(),c.dataSync()]})),p=(0,t.Z)(l,2),f=p[0],d=p[1],h=Array.from(f).map((function(e,n){return{x:e,y:d[n]}})),m=n.map((function(e){return{x:e.horsepower,y:e.mpg}}));c.render.scatterplot({name:"Model Predictions vs Original Data"},{values:[m,h],series:["original","predicted"]},{xLabel:"Horsepower",yLabel:"MPG",height:300})}}}]);
//# sourceMappingURL=7716.2f677afe.chunk.js.map