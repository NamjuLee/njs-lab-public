"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[2284],{72284:function(e,t,o){o.r(t),o.d(t,{Solution:function(){return l}});var n=o(15671),r=o(43144),s=o(60136),i=o(29388),a=o(51207),u=o(87968),l=function(e){(0,s.Z)(o,e);var t=(0,i.Z)(o);function o(e){var r;(0,n.Z)(this,o),(r=t.call(this,e)).pts=[],r.routesMain=[],r.routesTreated=[],r.routesControl=[];var s=document.createElement("canvas");s.id="layer",s.width=r.mView.container.clientWidth,s.height=r.mView.container.clientHeight,s.style.background="rgba(0, 15, 0, 0.6)",s.style.position="absolute",s.style.pointerEvents="none",r.mView.container.appendChild(s);var i="/static/research/slow-zone/";return(0,u.getCSVFromURL)(i+"high_low_connectedness_user.csv").then((function(e){var t=e.split(/\r\n|\r|\n/g);console.log(t);for(var o=1;o<t.length;++o){var n=t[o].split(","),s=+n[3],i=+n[4];0===s&&0===i||r.pts.push([s,i])}console.log(r.pts),r.center(2.3375387,48.8606701),r.zoom(12)})),(0,u.getJSONFromURL)(i+"Paris-main-st.geojson").then((function(e){for(var t=0;t<e.features.length;++t)r.routesMain.push(e.features[t].geometry.coordinates)})),(0,u.getJSONFromURL)(i+"treated-st.geojson").then((function(e){for(var t=0;t<e.features.length;++t)r.routesTreated.push(e.features[t].geometry.coordinates)})),(0,u.getJSONFromURL)(i+"control-st.geojson").then((function(e){for(var t=0;t<e.features.length;++t)r.routesControl.push(e.features[t].geometry.coordinates)})),r.start(),r}return(0,r.Z)(o,[{key:"render",value:function(e){e.globalCompositeOperation="screen",h(e,this.routesMain,"#00FFFF",.5,this.toScreen),h(e,this.routesControl,"#ff0000",.5,this.toScreen),h(e,this.routesTreated,"#00ff00",.5,this.toScreen);for(var t=0;t<this.pts.length;++t){var o=this.toScreen(this.pts[t][0],this.pts[t][1]);c(e,o[0],o[1],this.time+3,"rgba(255, 0, 0, 0.85)")}}},{key:"keyDown",value:function(e){console.log("key pressed",e)}},{key:"mouseDown",value:function(e,t){console.log("mouse down")}},{key:"mouseUp",value:function(e,t){console.log("mouse up")}},{key:"mouseClick",value:function(e,t){console.log(e,t);var o=this.toMap(e,t);this.pts.push(o)}},{key:"mouseMove",value:function(e,t){}}]),o}(a.J0),c=function(e,t,o,n,r){e.fillStyle=r,e.beginPath(),e.arc(t,o,2*(Math.sin(.8*n)+4),0,2*Math.PI),e.closePath(),e.fill()},h=function(e,t,o,n,r){e.strokeStyle=o;for(var s=0;s<t.length;++s)for(var i=t[s],a=0;a<i.length;++a){var u=r(i[a][0][0],i[a][0][1]),l=new Path2D;l.moveTo(u[0],u[1]);for(var c=1;c<i[a].length;++c)u=r(i[a][c][0],i[a][c][1]),l.lineTo(u[0],u[1]);e.lineWidth=n,e.stroke(l)}}}}]);
//# sourceMappingURL=2284.0499192d.chunk.js.map