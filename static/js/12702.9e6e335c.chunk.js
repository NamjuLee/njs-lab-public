"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[12702],{12702:(t,e,s)=>{s.r(e),s.d(e,{Solution:()=>r});var i=s(17760),o=s(55913);class r extends o.TF{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main"),this.streetOSM=[],this.routesTreated=[],this.routesControl=[],this.zones30=[],this.positions=void 0,this.geometry=void 0,this.raycaster=new i.iMs,this.pointer=new i.FM8,this.mesh=void 0,this.sphere=void 0,this.renderPoints=(t,e,s)=>{const r=new i.u9r,h=new i.UY4({vertexColors:!0,size:.75}),n=[],a=[];for(let i=0;i<e.length;++i){const t=e[i];for(let e=0;e<t.length;++e)for(let i=0;i<t[e].length;++i){const[r,h]=(0,o._Y)(+t[e][i][0],+t[e][i][1]),c=.01*(r+-15478803.88731685),p=.01*(h+-4766681.448690384);n.push(c,0,p),a.push(s[0],s[1],s[2])}}r.setAttribute("position",new i.a$l(n,3)),r.setAttribute("color",new i.a$l(a,3)),r.computeBoundingSphere(),this.positions=n,this.geometry=r,this.mesh=new i.woe(r,h),t.add(this.mesh)};const t=new i.cek(16777215,.8);this.camera.add(t),this.scene.add(t),this.raycaster=new i.iMs,this.raycaster.params.Points.threshold=.8,this.raycaster.far=1e3;const e=new i.xo$(.1,32,32),s=new i.vBJ({color:16777215}),r=new i.Kj0(e,s);this.sphere=r,this.scene.add(r),this.camera.position.set(0,40,48),(0,o._N)("https://raw.githubusercontent.com/NamjuLee/data/master/Paris/street_osm.geojson").then((t=>{for(let e=0;e<t.features.length;++e)this.streetOSM.push(t.features[e].geometry.coordinates);this.renderPoints(this.scene,this.streetOSM,[0,1,1]),this.start()}))}mouseMove(t){this.pointer.x=t.offsetX/this.hostDiv.clientWidth*2-1,this.pointer.y=-t.offsetY/this.hostDiv.clientHeight*2+1}update(t){this.raycaster.setFromCamera(this.pointer,this.camera);const e=this.raycaster.intersectObjects([this.mesh],!1),s=e.length>0?e[0]:null;null!==s&&this.sphere.position.set(s.point.x,s.point.y,s.point.z);let r=this.mesh.geometry.attributes.position.count;for(let h=0;h<r;h++){let t=this.mesh.geometry.attributes.position,e=t.getX(h),r=t.getY(h),n=t.getZ(h);r=Math.sin(9*e*n+5*this.t),r=r<0?0:r;let a=new i.Pa4(e,r,n);this.mesh.geometry.attributes.position.setXYZ(h,a.x,a.y,a.z),null!==s&&(r=(0,o.hI)(e,r,n,s.point.x,s.point.y,s.point.z)/30),this.mesh.geometry.attributes.color.setXYZ(h,r,1-r,0)}this.mesh.geometry.attributes.position.needsUpdate=!0,this.mesh.geometry.attributes.color.needsUpdate=!0,this.mesh.geometry.computeVertexNormals()}}}}]);
//# sourceMappingURL=12702.9e6e335c.chunk.js.map