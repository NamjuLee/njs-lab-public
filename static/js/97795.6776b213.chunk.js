"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[97795],{12850:(e,i,t)=>{t.d(i,{D:()=>u});var s=t(4842),n=t(48224),h=t(55798),a=t(81106),d=t(70490),v=t(23209),o=t(95706),l=t(68520),c=t(11675),r=t(72924);class u extends a.J{constructor(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:170,h=arguments.length>5&&void 0!==arguments[5]&&arguments[5];super(e),this.independentPanelWrapper=void 0,this.divInput=void 0,this.btnClose=void 0,this.btnMini=void 0,this.btnHam=void 0,this.btnResize=void 0,this.bodyDiv=void 0,this.subMenu=void 0,this.subs=[],this._content=void 0,this.canvas=void 0,this.ctx=void 0,this.isActive=!0,this.independentPanelWrapper=e,this.title="njslabSandbox V3",this.width=s,this.height=n,0===i&&0===t?(this.vec.x=.5*e.width-.5*this.width,this.vec.y=.5*e.height-.5*this.height):(this.vec.x=i,this.vec.y=t),this.filletR=7,this.InitTop(),h&&(this.bodyDiv=new c.k(this,this.vec.x,this.vec.y+this.HeadHeight,this.width,this.height-this.HeadHeight)),this.InitCanvas(this.bodyDiv.div)}get IsMinimized(){return this.isMinimized}set IsMinimized(e){this.isMinimized=e,this.btnResize.isHidden=e,this.bodyDiv&&this.bodyDiv.Hide(e)}get Width(){return this.width}set Width(e){let i=e-this.width;this.width=e,this.btnHam.vec.x+=i,this.subMenu.vec.x+=i,this.bodyDiv&&(this.bodyDiv.Width=e)}get Height(){return this.height}set Height(e){this.height=e,this.bodyDiv&&(this.bodyDiv.Height=e)}get content(){return this._content}set content(e){this._content=e,this.bodyDiv&&(this.bodyDiv.content=e)}get HasSubMenu(){return this.hasSubMenu}set HasSubMenu(e){this.hasSubMenu=e,this.subMenu.IsHidden=!e}InitTop(){this.btnClose=new d.E(this,this.vec.x,this.vec.y),this.btnMini=new v.$(this,this.vec.x+25,this.vec.y),this.btnHam=new o.g(this,this.vec.x-25+this.width,this.vec.y),this.btnResize=new l.C(this,this.vec.x+this.width-10,this.vec.y+this.height-10,10,10),this.subMenu=new r.q(this),this.subs.push(this.btnClose,this.btnMini,this.btnHam)}Translate(e){if(!this.isMoveable)return;let i=e.x-e.preX,t=e.y-e.preY;this.vec.x+=i,this.vec.y+=t;for(let s=0;s<this.boundarVecs.length;++s)this.boundarVecs[s].x+=i,this.boundarVecs[s].y+=t;for(let s=0;s<this.subs.length;++s)this.subs[s].Translate(e);this.btnResize.vec.x+=i,this.btnResize.vec.y+=t,this.subMenu.Translate(i,t),this.bodyDiv&&this.bodyDiv.Translate(i,t)}Remove(){this.RemovePost();for(let e=0;e<this.subs.length;++e)this.subs[e].Remove();this.bodyDiv&&this.bodyDiv.Remove(),this.btnResize.Remove(),this.independentPanelWrapper.indePanelRender.Remove(this)}RenderPost(e){let i;this.ComputeBoundary(),i=n.mK.HexToCanvasColor(h.X.theme.mainMenuNormal,this.transparent),this.isMinimized||h.X.RoundedRectFillWithColorMainMenu(e,this.title,this.boundarVecs,this.filletR,0,this.isOver,this.isSelected,i),h.X.TopRoundedRectFill(e,this.title,s.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.HeadHeight),this.filletR,0,this.isOver,this.isSelected,this.theme.colSelectedBG,!1),this.RenderHeadTitle(e),this.isMinimized||this.RenderBodyContent(e),this.hasSubMenu&&this.subMenu.RenderPost(e),this.RenderBtnHorizontal(e)}RenderBtnHorizontal(e){}RenderHeadTitle(e){e.save(),e.fillStyle="#ffffff",e.textBaseline="top",e.textAlign="center",e.font="100 12px Arial",e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.fillText(this.title,this.vec.x+.5*this.width,this.vec.y+.5*this.HeadHeight-7),e.restore()}RenderBodyContent(e){}RemovePost(){this.isActive=!1}InitCanvas(e){this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="0",e.appendChild(this.canvas),this.canvas.id="NCanvasRenderer",this.canvas.className="njslab-web-core-canvas-renderer",this.canvas.style.pointerEvents="none",this.ctx=this.canvas.getContext("2d"),this.canvas.width=e.clientWidth,this.canvas.height=e.clientHeight,this.btnResize.ResizePropagation=(e,i)=>{this.canvas.width=e,this.canvas.height=i},this.LoopIndependentCanvas(this.ctx)}LoopIndependentCanvas(e){this.isActive&&(e.clearRect(0,0,this.canvas.width,this.canvas.height),requestAnimationFrame((()=>{this.LoopIndependentCanvas(e)})),this.RenderIndependentCanvas(e))}RenderIndependentCanvas(e){console.log("implementation needed")}ResizeCanvas(e,i){this.canvas.width=e,this.canvas.height=i}}},97795:(e,i,t)=>{t.r(i),t.d(i,{DefinitionIndeCanvasCore:()=>n});var s=t(12850);class n{constructor(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:650,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:350;this.scene=void 0,this.indeCanvas=void 0,this.mOffX=-12,this.mOffY=-12,this.scene=e,this.scene.definitions.push(this),this.InitIndeCanvas(i,t)}InitIndeCanvas(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:650,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350;this.scene.implementation.app.needUI?this.indeCanvas=new s.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,50,50,e,i,!0):this.indeCanvas=new s.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,1,-25,e,i,!0),this.indeCanvas.title="TF Env",this.indeCanvas.btnHam.isHidden=!0,this.indeCanvas.btnMini.isHidden=!0,this.indeCanvas.RenderIndependentCanvas=e=>this.RenderIndependentCanvas(e)}get width(){return this.indeCanvas.canvas.width}get height(){return this.indeCanvas.canvas.height}Init(e){}RenderIndependentCanvas(e){}MouseMove(e,i){}MouseMovePre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseMove(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDown(e,i){}MouseDownPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDown(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseUp(e,i){}MouseUpPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseUp(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDrag(e,i){}MouseDragPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDrag(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseLeftClick(e,i){}MouseLeftClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseLeftClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseMiddleClick(e,i){}MouseMiddleClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseMiddleClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseRightClick(e,i){}MouseRightClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseRightClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDoubleClick(e,i){}MouseDoubleClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDoubleClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseWheel(e,i,t){}MouseWheelPre(e,i,t){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseWheel(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY,t)}}}}]);
//# sourceMappingURL=97795.6776b213.chunk.js.map