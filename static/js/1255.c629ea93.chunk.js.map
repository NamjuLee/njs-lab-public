{"version":3,"file":"static/js/1255.c629ea93.chunk.js","mappings":"scAiBA,MAWaA,GAAcC,EAAAA,EAAAA,IAXJ,CACnBC,OAAQC,0CACRC,WAAYD,0BACZE,UAAWF,UACXG,cAAeH,sBACfI,kBAAmBJ,eACnBK,MAAOL,4CACPM,cAAeN,iBAKNO,GAAoBC,EAAAA,EAAAA,IAAaX,GAGjCY,GAAcC,EAAAA,EAAAA,IAAab,GAEjC,MAAMc,EAETC,YAAYC,GACR,GAD8B,KADlCC,aAAO,EAECC,EAAAA,EAAAA,KAAY,CACZC,KAAKF,QAAUD,EAEfI,QAAQC,IAAI,cAAerB,GAC3BoB,QAAQC,IAAI,oBAAqBX,GAEjCU,QAAQC,IAAI,aAAcT,EAAYU,YAAYjB,WAGlD,MAAMkB,EAASC,SAASC,cAAc,OACtCF,EAAOG,gBAAkB,OACzBH,EAAOI,MAAMC,MAAQ,QACrBL,EAAOI,MAAME,OAAS,OACtBN,EAAOI,MAAMG,WAAa,OAC1BX,KAAKF,QAAQc,YAAYR,GAGzBS,EAAQ,SAAU,MAAO,CAACC,KAAM,QAEhCd,KAAKe,SAET,CACJ,CACAC,gBACI,MAAMC,QAAgBC,EAAS,UAC/BjB,QAAQC,IAAIe,EAChB,EAKG,MAAMC,EAAWF,UACpB,MAAMG,QAAsBC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAW5B,EAAa6B,IACtDC,EAAO,GAMb,OALAJ,EAAcK,SAASC,IACnBxB,QAAQC,IAAI,GAAD,OAAIuB,EAAIC,GAAE,eAAOD,EAAIF,SAChC,MAAMI,EAAK,CAAED,GAAID,EAAIC,GAAIH,KAAME,EAAIF,QACnCA,EAAKK,KAAKD,EAAE,IAETJ,CAAI,EAGFV,EAAUG,MAAOa,EAAwBC,EAAiBP,WAC7DQ,EAAAA,EAAAA,KAAON,EAAAA,EAAAA,IAAIhC,EAAaoC,EAAgBC,GAAU,IAAIP,EAAMS,WAAWC,EAAAA,EAAAA,OAAoB,EAGxFC,EAAUlB,MAAOa,EAAwBC,EAAiBP,KACnE,MAAMY,GAAaV,EAAAA,EAAAA,KAAIJ,EAAAA,EAAAA,IAAW5B,EAAaoC,EAAgBC,UACzDC,EAAAA,EAAAA,IAAOI,EAAY,IAAIZ,EAAMS,WAAWC,EAAAA,EAAAA,OAAoB,EAGzDG,EAAapB,MAAOa,EAAwBC,EAAiBP,KACtE,MAAMc,GAAgBZ,EAAAA,EAAAA,IAAIhC,EAAaoC,EAAgBC,SACjDQ,EAAAA,EAAAA,IAAUD,EAAed,EAAK,EAG3BgB,EAAavB,MAAOa,EAAwBC,WAC/CU,EAAAA,EAAAA,KAAUf,EAAAA,EAAAA,IAAIhC,EAAaoC,EAAgBC,GAAS,C","sources":["njslab/DB/FireBase/index.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getFirestore } from \"firebase/firestore\";\n\nimport { updateDoc } from \"firebase/firestore\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { doc, setDoc, deleteDoc } from \"firebase/firestore\";\nimport { serverTimestamp } from \"firebase/firestore\";\n\nimport { PARAM } from \"App\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n// console.log(process.env.REACT_APP_FIREBASE_API_KEY);\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n    authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MEASUREMENT_SENDER_ID,\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\n};\n\n// Initialize Firebase\nexport const appFirebase = initializeApp(firebaseConfig);\nexport const analyticsFirebase = getAnalytics(appFirebase);\n\n// // Initialize Cloud Firestore and get a reference to the service\nexport const dbFirestore = getFirestore(appFirebase);\n\nexport class Solution {\n    hostDiv: HTMLDivElement;\n    constructor(div: HTMLDivElement) {\n        if (PARAM.demo) {\n            this.hostDiv = div;\n            // console.log('process.env.FIREBASE_API_KEY', process.env.FIREBASE_API_KEY);\n            console.log('appFirebase', appFirebase);\n            console.log('analyticsFirebase', analyticsFirebase);\n            // @ts-ignore\n            console.log('dbFirebase', dbFirestore._databaseId.projectId);\n\n\n            const divBtn = document.createElement('div');\n            divBtn.contentEditable = 'true';\n            divBtn.style.width = '200px';\n            divBtn.style.height = '50px';\n            divBtn.style.background = '#fff';\n            this.hostDiv.appendChild(divBtn);\n\n\n            setData('cities', 'LAA', {name: 99900} );\n\n            this.getData();\n\n        }\n    }\n    async getData() {\n        const dataCol = await readData('cities')\n        console.log(dataCol);\n    }\n}\n\n// https://firebase.google.com/docs/firestore/manage-data/add-data\n\nexport const readData = async (key) => {\n    const querySnapshot = await getDocs(collection(dbFirestore, key));\n    const data = [];\n    querySnapshot.forEach((doc) => {\n        console.log(`${doc.id} => ${doc.data()}`);\n        const d =  { id: doc.id, data: doc.data()};\n        data.push(d);\n    });\n    return data;\n};\n\nexport const setData = async (collectionName: string, docPath: string, data: any ) => {\n    await setDoc(doc(dbFirestore, collectionName, docPath), {...data, timestamp: serverTimestamp() });\n};\n\nexport const addData = async (collectionName: string, docPath: string, data: any ) => {\n    const newCityRef = doc(collection(dbFirestore, collectionName, docPath));\n    await setDoc(newCityRef, {...data, timestamp: serverTimestamp() });\n};\n\nexport const updateData = async (collectionName: string, docPath: string, data: any ) => {\n    const washingtonRef = doc(dbFirestore, collectionName, docPath);\n    await updateDoc(washingtonRef, data);\n};\n\nexport const deleteData = async (collectionName: string, docPath: string ) => {\n    await deleteDoc(doc(dbFirestore, collectionName, docPath));\n};\n"],"names":["appFirebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analyticsFirebase","getAnalytics","dbFirestore","getFirestore","Solution","constructor","div","hostDiv","PARAM","this","console","log","_databaseId","divBtn","document","createElement","contentEditable","style","width","height","background","appendChild","setData","name","getData","async","dataCol","readData","querySnapshot","getDocs","collection","key","data","forEach","doc","id","d","push","collectionName","docPath","setDoc","timestamp","serverTimestamp","addData","newCityRef","updateData","washingtonRef","updateDoc","deleteData","deleteDoc"],"sourceRoot":""}