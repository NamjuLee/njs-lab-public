{"version":3,"file":"static/js/3637.3c9b0ca1.chunk.js","mappings":"6NAGaA,EAAQ,0CAGjB,WAAYC,GAAY,IAAD,EAgCN,OAhCM,gBACnB,cAAMA,IAFVC,IAAkB,IAQdC,EAAAA,EAAAA,eAAcC,2DAAqEC,MAAK,SAACC,GAOrF,IANA,IAAIC,EAAQ,EACRC,EAAS,EAETC,EAAS,EAEPC,EAAOJ,EAAEK,MAAM,eACZC,EAAI,EAAGA,EAAIF,EAAKG,SAAUD,EAAG,CAClC,IAAME,EAASJ,EAAKE,GAAGD,MAAM,KACvBI,GAAOD,EAAO,GACdE,GAAOF,EAAO,GACR,IAARC,GAAqB,IAARC,IAEb,EAAKd,IAAIe,KAAK,CAACF,EAAKC,IACpBP,GAAUM,EACVP,GAAUQ,EAEVT,IAER,CAEA,EAAKW,OAAOT,EAASF,EAAOC,EAASD,GACrC,EAAKY,KAAK,GACd,IAEA,EAAKC,QAAQ,CACjB,CA0BC,OA1BA,8BACD,SAAOC,GACHA,EAAIC,yBAA2B,SAE/B,IAAK,IAAIV,EAAI,EAAGA,EAAIW,KAAKrB,IAAIW,SAAUD,EAAG,CACtC,IAAMY,EAAYD,KAAKE,SAASF,KAAKrB,IAAIU,GAAG,GAAIW,KAAKrB,IAAIU,GAAG,IAC5Dc,EAAYL,EAAKG,EAAU,GAAIA,EAAU,GAAID,KAAKI,KAAO,EAAG,wBAChE,CAEJ,GAAC,qBACD,SAAQC,GACR,GACC,uBACD,SAAUC,EAAWC,GACrB,GACC,qBACD,SAAQD,EAAWC,GACnB,GACC,wBACD,SAAWD,EAAWC,GAElB,IAAMC,EAAeR,KAAKS,MAAMH,EAAGC,GACnCP,KAAKrB,IAAIe,KAAKc,EAClB,GAAC,uBACD,SAAUF,EAAWC,GAErB,KAAC,EA9DgB,CAASG,EAAAA,IAiExBP,EAAc,SAACL,EAA+BQ,EAAWC,EAAWI,EAAWC,GACjFd,EAAIe,UAAYD,EAChBd,EAAIgB,YACJhB,EAAIiB,IAAIT,EAAGC,EAA6B,GAAzBS,KAAKC,IAAQ,GAAJN,GAAW,GAAQ,EAAa,EAAVK,KAAKE,IACnDpB,EAAIqB,YACJrB,EAAIsB,MACR,C","sources":["njslab/Project/Project_02_Flower_Delivery/index.ts"],"sourcesContent":["import { RendererJSAPI } from '../../../lib';\r\nimport { getCSVFromURL } from 'njscore';\r\n\r\nexport class Solution extends RendererJSAPI {\r\n\r\n    pts: number[][] = [];\r\n    constructor(view: any) {\r\n        super(view);\r\n\r\n        // console.log(window.location)\r\n        // console.log(process.env.PUBLIC_URL)\r\n\r\n    //     console.log(process.env.PUBLIC_URL + '/static/data/EN_flower_dataset_clean.csv');\r\n        getCSVFromURL(process.env.PUBLIC_URL + '/static/data/EN_flower_dataset_clean.csv').then((d) => {\r\n            let count = 0;\r\n            let latSum = 0;\r\n            \r\n            let lonSum = 0;\r\n\r\n            const line = d.split(/\\r\\n|\\r|\\n/g);\r\n            for (let i = 1; i < line.length; ++i) {\r\n                const values = line[i].split(',');\r\n                const lon = +values[4];\r\n                const lat = +values[5];\r\n                if (lon !== 0 || lat !== 0) {\r\n                    \r\n                    this.pts.push([lon, lat]);\r\n                    lonSum += lon;\r\n                    latSum += lat;\r\n\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            this.center(lonSum / count, latSum / count);\r\n            this.zoom(11);\r\n        });\r\n\r\n        this.start();\r\n    }\r\n    render(ctx: CanvasRenderingContext2D) {\r\n        ctx.globalCompositeOperation = 'screen' ; //'lighten';\r\n\r\n        for (let i = 0; i < this.pts.length; ++i) { \r\n            const projected = this.toScreen(this.pts[i][0], this.pts[i][1]); \r\n            renderPoint(ctx, projected[0], projected[1], this.time + 3, 'rgba(255, 0, 0, 0.85)' );\r\n        }\r\n\r\n    }\r\n    keyDown(k: KeyboardEvent): void {\r\n    //     console.log('key pressed', k);\r\n    }\r\n    mouseDown(x: number, y: number): void {\r\n    //     console.log('mouse down')\r\n    }\r\n    mouseUp(x: number, y: number): void {\r\n    //     console.log('mouse up')\r\n    }\r\n    mouseClick(x: number, y: number): void {\r\n    //     console.log(x,y)\r\n        const mapProjected = this.toMap(x, y);\r\n        this.pts.push(mapProjected);\r\n    }\r\n    mouseMove(x: number, y: number) {\r\n\r\n    }\r\n}\r\n\r\nconst renderPoint = (ctx: CanvasRenderingContext2D, x: number, y: number, t: number, color: string) => {\r\n    ctx.fillStyle = color;\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, (Math.sin(t * 0.8) + 4) * 2, 0, Math.PI * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n}\r\n"],"names":["Solution","view","pts","getCSVFromURL","process","then","d","count","latSum","lonSum","line","split","i","length","values","lon","lat","push","center","zoom","start","ctx","globalCompositeOperation","this","projected","toScreen","renderPoint","time","k","x","y","mapProjected","toMap","RendererJSAPI","t","color","fillStyle","beginPath","arc","Math","sin","PI","closePath","fill"],"sourceRoot":""}