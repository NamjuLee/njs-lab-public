"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[9893],{19893:function(t,i,e){e.r(i),e.d(i,{Renderer:function(){return l},Solution:function(){return d},getSlider:function(){return p}});var n=e(97326),s=e(60136),a=e(29388),r=e(15671),o=e(43144),h=e(38966),u=e(87968),c=function(){function t(i,e,n,s,a){(0,r.Z)(this,t),this.renderer=void 0,this.x=void 0,this.y=void 0,this.radiusX=50,this.radiusY=50,this.blur=20,this.opacity=.85,this._isHover=!1,this._isCaptured=!1,this.mPre=[0,0],this.rgb=[255,255,255],this.globalCompositeOperation="lighten",this.renderer=i,this.x=e,this.y=n,this.globalCompositeOperation=s,this.rgb=a}return(0,o.Z)(t,[{key:"isHover",value:function(t,i){return(0,u.distanceTo)(this.x,this.y,0,t,i,0)<.5*(this.radiusX+this.radiusY)?this._isHover=!0:this._isHover=!1,this._isHover}},{key:"translation",value:function(t,i){this.x=t,this.y=i}},{key:"render",value:function(t){t.globalCompositeOperation=this.globalCompositeOperation,t.filter="blur(".concat(this.blur,"px)"),t.beginPath(),t.ellipse(this.x,this.y,this.radiusX,this.radiusY,0,0,2*Math.PI),t.fillStyle="rgba(".concat(this.rgb[0],", ").concat(this.rgb[1],", ").concat(this.rgb[2],", ").concat(this.opacity,")"),t.fill(),t.filter="none",t.globalCompositeOperation="source-over",(this._isHover||this._isCaptured)&&(t.beginPath(),t.ellipse(this.x,this.y,this.radiusX,this.radiusY,0,0,2*Math.PI),t.stroke())}}]),t}(),d=function(){function t(i){(0,r.Z)(this,t),this.divHost=void 0,this.renderer=void 0,this.divHost=i,this.divHost.style.display="flex",this.divHost.style.alignItems="center";var e=document.createElement("div");e.style.marginLeft="auto",e.style.marginRight="auto",e.style.backgroundColor="#555",e.style.width="1000px",e.style.height="600px",this.divHost.appendChild(e),this.renderer=new l(e)}return(0,o.Z)(t,[{key:"destroy",value:function(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}]),t}(),l=function(t){(0,s.Z)(e,t);var i=(0,a.Z)(e);function e(t){var s;(0,r.Z)(this,e),(s=i.call(this,t)).img=void 0,s.rotation=0,s.m=[0,0],s.switch=!0,s.capture=void 0,s.tints=[],s.canvas.style.position="relative",s.canvas.style.width="100%",s.canvas.style.height="100%",(0,h.t4)("https://www.glenstone.org/wp-content/uploads/2018/07/AV_Landscape-Hero-Contour-2993-1276x800.jpg").then((function(t){s.img=t}));var a=document.createElement("input");a.value="https://raw.githubusercontent.com/NamjuLee/data/master/img/person/HaminHaram.jpg",a.addEventListener("keydown",(function(t){"Enter"===t.code&&(0,h.t4)(a.value).then((function(t){s.img=t,s.tints=[],s.capture=void 0}))})),s.divHost.appendChild(a);var o=document.createElement("div");o.style.display="flex";var u=document.createElement("div");o.appendChild(u),u.textContent="Lighten  ",u.style.paddingRight="100px",u.style.color="aqua",u.onclick=function(){s.tints.push(new c((0,n.Z)(s),.5*s.divHost.clientWidth,.5*s.divHost.clientHeight,h.vb.COLOR_DODGE,[125,125,125]))};var d=document.createElement("div");o.appendChild(d),d.style.paddingRight="100px",d.textContent="Darken",d.style.color="aqua",d.onclick=function(){s.tints.push(new c((0,n.Z)(s),.5*s.divHost.clientWidth,.5*s.divHost.clientHeight,h.vb.OVERLAY,[0,0,0]))};var l=document.createElement("div");o.appendChild(l),l.textContent="Toggle",l.style.color="aqua",l.onclick=function(){s.switch=!s.switch},s.divHost.appendChild(o);var v=document.createElement("div");v.style.display="flex",s.divHost.appendChild(v);var m=p("R1",20,400);v.appendChild(m.div),m.slider.oninput=function(){s.capture&&(s.capture.radiusX=+m.slider.value)};var f=p("R2",20,400);v.appendChild(f.div),f.slider.oninput=function(){s.capture&&(s.capture.radiusY=+f.slider.value)};var g=p("Feather",4,50);s.divHost.appendChild(g.div),g.slider.oninput=function(){s.capture&&(s.capture.blur=+g.slider.value)};var y=p("Intensity",1,100);s.divHost.appendChild(y.div),y.slider.oninput=function(){s.capture&&(s.capture.opacity=.01*+y.slider.value)};var C=document.createElement("input");C.type="color",C.addEventListener("input",(function(){if(s.capture){var t=(0,h.Oo)(C.value);s.capture.rgb=t}})),s.divHost.appendChild(C);var H=document.createElement("input");return H.onchange=function(){s.capture&&(s.capture.globalCompositeOperation=H.value)},s.divHost.appendChild(H),s.start(),s}return(0,o.Z)(e,[{key:"render",value:function(t){this.ctx.save(),this.ctx.translate(.5*this.canvas.width,.5*this.canvas.height),this.ctx.rotate(this.rotation),this.img&&this.ctx.drawImage(this.img,.5*-this.img.width,.5*-this.img.height),this.ctx.restore(),t.beginPath(),t.arc(this.m[0],this.m[1],5,0,2*Math.PI),t.closePath(),t.fill(),this.switch&&this.tints.forEach((function(i,e){i.render(t)}))}},{key:"mouseDown",value:function(t,i){var e=this;this.m=[t,i],void 0!==this.capture&&(this.capture._isCaptured=!1),this.tints.forEach((function(n,s){n.isHover(t,i)&&(e.capture=n)}))}},{key:"mouseUp",value:function(t,i){}},{key:"mouseDrag",value:function(t,i){this.m=[t,i],this.capture&&this.capture.translation(t,i)}},{key:"mouseClick",value:function(t,i){var e=this;this.m=[t,i],void 0!==this.capture&&(this.capture._isCaptured=!1),this.capture=void 0,this.tints.forEach((function(n,s){n.isHover(t,i)&&(e.capture=n,e.capture._isCaptured=!0)}))}},{key:"mouseMove",value:function(t,i){this.m=[t,i],this.tints.forEach((function(e,n){e.isHover(t,i)}))}},{key:"keyDown",value:function(t){}}]),e}(h.bb),p=function(t,i,e){var n=document.createElement("div");n.style.display="flex";var s=document.createElement("input");s.type="range",s.min="".concat(i),s.max="".concat(e);var a=document.createElement("div");return a.textContent=t,a.style.color="#aaa",n.appendChild(s),n.appendChild(a),{div:n,slider:s}}}}]);
//# sourceMappingURL=9893.49df85a5.chunk.js.map