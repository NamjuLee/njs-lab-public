{"version":3,"file":"static/js/7895.90fade63.chunk.js","mappings":"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","sources":["njslab/Lab/AppParticle/ParticleWrapperPan/Core/Node.ts","njslab/Lab/AppParticle/ParticleWrapperPan/ParticleWrapperPan.ts","njslab/Lab/AppParticle/index.ts"],"sourcesContent":["import { NVector3 } from '../../../../../lib/NJSCore';\r\nexport class Node {\r\n    v: NVector3;\r\n    u: NVector3 = new NVector3(0, 0, 0);\r\n    f: NVector3 = new NVector3(0, 0, 0);\r\n    r: number = 10;\r\n    mass: number = 1;\r\n    isHover: boolean = false;\r\n    constructor(x: number, y: number) {\r\n        this.v = new NVector3(x, y);\r\n    }\r\n    translate(x: number, y: number) {\r\n        // this.v.x = x;\r\n        // this.v.y = y;\r\n    }\r\n    IsInside(m: NVector3) {\r\n        if (this.v.Distance(m) < this.r) { this.isHover = true; return true; }\r\n        else { this.isHover = false; return false; }\r\n    }\r\n    Update(dt: number, damping: number) {\r\n        // u *= damping;\r\n        // u += f * (dt / m);\r\n        // p += u * dt;\r\n        this.u.Mult(damping);\r\n        this.f.Mult(dt / this.mass);\r\n        this.u.Add(this.f);\r\n        this.u.Mult(dt);\r\n        console.log(this.u);\r\n        this.v.Add(this.u);\r\n\r\n        // this.v.x += this.u.x;\r\n    }\r\n    // ........................................................................\r\n    render(ctx: CanvasRenderingContext2D) {\r\n        if (this.isHover) {\r\n            ctx.fillStyle = '#ff';\r\n        } else {\r\n            ctx.fillStyle = '#000';\r\n        }\r\n        ctx.beginPath();\r\n        ctx.arc(this.v.x, this.v.y, this.r, 0, Math.PI * 2);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n    RenderVec(ctx: CanvasRenderingContext2D) {\r\n\r\n    }\r\n}","import { Node } from './Core/Node';\r\nimport { NVector3 } from '../../../../lib/NJSCore';\r\n\r\n// https://cs.stanford.edu/people/eroberts/courses/soco/projects/2008-09/modeling-natural-systems/boids.html\r\n// http://www.red3d.com/cwr/steer/\r\n\r\n// https://Flockdevelopment.tutsplus.com/tutorials/understanding-steering-behaviors-path-following--Flockdev-8769\r\n// https://Flockdevelopment.tutsplus.com/tutorials/understanding-steering-behaviors-leader-following--Flockdev-10810\r\n// https://Flockdevelopment.tutsplus.com/tutorials/understanding-steering-behaviors-queue--Flockdev-14365\r\n\r\n// https://gamedevelopment.tutsplus.com/series/understanding-steering-behaviors--gamedev-12732\r\n\r\nexport class ParticleWrapperPan {\r\n    nodes: Node[] = [];\r\n    capture: Node | undefined;\r\n    m: NVector3 = new NVector3(0, 0);\r\n    constructor() {\r\n        this.init();\r\n    }\r\n    init() {\r\n        this.nodes.push(new Node(100, 100));\r\n    }\r\n    update() {\r\n        let atr = new NVector3(this.m.x, this.m.y);\r\n        let damping = 0.2;\r\n        // let g = 0.0;\r\n        let dt = 0.75;\r\n\r\n        for (let i = 0; i < this.nodes.length; ++i) {\r\n            const dv = NVector3.Sub(atr, this.nodes[i].v);\r\n            const L = dv.Length();\r\n            dv.Unitize();\r\n            this.nodes[i].f = dv.Mult(Math.exp(-0.000001 * L * L) * 10);\r\n            this.nodes[i].Update(dt, damping);\r\n        }\r\n    }\r\n    //     foreach(Node n in nodes) {\r\n    //       Vector3d dv = atr - n.p;\r\n    //       double L = dv.Length;\r\n    //       dv.Unitize();\r\n    //       n.f = dv * Math.Exp(-0.001 * L * L) * 0.1;\r\n    //       n.Move(dt, damping);\r\n    //     }\r\n    render(ctx: CanvasRenderingContext2D) {\r\n        this.update();\r\n        for (let i = 0; i < this.nodes.length; ++i) { this.nodes[i].render(ctx); }\r\n    }\r\n    mouseDown(x: number, y: number) {\r\n        this.m.x = x;\r\n        this.m.y = y;\r\n        for (let i = 0; i < this.nodes.length; ++i) {\r\n            if (this.nodes[i].IsInside(this.m)) {\r\n                this.capture = this.nodes[i];\r\n                return;\r\n            }\r\n        }\r\n        this.capture = undefined;\r\n    }\r\n    mouseUp(x: number, y: number) {\r\n        if (this.capture) { this.capture = undefined; }\r\n\r\n    }\r\n    mouseMove(x: number, y: number) {\r\n        this.m.x = x;\r\n        this.m.y = y;\r\n        if (this.capture) {\r\n            this.mouseDrag(x, y);\r\n        }\r\n        for (let i = 0; i < this.nodes.length; ++i) {\r\n            if (this.nodes[i].IsInside(this.m)) {\r\n                console.log('ddd');\r\n            }\r\n        }\r\n    }\r\n    mouseDrag(x: number, y: number) {\r\n\r\n        if (this.capture) {\r\n            this.capture.translate(x, y);\r\n        }\r\n    }\r\n}\r\n","import { RendererCanvas } from '../../../lib';\r\nimport { ParticleWrapper } from './ParticleWrapperBoid/ParticleWrapperBoid';\r\nimport { ParticleWrapperPan } from './ParticleWrapperPan/ParticleWrapperPan';\r\nexport class Solution extends RendererCanvas {\r\n    particleWrapperPan: ParticleWrapperPan | ParticleWrapper;\r\n    constructor(div: any) {\r\n        super(div);\r\n        // TODO\r\n        // You code goes here for one time operation\r\n\r\n        this.particleWrapperPan = new ParticleWrapperPan();\r\n        // this.particleWrapperPan = new ParticleWrapper();\r\n\r\n        // !! you should execute it for rendering\r\n        this.start();\r\n    }\r\n    public render(ctx: CanvasRenderingContext2D): void {\r\n        // TODO\r\n        // You code goes here for the rending loop\r\n\r\n        ctx.beginPath();\r\n        ctx.arc(ctx.canvas.width * 0.5, ctx.canvas.height * 0.5, 300, 0, Math.PI * 2);\r\n        ctx.closePath();\r\n        ctx.fillStyle = '#fff';\r\n        ctx.fill()\r\n\r\n        this.particleWrapperPan.render(ctx);\r\n        // !! can stop render after this frame.\r\n        // this.isStatic = true;\r\n    }\r\n    public mouseDown(x: number, y: number): void {\r\n        this.particleWrapperPan.mouseDown(x, y)\r\n    }\r\n    public mouseUp(x: number, y: number): void {\r\n        this.particleWrapperPan.mouseUp(x, y)\r\n    }\r\n    public mouseDrag(x: number, y: number): void {\r\n        // TODO\r\n    }\r\n    public mouseClick(x: number, y: number): void {\r\n        // TODO\r\n    }\r\n    public mouseMove(x: number, y: number) {\r\n        // TODO\r\n    }\r\n    public keyDown(k: KeyboardEvent): void {\r\n        // TODO\r\n    }\r\n}\r\n"],"names":["Node","x","y","v","u","NVector3","f","r","mass","isHover","this","m","Distance","dt","damping","Mult","Add","console","log","ctx","fillStyle","beginPath","arc","Math","PI","closePath","fill","ParticleWrapperPan","nodes","capture","init","push","atr","i","length","dv","L","Length","Unitize","exp","Update","update","render","IsInside","undefined","mouseDrag","translate","Solution","div","particleWrapperPan","start","canvas","width","height","mouseDown","mouseUp","k","RendererCanvas"],"sourceRoot":""}