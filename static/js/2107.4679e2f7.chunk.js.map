{"version":3,"file":"static/js/2107.4679e2f7.chunk.js","mappings":"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","sources":["njslab/Lab/AppGridSystem/CanvasCore/index.ts","njslab/Lab/AppGridSystem/Core/PixelMap/Pixel.ts","njslab/Lab/AppGridSystem/Core/PixelMap/PixelMap.ts","njslab/Lab/AppGridSystem/Core/Core.ts","njslab/Lab/AppGridSystem/index.ts"],"sourcesContent":["\r\nexport class CanvasCore {\r\n    canvas: HTMLCanvasElement;\r\n    host: HTMLElement;\r\n    ctx: CanvasRenderingContext2D;\r\n    t: number = 0.0;\r\n    private active = false;\r\n    constructor(id: string) {\r\n        this.InitCanvas(id);\r\n    }\r\n    InitCanvas(id: string) {\r\n        const canvas = document.createElement('canvas');\r\n        const host = document.getElementById(id);\r\n        if (host) {\r\n            host.appendChild(canvas);\r\n            this.host = host;\r\n        }\r\n        if (canvas) {\r\n            this.canvas = canvas;\r\n            this.canvas.width = this.host.clientWidth;\r\n            this.canvas.height = this.host.clientHeight;\r\n            const ctx = this.canvas.getContext('2d');\r\n            if (ctx) {\r\n                this.ctx = ctx;\r\n                this.Init();\r\n            }\r\n        }\r\n    }\r\n    Init() {\r\n        this.active = true;\r\n        this.EventBind();\r\n        this.Loop();\r\n    }\r\n    EventBind() {\r\n        this.canvas.onmousedown = (e: MouseEvent) => this.MouseDown(e);\r\n        this.canvas.onmouseup = (e: MouseEvent) => this.MouseUp(e);\r\n        this.canvas.onmousemove = (e: MouseEvent) => this.MouseMove(e);\r\n        window.onresize = (e: UIEvent) => this.Resize(e);\r\n\r\n    }\r\n    Resize(e: UIEvent) {\r\n        this.canvas.width = this.host.clientWidth;\r\n        this.canvas.height = this.host.clientHeight;\r\n    }\r\n    Loop() {\r\n        // if (!this.active) { return; }\r\n        requestAnimationFrame(() => { this.Loop(); });\r\n        this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n        this.ctx.beginPath();\r\n        this.ctx.rect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n        this.ctx.closePath();\r\n        this.ctx.fillStyle = '#eeeeee';\r\n        this.ctx.fill();\r\n        this.Render(this.ctx);\r\n    }\r\n    Render(ctx: CanvasRenderingContext2D) {\r\n        // console.log(ctx);\r\n    }\r\n    MouseDown(e: MouseEvent) {\r\n        // console.log(e);\r\n    }\r\n    MouseUp(e: MouseEvent) {\r\n        // console.log(e);\r\n    }\r\n    MouseMove(e: MouseEvent) {\r\n        // console.log(e);\r\n    }\r\n    public destroy(){\r\n        this.active = false;\r\n        while(this.host.lastChild) {\r\n            this.host.removeChild(this.host.lastChild);\r\n        }\r\n    }\r\n}","import { PixelMap } from './PixelMap';\r\nimport { NVector3 } from '../../../../../lib/NJSCore';\r\nexport class Pixel {\r\n    static ID = 0;\r\n    map: PixelMap;\r\n    vec: NVector3;\r\n    norV: NVector3;\r\n    nPix: Pixel[] = [];\r\n    recVec: NVector3[];\r\n    i: number = -1;\r\n    j: number = -1;\r\n    k: number = -1;\r\n    u: number = -1;\r\n    v: number = -1;\r\n    id: number;\r\n    data: {};\r\n    static GetID() { return Pixel.ID++; }\r\n    constructor(map: PixelMap, v: NVector3 = new NVector3(0, 0, 0)) {\r\n        this.map = map;\r\n        this.vec = v;\r\n        this.nPix = [];\r\n        this.recVec = [];\r\n        this.i = -1;\r\n        this.j = -1;\r\n        this.k = -1;\r\n        this.id = Pixel.GetID();\r\n        this.data = {};\r\n    }\r\n    public ToString() {\r\n        let temp = 'Pixel' + this.id;\r\n    //     console.log(temp);\r\n        return temp;\r\n    }\r\n    public Update() {\r\n        /* */\r\n    }\r\n    public Render() {\r\n        /* */\r\n    }\r\n}","import { NVector3 } from '../../../../../lib/NJSCore';\r\nimport { Pixel } from './Pixel';\r\n\r\nexport class PixelMap {\r\n    public listPixel: Pixel[] = [];\r\n    public rx: number = 0;\r\n    public ry: number = 0;\r\n    public ddx: number = 0.0;\r\n    public ddy: number = 0.0;\r\n    public v0: NVector3 = NVector3.Origin();\r\n    public v1: NVector3 = NVector3.Origin();\r\n    constructor(v0: NVector3, v1: NVector3, rx: number = 10, ry: number = 10) {\r\n        this.rx = rx;\r\n        this.ry = ry;\r\n        this.ddx = 0.0;\r\n        this.ddy = 0.0;\r\n        this.v0 = v0;\r\n        this.v1 = v1;\r\n        // this.Built();\r\n        this.Init();\r\n    }\r\n    public Init() {\r\n        this.ddx = (this.v1.x - this.v0.x) / (this.rx - 1.0);\r\n        this.ddy = (this.v1.y - this.v0.y) / (this.ry - 1.0);\r\n    //     console.log('ddx is ' + this.ddx + '. ddy is ' + this.ddx);\r\n    //     console.log('Pixe Map was executed...');\r\n        this.InitGrid();\r\n    }\r\n    public InitGrid() {\r\n    //     console.log(this.rx, this.ry);\r\n\r\n        for (let j = 0; j < this.ry; ++j) {\r\n            for (let i = 0; i < this.rx; ++i) {\r\n                let x = this.v0.x + i * this.ddx;\r\n                let y = this.v0.y + j * this.ddy;\r\n                let px = new Pixel(this);\r\n                px.i = i; px.j = j;\r\n                px.vec = new NVector3(x, y, 0);\r\n                px.recVec.push(new NVector3(x - this.ddx * 0.5, y - this.ddy * 0.5, 0.0));\r\n                px.recVec.push(new NVector3(x + this.ddx * 0.5, y - this.ddy * 0.5, 0.0));\r\n                px.recVec.push(new NVector3(x + this.ddx * 0.5, y + this.ddy * 0.5, 0.0));\r\n                px.recVec.push(new NVector3(x - this.ddx * 0.5, y + this.ddy * 0.5, 0.0));\r\n                // console.log(px);\r\n                this.listPixel.push(px);\r\n            }\r\n        }\r\n        this.InitGridNeighbor();\r\n    }\r\n    public InitGridNeighbor() {\r\n        for (let j = 0; j < this.ry; ++j) {\r\n            for (let i = 0; i < this.rx; ++i) {\r\n                let k = j * this.rx + i;\r\n                let px0 = this.listPixel[k];\r\n                if (i > 0) { px0.nPix.push(this.listPixel[k - 1]); }\r\n                if (i < this.rx - 1) { px0.nPix.push(this.listPixel[k + 1]); }\r\n                if (j > 0) { px0.nPix.push(this.listPixel[k - this.rx]); }\r\n                if (j < this.ry - 1) { px0.nPix.push(this.listPixel[k + this.rx]); }\r\n                if ((i > 0) && (j < this.ry - 1)) { px0.nPix.push(this.listPixel[k + this.rx - 1]); }\r\n                if ((i > 0) && (j > 0)) { px0.nPix.push(this.listPixel[k - this.rx - 1]); }\r\n                if ((i < this.rx - 1) && (j < this.ry - 1)) { px0.nPix.push(this.listPixel[k + this.rx + 1]); }\r\n                if ((i < this.rx - 1) && (j > 0)) { px0.nPix.push(this.listPixel[k - this.rx + 1]); }\r\n            }\r\n        }\r\n    //     console.log('done for computing neighbors ');\r\n    }\r\n    public GetPixelAtPoint(pt: NVector3) {\r\n        let pixelMap = this;\r\n        let dp = new NVector3(pt.x - pixelMap.v0.x, pt.y - pixelMap.v0.y, pt.z - pixelMap.v0.z);\r\n        let i = Math.round(dp.x / pixelMap.ddx);\r\n        let j = Math.round(dp.y / pixelMap.ddy);\r\n        if (i >= pixelMap.rx) { i = pixelMap.rx - 1; }\r\n        if (j >= pixelMap.ry) { j = pixelMap.ry - 1; }\r\n        if (i < 0) { i = 0; }\r\n        if (j < 0) { j = 0; }\r\n        return pixelMap.listPixel[j * pixelMap.rx + i];\r\n    }\r\n    ////////////////// event\r\n    public MouseMove(x: number, y: number, z: number) {\r\n        let pixelMap = this;\r\n    //     console.log('mouseMove x:' + x + ', y:' + y + ', z:' + z);\r\n        let cpt = pixelMap.GetPixelAtPoint(new NVector3(x, y, z));\r\n    //     console.log(cpt.nPix);\r\n        // VisBufferPointsFromVecs(cpt.ptsCenter, 100);\r\n    }\r\n    public onDocumentMouseMove() {\r\n        // console.log('move');\r\n    }\r\n    public onmouseenter() {\r\n        // console.log('enter');\r\n    }\r\n    ////////////////// visualization\r\n    public CVisLineGrid(ctx: CanvasRenderingContext2D) {\r\n        let pixelMap = this;\r\n        for (let i = 0; i < pixelMap.listPixel.length; ++i) {\r\n            let color = '#ff0000';\r\n            // console.log('d');\r\n            ctx.lineWidth = 0.5;\r\n            ctx.beginPath();\r\n            ctx.moveTo(pixelMap.listPixel[i].recVec[0].x, pixelMap.listPixel[i].recVec[0].y);\r\n            // console.log(pixelMap.listPixel[i].recVec)\r\n            for (let j = 1; j < pixelMap.listPixel[i].recVec.length; ++j) {\r\n                ctx.lineTo(pixelMap.listPixel[i].recVec[j].x, pixelMap.listPixel[i].recVec[j].y);\r\n                // console.log(pixelMap.listPixel[i].nPix[j].vec.x, pixelMap.listPixel[i].nPix[j].vec.y);\r\n\r\n            }\r\n            ctx.closePath();\r\n            ctx.strokeStyle = color; // ColorUtility.HexToCanvasColor(color, 1);\r\n            ctx.stroke();\r\n            // ctx.fill();\r\n        }\r\n    }\r\n    public VisMeshGrid() {\r\n        let pixelMap = this;\r\n        for (let i = 0; i < pixelMap.listPixel.length; ++i) {\r\n            // VisMeshRectFromFourVecs(pixelMap.listPixel[i].ptsRectLst);\r\n        }\r\n    }\r\n    public VisCenterPoints(ctx: CanvasRenderingContext2D) {\r\n        let pixelMap = this;\r\n        // let pts: NVector3[] = [];\r\n        ctx.fillStyle = '#0ff00f';\r\n        for (let i = 0; i < pixelMap.listPixel.length; ++i) {\r\n            ctx.beginPath();\r\n            ctx.arc(pixelMap.listPixel[i].vec.x, pixelMap.listPixel[i].vec.y, 5, 0, 3.14 * 2);\r\n            // pts.push(pixelMap.listPixel[i].vec);\r\n            ctx.closePath();\r\n            ctx.fill();\r\n        }\r\n        // VisBufferPointsFromVecs(pts);\r\n    }\r\n    public Render(ctx: CanvasRenderingContext2D) {\r\n        /* */\r\n        this.CVisLineGrid(ctx);\r\n        this.VisCenterPoints(ctx);\r\n    }\r\n}","import { PixelMap } from './PixelMap/PixelMap';\r\nimport { NVector3 } from '../../../../lib/NJSCore';\r\nexport class Core {\r\n    pMap: PixelMap;\r\n    constructor() {\r\n        this.pMap = new PixelMap(new NVector3(10, 10), new NVector3(200, 200));\r\n    //     console.log(this.pMap);\r\n    }\r\n    Render(ctx: CanvasRenderingContext2D) {\r\n        this.pMap.Render(ctx);\r\n    }\r\n    MouseDown(e: MouseEvent) {\r\n    //     console.log(e, 'core');\r\n    }\r\n    MouseUp(e: MouseEvent) {\r\n    //     console.log(e, 'core');\r\n    }\r\n    MouseMove(e: MouseEvent) {\r\n    //     console.log(e, 'core');\r\n    }\r\n    MouseDrag(e: MouseEvent) {\r\n    //     console.log(e, 'core');\r\n    }\r\n}","import { CanvasCore } from './CanvasCore';\r\nimport { Core } from './Core/Core';\r\nexport class AppGridSystem {\r\n    canvasCore: CanvasCore;\r\n    core: Core;\r\n\r\n    constructor(id: string = 'SandBox') {\r\n        this.core = new Core();\r\n        this.canvasCore = new CanvasCore(id);\r\n        this.BindEvent();\r\n        this.BindRenderer();\r\n    }\r\n    BindEvent() {\r\n        this.canvasCore.MouseDown = (e: MouseEvent) => this.core.MouseDown(e);\r\n        this.canvasCore.MouseMove = (e: MouseEvent) => this.core.MouseMove(e);\r\n        this.canvasCore.MouseUp = (e: MouseEvent) => this.core.MouseUp(e);\r\n    }\r\n    BindRenderer() {\r\n        this.canvasCore.Render = (ctx: CanvasRenderingContext2D) => this.core.Render(ctx);\r\n    }\r\n    public destroy() {\r\n        this.canvasCore.destroy();\r\n    }\r\n}\r\n"],"names":["CanvasCore","id","canvas","host","ctx","t","active","this","InitCanvas","document","createElement","getElementById","appendChild","width","clientWidth","height","clientHeight","getContext","Init","EventBind","Loop","onmousedown","e","MouseDown","onmouseup","MouseUp","onmousemove","MouseMove","window","onresize","Resize","requestAnimationFrame","clearRect","beginPath","rect","closePath","fillStyle","fill","Render","lastChild","removeChild","Pixel","map","v","NVector3","vec","norV","nPix","recVec","i","j","k","u","data","GetID","ID","PixelMap","v0","v1","rx","ry","listPixel","ddx","ddy","x","y","InitGrid","px","push","InitGridNeighbor","px0","pt","pixelMap","dp","z","Math","round","GetPixelAtPoint","length","lineWidth","moveTo","lineTo","strokeStyle","stroke","arc","CVisLineGrid","VisCenterPoints","Core","pMap","AppGridSystem","canvasCore","core","BindEvent","BindRenderer","destroy"],"sourceRoot":""}