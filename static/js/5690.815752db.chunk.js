"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[5690],{55690:function(e,t,i){i.r(t),i.d(t,{Renderer:function(){return l},Solution:function(){return a}});var o=i(60136),s=i(29388),h=i(15671),n=i(43144),r=i(55913),a=function(){function e(t){var i=this;(0,h.Z)(this,e),this.divHost=void 0,this.renderer=void 0,this.divHost=t,this.divHost.style.display="flex",this.divHost.style.alignItems="center";var o=document.createElement("div");o.style.marginLeft="auto",o.style.marginRight="auto",o.style.backgroundColor="#555",o.style.width="1000px",o.style.height="600px",this.divHost.appendChild(o),this.renderer=new l(o);var s=document.createElement("div");o.appendChild(s),s.textContent="Reset",s.onclick=function(){i.renderer.Build()};var n=f("Connectivity");o.appendChild(n.div),n.checkBox.checked=!1,n.checkBox.onchange=function(){console.log(n.checkBox.checked),!0===n.checkBox.checked?i.renderer.connectionDiagonal=!0:i.renderer.connectionDiagonal=!1},s=document.createElement("div"),o.appendChild(s),s.textContent="Play and Stop toggle",s.onclick=function(){i.renderer.playToggle=!i.renderer.playToggle};var r=v("Heuristic intensity",0,1e3);o.appendChild(r.div),r.slider.oninput=function(){var e=1/+r.slider.value-.001;i.renderer.graph.heuristicConst=e}}return(0,n.Z)(e,[{key:"destroy",value:function(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}]),e}(),d=function(e,t,i,o){e.fillStyle=i,e.beginPath(),e.rect(t.x*o,t.y*o,o-1,o-1),e.closePath(),e.fill()},l=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(e){var o;return(0,h.Z)(this,i),(o=t.call(this,e)).w=0,o.h=0,o.cols=0,o.rows=0,o.cellSize=20,o.gridWidth=0,o.gridHeight=0,o.chanceOfWalls=.35,o.connectionDiagonal=!1,o.graph=void 0,o.playToggle=!0,o.frame=0,o.divTextIteration=void 0,o.canvas.style.position="relative",o.canvas.style.width="100%",o.canvas.style.height="100%",o.divTextIteration=document.createElement("div"),e.appendChild(o.divTextIteration),o.Build(),o.start(),o}return(0,n.Z)(i,[{key:"render",value:function(e){if(this.playToggle){this.graph.propagation();this.divTextIteration.textContent="".concat(this.frame++," iterations")}this.graph.doneComputation&&this.Build();for(var t=0;t<this.cols;t++)for(var i=0;i<this.rows;i++){var o=this.graph.grid[t][i],s="rgb(190, 190, 190)";o.blocked&&(s="rgba(0, 0, 0, 0.9)"),o===this.graph.endNode&&(s="rgba(255, 0, 255, 0.9)"),d(e,o,s,this.cellSize)}for(var h=0;h<this.graph.openNodes.length;h++){var n=this.graph.openNodes[h];d(e,n,"rgb(0, 0, 255)",this.cellSize)}for(var r=0;r<this.graph.closedNodes.length;r++){var a=this.graph.closedNodes[r];d(e,a,"rgb(255, 0, 0)",this.cellSize)}for(var l=0;l<this.graph.path.length;l++){var c=this.graph.path[l];d(e,c,"rgb(0, 255, 0)",this.cellSize)}for(var g=0;g<this.cols;g++)for(var p=0;p<this.rows;p++){var u=this.graph.grid[g][p];if(!u.blocked)for(var v=0;v<u.neighbors.length;++v)e.strokeStyle="#fff",e.lineWidth=.58,e.beginPath(),e.moveTo(this.cellSize*u.x+.5*this.cellSize,this.cellSize*u.y+.5*this.cellSize),e.lineTo(this.cellSize*u.neighbors[v].x+.5*this.cellSize,this.cellSize*u.neighbors[v].y+.5*this.cellSize),e.stroke()}}},{key:"Build",value:function(){this.frame=0,this.w=this.canvas.width,this.h=this.canvas.height,this.cols=Math.floor(this.w/this.cellSize),this.rows=Math.floor(this.h/this.cellSize),this.gridWidth=this.w,this.gridHeight=this.h,this.graph=new c,this.graph.connectionDiagonal=this.connectionDiagonal;for(var e=0;e<this.cols;e++)for(var t=0;t<this.rows;t++){void 0===this.graph.grid[e]&&(this.graph.grid[e]=[]);var i=new g(e,t);Math.random()<this.chanceOfWalls&&(i.blocked=!0),this.graph.grid[e][t]=i}this.graph.startNode=this.getRandomCell(),this.graph.startNode.blocked=!1,this.graph.endNode=this.getRandomCell(),this.graph.endNode.blocked=!1;for(var o=0;o<this.cols;o++)for(var s=0;s<this.rows;s++)this.graph.buildConnection(this.graph.grid[o][s],this.cols,this.rows);this.graph.openNodes.push(this.graph.startNode)}},{key:"getRandomCell",value:function(){return this.graph.grid[Math.floor(Math.random()*this.cols)][Math.floor(Math.random()*this.rows)]}}]),i}(r.bb),c=function(){function e(){var t=this;(0,h.Z)(this,e),this.grid=[],this.openNodes=[],this.closedNodes=[],this.startNode=void 0,this.endNode=void 0,this.path=[],this.heuristicConst=1,this.doneComputation=!1,this.connectionDiagonal=!1,this.buildConnection=function(e,i,o){if(!e.blocked){var s=e.x,h=e.y;s<i-1&&(t.grid[s+1][h].blocked||e.neighbors.push(t.grid[s+1][h])),h<o-1&&(t.grid[s][h+1].blocked||e.neighbors.push(t.grid[s][h+1])),s>0&&(t.grid[s-1][h].blocked||e.neighbors.push(t.grid[s-1][h])),h>0&&(t.grid[s][h-1].blocked||e.neighbors.push(t.grid[s][h-1])),t.connectionDiagonal&&(console.log(t.connectionDiagonal),s>0&&h>0&&(t.grid[s-1][h-1].blocked||e.neighbors.push(t.grid[s-1][h-1])),s<i-1&&h<o-1&&(t.grid[s+1][h+1].blocked||e.neighbors.push(t.grid[s+1][h+1])),s>0&&h<o-1&&(t.grid[s-1][h+1].blocked||e.neighbors.push(t.grid[s-1][h+1])),s<i-1&&h>0&&(t.grid[s+1][h-1].blocked||e.neighbors.push(t.grid[s+1][h-1])))}}}return(0,n.Z)(e,[{key:"gePath",value:function(){for(var e=void 0,t=this.grid[0].length*this.grid.length;t--;)if(void 0!==(e=this.propagation())&&e.length)return e;return e}},{key:"propagation",value:function(){if(!(this.openNodes.length>0))return this.doneComputation=!0,this.path;for(var e=0,t=0;t<this.openNodes.length;t++)this.openNodes[t].f<this.openNodes[e].f&&(e=t),this.openNodes[t].f===this.openNodes[e].f&&this.openNodes[t].g>this.openNodes[e].g&&(e=t);var i=this.openNodes[e];if(i===this.endNode)return this.doneComputation=!0,this.path;this.path=[];for(var o=i;o.previous;)this.path.push(o.previous),o=o.previous;this.openNodes.splice(this.openNodes.indexOf(i),1),this.closedNodes.push(i);for(var s=i.neighbors,h=0;h<s.length;h++){var n=s[h];if(!this.closedNodes.includes(n)&&!n.blocked){var r=i.g+p(n,i)*this.heuristicConst;if(this.openNodes.includes(n))continue;this.openNodes.push(n),n.g=r,n.h=p(n,this.endNode),n.f=n.g+n.h,n.previous=i}}}}]),e}(),g=(0,n.Z)((function e(t,i){(0,h.Z)(this,e),this.f=0,this.h=0,this.g=0,this.x=0,this.y=0,this.z=0,this.neighbors=[],this.previous=void 0,this.blocked=!1,this.f=0,this.h=0,this.g=0,this.x=t,this.y=i,this.neighbors=[],this.blocked=!1})),p=function(e,t){return u(e.x,e.y,e.z,t.x,t.y,t.z)},u=function(e,t,i,o,s,h){return Math.sqrt((e-o)*(e-o)+(t-s)*(t-s)+(i-h)*(i-h))},v=function(e,t,i){var o=document.createElement("div");o.style.display="flex";var s=document.createElement("input");s.type="range",s.min="".concat(t),s.max="".concat(i);var h=document.createElement("div");return h.textContent=e,h.style.color="#aaa",o.appendChild(s),o.appendChild(h),{div:o,slider:s}},f=function(e){var t=document.createElement("div");t.style.display="flex";var i=document.createElement("input");i.type="checkbox",i.defaultChecked=!1;var o=document.createElement("div");return o.textContent=e,o.style.color="#aaa",t.appendChild(i),t.appendChild(o),{div:t,checkBox:i}}}}]);
//# sourceMappingURL=5690.815752db.chunk.js.map