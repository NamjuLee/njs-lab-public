"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[2606],{32606:function(e,t,o){o.r(t),o.d(t,{Solution:function(){return c}});var n=o(15671),s=o(43144),i=o(60136),r=o(29388),a=o(38966),l=o(87968),c=function(e){(0,i.Z)(o,e);var t=(0,r.Z)(o);function o(e){var s;(0,n.Z)(this,o),(s=t.call(this,e)).colors=[],s.polygonsGeo=[],s.polygonsScreenPath2D=[],s.centersScreen=[],s.mView.on("drag",(function(e){e.stopPropagation()})),s.mView.navigation.mouseWheelZoomEnabled=!1,s.center(-97.893669,39.176304),s.zoom(4);var i=document.createElement("canvas");return i.id="layer",i.width=s.mView.container.clientWidth,i.height=s.mView.container.clientHeight,i.style.background="rgba(0, 32, 0, 0.6)",i.style.position="absolute",i.style.pointerEvents="none",s.mView.container.appendChild(i),(0,l.getJSONFromURL)("/njslab-public/static/data/gz_2010_us_050_00_20m.json").then((function(e){for(var t=e.features,o=0;o<t.length;++o){var n=t[o].geometry;if("Polygon"===n.type){var i=n.coordinates[0][0][0],r=n.coordinates[0][0][1],a=[];a.push(i,r);for(var l=1;l<n.coordinates[0].length;++l)i=n.coordinates[0][l][0],r=n.coordinates[0][l][1],a.push(i,r);s.colors.push("rgba(0, 255, 0, ".concat(.2*Math.random()+.3,")")),s.polygonsGeo.push(a)}}s.start()})),s}return(0,s.Z)(o,[{key:"render",value:function(e){for(var t=0;t<this.polygonsGeo.length;++t){var o=this.polygonsGeo[t][0],n=this.polygonsGeo[t][1],s=this.toScreen(o,n);e.beginPath(),e.moveTo(s[0],s[1]);var i=new Path2D;i.moveTo(s[0],s[1]);for(var r=s[0],a=s[1],l=1,c=2;c<this.polygonsGeo[t].length;c+=2)o=this.polygonsGeo[t][c],n=this.polygonsGeo[t][c+1],s=this.toScreen(o,n),e.lineTo(s[0],s[1]),i.lineTo(s[0],s[1]),r+=s[0],a+=s[1],l++;e.closePath(),e.fillStyle=this.colors[t],e.fill(),h(e,r/l,a/l,1,"#0fff0f"),this.centersScreen.push([r/l,a/l,l]),i.closePath(),this.polygonsScreenPath2D.push(i)}console.log("done!"),this.isStatic=!0}},{key:"mouseMove",value:function(e,t){this.ctx.lineWidth=0;for(var o=-1,n=1e5,s=0;s<this.centersScreen.length;++s){var i=this.centersScreen[s],r=u(e,t,i[0],i[1]);r<n&&(n=r,o=s)}if(console.log("id:",o),this.ctx.lineWidth=.2,-1!==o&&o<=this.polygonsScreenPath2D.length){var a=this.polygonsScreenPath2D[o];this.ctx.strokeStyle="#0f0",this.ctx.stroke(a)}}}]),o}(a.J0),h=function(e,t,o,n,s){e.fillStyle=s,e.beginPath(),e.arc(t,o,n,0,2*Math.PI),e.closePath(),e.fill()},u=function(e,t,o,n){return Math.sqrt((e-o)*(e-o)+(t-n)*(t-n))}}}]);
//# sourceMappingURL=2606.244b665c.chunk.js.map