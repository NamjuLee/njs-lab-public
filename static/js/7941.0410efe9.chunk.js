"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[7941,2960],{7941:function(e,t,r){r.r(t),r.d(t,{Solution:function(){return g}});var o=r(29439),s=r(15671),n=r(43144),a=r(60136),i=r(29388),u=r(17760),h=r(87968),c=r(26943),m=r(2960),g=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return(0,s.Z)(this,r),(e=t.call(this,o)).streetOSM=[],e.routesTreated=[],e.routesControl=[],e.zones30=[],e.meshStreet=void 0,e.meshSpike=void 0,e.raycaster=new u.iMs,e.pointer=new u.FM8,e.sphere=void 0,e.camera.position.set(0,30,30),(0,h.getJSONFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/Paris/street_osm.geojson").then((function(t){for(var r=0;r<t.features.length;++r)e.streetOSM.push(t.features[r].geometry.coordinates);e.meshStreet=(0,m.renderLines)(e.scene,e.streetOSM,[.3,.3,.3]),(0,h.getJSONFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/Paris/treated-st.geojson").then((function(t){for(var r=0;r<t.features.length;++r)e.routesTreated.push(t.features[r].geometry.coordinates);e.meshSpike=p(e.scene,e.routesTreated,[1,0,0]),e.start()}))})),e}return(0,n.Z)(r,[{key:"update",value:function(e){for(var t=1;t<this.meshSpike.geometry.attributes.position.count;t+=2){var r=this.meshSpike.geometry.attributes.position,o=r.getX(t),s=r.getY(t),n=r.getZ(t);s=(s=9*Math.sin(5*o*n+5*this.t))<0?0:s;var a=new u.Pa4(o,s,n);this.meshSpike.geometry.attributes.position.setXYZ(t,a.x,a.y,a.z),this.meshSpike.geometry.attributes.color.setXYZ(t-1,0,s,0),this.meshSpike.geometry.attributes.color.setXYZ(t,s,0,0)}this.meshSpike.geometry.attributes.position.needsUpdate=!0,this.meshSpike.geometry.attributes.color.needsUpdate=!0,this.meshSpike.geometry.computeVertexNormals()}}]),r}(c.TF),p=function(e,t,r){for(var s=new u.u9r,n=new u.nls({vertexColors:!0}),a=[],i=[],h=0;h<t.length;++h)for(var m=t[h],g=0;g<m.length;++g)for(var p=0;p<m[g].length;++p){var l=(0,c._Y)(m[g][p][0],m[g][p][1]),d=(0,o.Z)(l,2),f=d[0],v=d[1];f,v,1;var S=.01*(f+-15478803.88731685),w=.01*(v+-4766681.448690384);a.push(S,0,w),a.push(S,10,w),i.push(r[0],r[1],r[2]),i.push(r[0],r[1],r[2])}s.setAttribute("position",new u.a$l(a,3)),s.setAttribute("color",new u.a$l(i,3)),s.computeBoundingSphere();var b=new u.ejS(s,n);return e.add(b),b}},2960:function(e,t,r){r.r(t),r.d(t,{Solution:function(){return m},renderLines:function(){return g}});var o=r(29439),s=r(43144),n=r(15671),a=r(60136),i=r(29388),u=r(17760),h=r(26943),c=r(87968),m=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";(0,n.Z)(this,r),(e=t.call(this,o)).streetOSM=[],e.routesTreated=[],e.routesControl=[],e.zones30=[];var s=new u.cek(16777215,.8);e.camera.add(s),e.scene.add(s),e.camera.position.set(0,40,48);return(0,c.getJSONFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/Paris/street_osm.geojson").then((function(t){for(var r=0;r<t.features.length;++r)e.streetOSM.push(t.features[r].geometry.coordinates);g(e.scene,e.streetOSM,[0,1,1]),(0,c.getJSONFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/Paris/treated-st.geojson").then((function(t){for(var r=0;r<t.features.length;++r)e.routesTreated.push(t.features[r].geometry.coordinates);g(e.scene,e.routesTreated,[1,0,0])})),(0,c.getJSONFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/Paris/control-st.geojson").then((function(t){for(var r=0;r<t.features.length;++r)e.routesControl.push(t.features[r].geometry.coordinates);g(e.scene,e.routesControl,[0,1,0])})),e.start()})),e}return(0,s.Z)(r)}(h.TF),g=function(e,t,r){for(var s=new u.u9r,n=new u.nls({vertexColors:!0}),a=[],i=[],h=[],m=0;m<t.length;++m)for(var g=t[m],p=0;p<g.length;++p)for(var l=0;l<g[p].length;++l){var d=(0,c.MercatorProjection)(g[p][l][0],g[p][l][1]),f=(0,o.Z)(d,2),v=f[0],S=f[1];v,S,1;var w=.01*(v+-15478803.88731685),b=.01*(S+-4766681.448690384);a.push(w,0,b),i.push(r[0],r[1],r[2]),l<g[p].length-1&&h.push(Math.floor(a.length/3)-1,Math.floor(a.length/3))}s.setIndex(h),s.setAttribute("position",new u.a$l(a,3)),s.setAttribute("color",new u.a$l(i,3)),s.computeBoundingSphere();var k=new u.ejS(s,n);return e.add(k),k}}}]);
//# sourceMappingURL=7941.0410efe9.chunk.js.map