{"version":3,"file":"static/js/4945.40f96904.chunk.js","mappings":"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","sources":["njslab/Tools/BezierCurveInterpolation/index.ts"],"sourcesContent":["import { RendererCanvas, remap } from '../../../lib'\r\n\r\nexport class Solution {\r\n    public divHost: HTMLElement;\r\n    public renderer: Renderer;\r\n    constructor(divHost: any) {\r\n        this.divHost = divHost;\r\n\r\n        // Center align\r\n        this.divHost.style.display = 'flex';\r\n        this.divHost.style.alignItems = 'center';\r\n\r\n        const div = document.createElement('div');\r\n        div.style.marginLeft = 'auto';\r\n        div.style.marginRight = 'auto';\r\n        div.style.backgroundColor = '#555';\r\n        div.style.width = '500px';\r\n        div.style.height = '500px';\r\n\r\n        this.divHost.appendChild(div);\r\n\r\n        // TODO\r\n        // You code goes here for one time operation\r\n\r\n        this.renderer = new Renderer(div);\r\n\r\n        // console.log(this.renderer);\r\n        // !! you should execute it for rendering\r\n        // this.start();\r\n    }\r\n    public destroy() {\r\n        this.renderer.destroy();\r\n        while (this.divHost.lastElementChild) {\r\n            this.divHost.removeChild(this.divHost.lastElementChild);\r\n        }\r\n    }\r\n}\r\n\r\nexport class Renderer extends RendererCanvas {\r\n\r\n    p0: Vector;\r\n    p1: Vector;\r\n    p2: Vector;\r\n    p3: Vector;\r\n\r\n    N = 2;\r\n\r\n    m: Vector = new Vector(0,0);\r\n\r\n    down = false;\r\n    capture = undefined;\r\n\r\n    ptsList: Vector[] = [];\r\n\r\n    t: number = 0;\r\n\r\n    text: HTMLDivElement;\r\n\r\n    constructor(div: any) {\r\n        super(div);\r\n        this.canvas.style.position = 'relative';\r\n        this.canvas.style.width = '100%';\r\n        this.canvas.style.height = '100%';\r\n\r\n        // TODO\r\n        // You code goes here for one time operation\r\n        // \r\n\r\n        const offset = 100;\r\n        const width = 300;\r\n        const height = 300\r\n\r\n        this.p0 = new Vector(offset, height + offset);\r\n        this.p1 = new Vector(offset + 100, height + offset - 100);\r\n        this.p2 = new Vector(width + offset - 100, offset + 100);\r\n        this.p3 = new Vector(width + offset, offset);\r\n        this.ptsList = [this.p1, this.p2];\r\n\r\n        const slider = getSlider('N', 1, 10);\r\n        slider.slider.value = '3';\r\n        this.divHost.appendChild(slider.div);\r\n        slider.slider.oninput = () => {\r\n            this.N = +slider.slider.value\r\n            slider.text.innerText = 'N: ' + this.N;\r\n        }\r\n\r\n        this.text = slider.text;\r\n        // const log = document.getElementById('log');\r\n        // const slider = document.getElementById('myRange');\r\n        // slider.inpu\r\n        // slider.oninput = () => {\r\n        //     this.N = +slider.value;\r\n        //     // render();\r\n        //     log.innerHTML = 'N: ' + N;\r\n        //     // console.log(N)\r\n        // }\r\n\r\n        this.start();\r\n    }\r\n    public mouseDown(x: number, y: number): void {\r\n        // this.down = true;\r\n        this.m.x = x;\r\n        this.m.y = y;\r\n        for (let i = 0; i < this.ptsList.length; ++i) {\r\n\r\n            const dis = this.ptsList[i].distanceTo(this.m);\r\n\r\n            if (dis < 10) {\r\n                this.capture = this.ptsList[i];\r\n                // console.log(this.ptsList[i]);\r\n            }\r\n\r\n        }\r\n    }\r\n    public mouseUp(x: number, y: number): void {\r\n        this.capture = undefined;\r\n        // this.down = false;\r\n    }\r\n    public mouseDrag(x: number, y: number): void {\r\n        if (this.capture) {\r\n            this.capture.x = x;\r\n            this.capture.y = y;\r\n        }\r\n    }\r\n    public render(ctx: CanvasRenderingContext2D): void {\r\n        // TODO\r\n        // You code goes here for the rending loop\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n        this.p0.draw(ctx);\r\n        this.p1.draw(ctx);\r\n        this.p2.draw(ctx);\r\n        this.p3.draw(ctx);\r\n\r\n        ctx.beginPath();\r\n        ctx.rect(100, 100, 300, 300);\r\n        ctx.strokeStyle = '#000';\r\n        ctx.lineWidth = 1;\r\n        ctx.stroke();\r\n\r\n        let pts = [];\r\n\r\n        let interval = 1.0 / 20;\r\n        for (let i = 0; i <= 20; ++i) {\r\n            let v = DeCasteljausAlgorithm(this.p0, this.p1, this.p2, this.p3, interval * i);\r\n            pts.push(v);\r\n        }\r\n\r\n        ctx.strokeStyle = '#00ffff';\r\n        ctx.lineWidth = 3;\r\n        ctx.beginPath();\r\n        for (let i = 0; i < pts.length - 1; ++i) {\r\n            ctx.moveTo(pts[i].x, pts[i].y)\r\n            ctx.lineTo(pts[1 + i].x, pts[1 + i].y)\r\n        }\r\n        ctx.stroke();\r\n\r\n\r\n        ctx.strokeStyle = '#000';\r\n        ctx.lineWidth = 1;\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.p0.x, this.p0.y);\r\n        ctx.lineTo(this.p1.x, this.p1.y);\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.p2.x, this.p2.y);\r\n        ctx.lineTo(this.p3.x, this.p3.y);\r\n        ctx.stroke();\r\n\r\n\r\n        this.t++;\r\n\r\n        const tVal = this.t * this.N * 0.02;\r\n        if (tVal < 1.0) {\r\n  \r\n\r\n            let psoY = DeCasteljausAlgorithm(this.p0, this.p1, this.p2, this.p3, tVal);\r\n\r\n            this.text.textContent = `${tVal}`\r\n\r\n\r\n            ctx.beginPath();\r\n            ctx.arc(50 + tVal,  psoY.y, 5, 0, Math.PI * 2.0)\r\n            ctx.fill();\r\n\r\n            // .......................\r\n\r\n            ctx.beginPath();\r\n            ctx.arc(100 + tVal * 300,  450, 5, 0, Math.PI * 2.0)\r\n            ctx.fill();\r\n\r\n\r\n            // console.log(psoY)\r\n        } else {\r\n            this.t = 0;\r\n        }\r\n\r\n        \r\n\r\n\r\n\r\n        // !! can stop render after this frame.\r\n        // this.isStatic = true;\r\n    }\r\n\r\n}\r\n\r\n\r\n// https://codepen.io/NJStudio/pen/zYwZmEL?editors=1010\r\nclass Vector {\r\n    x = 0;\r\n    y = 0;\r\n    constructor(x = 0, y = 0) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    distanceTo(other: Vector) {\r\n        return Math.sqrt((other.x - this.x) * (other.x - this.x) + (other.y - this.y) * (other.y - this.y));\r\n    }\r\n    draw(ctx: CanvasRenderingContext2D) {\r\n        ctx.fillStyle = '#ffffff';\r\n        ctx.beginPath();\r\n        ctx.arc(this.x, this.y, 5.0, 0.0, 3.14159 * 2)\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n}\r\nconst interpolation = (p0: Vector, p1: Vector, t0: number, t1: number) => {\r\n    return new Vector(\r\n        t1 * p0.x + t0 * p1.x,\r\n        t1 * p0.y + t0 * p1.y\r\n    );\r\n};\r\nconst DeCasteljausAlgorithm = (p0: Vector, p1: Vector, p2: Vector, p3: Vector, t0: number) => {\r\n    //Linear interpolation = lerp = (1 - t) * A + t * B\r\n    let t1 = 1.0 - t0;\r\n    //Layer 1 \r\n    let QVector = interpolation(p0, p1, t0, t1);\r\n    let RVector = interpolation(p1, p2, t0, t1);\r\n    let SVector = interpolation(p2, p3, t0, t1);\r\n\r\n    //Layer 2\r\n    let PVector = interpolation(QVector, RVector, t0, t1);\r\n    let TVector = interpolation(RVector, SVector, t0, t1);\r\n\r\n    //Final interpolated position\r\n    return interpolation(PVector, TVector, t0, t1);\r\n};\r\n\r\n// ..\r\n\r\nconst getSlider = (title: string, min: number, max: number) => {\r\n    // <input type=\"range\" min=\"1\" max=\"100\" value=\"50\" class=\"slider\" id=\"myRange\">\r\n    const div = document.createElement('div');\r\n    div.style.display = 'flex';\r\n\r\n    const slider = document.createElement('input');\r\n    slider.type = 'range';\r\n    slider.min = `${min}`;\r\n    slider.max = `${max}`;\r\n\r\n    const text = document.createElement('div');\r\n    text.innerText = title;\r\n    text.style.color = '#aaa';\r\n    div.appendChild(slider);\r\n    div.appendChild(text);\r\n\r\n    return {\r\n        div, slider, text\r\n    };\r\n};"],"names":["Solution","divHost","renderer","this","style","display","alignItems","div","document","createElement","marginLeft","marginRight","backgroundColor","width","height","appendChild","Renderer","destroy","lastElementChild","removeChild","p0","p1","p2","p3","N","m","Vector","down","capture","undefined","ptsList","t","text","canvas","position","offset","slider","getSlider","value","oninput","innerText","start","x","y","i","length","distanceTo","ctx","clearRect","draw","beginPath","rect","strokeStyle","lineWidth","stroke","pts","v","DeCasteljausAlgorithm","push","moveTo","lineTo","tVal","psoY","textContent","arc","Math","PI","fill","RendererCanvas","other","sqrt","fillStyle","closePath","interpolation","t0","t1","QVector","RVector","SVector","PVector","TVector","title","min","max","type","color"],"sourceRoot":""}