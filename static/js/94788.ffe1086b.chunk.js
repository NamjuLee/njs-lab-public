"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[94788],{94788:(t,e,s)=>{s.r(e),s.d(e,{AppThreeGlobeNetwork:()=>l});var i=s(17760);class o{constructor(t){this.canvas=void 0,this.host=void 0,this.ctx=void 0,this.t=0,this.camera=void 0,this.scene=void 0,this.renderer=void 0,this.radius=5,this.angle=0,this.InitCanvas(t)}InitCanvas(t){const e=document.getElementById(t);e&&(this.host=e),this.scene=new i.xsS,this.scene.background=new i.Ilk(0,0,0),this.scene.castShadow=!0,this.camera=new i.cPb(30,window.innerWidth/window.innerHeight,1,5e3),this.camera.position.set(0,0,this.radius);const s=new i.Mig(13421772,.4);s.castShadow=!0,this.scene.add(s);const o=new i.cek(16777215,.8);o.castShadow=!0,this.scene.add(o),this.renderer=new i.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.host.clientWidth/this.host.clientHeight),this.renderer.domElement.id="Three",this.renderer.setSize(this.host.clientWidth,this.host.clientHeight),this.host.appendChild(this.renderer.domElement),this.Init()}Init(){this.EventBind(),this.Loop()}EventBind(){this.renderer.domElement.onmousedown=t=>this.MouseDown(t),this.renderer.domElement.onmouseup=t=>this.MouseUp(t),this.renderer.domElement.onmousemove=t=>this.MouseMove(t)}MouseDown(t){console.log(t)}MouseUp(t){console.log(t)}MouseMove(t){console.log(t)}Loop(){requestAnimationFrame((()=>{this.Loop()})),this.Render(),this.renderer.render(this.scene,this.camera),this.t+=.01}Render(){}}var h=s(40403);class n{constructor(t){this.shaderVert="\n    attribute float size;\n    attribute vec3 customColor;\n    varying vec3 vColor;\n\n    void main() {\n        vColor = customColor;\n        vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n        gl_PointSize = size * ( 300.0 / -mvPosition.z );\n        gl_Position = projectionMatrix * mvPosition;\n    }\n    ",this.shaderFrag="\n    uniform vec3 color;\n    uniform sampler2D texture;\n    varying vec3 vColor;\n\n\tvoid main() {\n        gl_FragColor = vec4(color * vColor, 1.0);\n        gl_FragColor = gl_FragColor * texture2D(texture, gl_PointCoord);\n        if (gl_FragColor.a < ALPHATEST) discard;\n    }\n    ",this.attributePositions=void 0,this.attributeColors=void 0,this.attributeSize=void 0,this.currentHex=void 0,this.globe=void 0,this.particles=void 0,this.nodes=void 0,this.edges=void 0,this.vecs=void 0,this.nVecs=void 0,this.PARTICLE_SIZE=void 0,this.DOT_COLOR=void 0,this.SPEED_ROTATION=void 0,this.t=0,this.I_STEP_ANI=10,this.lineSegments=void 0,this.lineSegGeo=void 0,this.box=void 0,this.mouse=void 0,this.geometry=void 0,this.mesh=void 0,this.material=void 0,this.uuid=void 0,this.isHover=!1,this.isLeave=!1,this.isSelected=!1,this.isDrag=!1,this.isMove=!1,this.hasPopup=!1,this.vec=new h.h9(0,0,0),this.scale=new h.h9(1,1,1),this.tOver=0,this.tDown1=0,this.tDown2=0,this.tUp=0,this.geometryCoreWrapper=void 0,this.geometryCoreWrapper=t,this.vec=new h.h9(0,0,0),this.scale=new h.h9(1,1,1),this.currentHex="0xff0000",this.DOT_COLOR=h.mK.GetRandomHex(),this.PARTICLE_SIZE=.105,this.I_STEP_ANI=2*Math.floor(2*Math.random()),this.SPEED_ROTATION=5e-4+.1*Math.random(),this.mouse=new i.FM8,this.Init()}Init(){this.InitVec();const t=this.InitNode();this.InitBuffer(t[0],t[1],t[2]),this.InitGeometry(),this.InitMaterial(),this.InitMesh(),this.Add()}InitVec(){this.nVecs=h.m3.GetSpherecVecs3dRandomWithThicknessOffset(1500,1,.15),this.vecs=[];for(let t=0;t<this.nVecs.length;++t)this.vecs.push(new i.Pa4(this.nVecs[t].x,this.nVecs[t].y,this.nVecs[t].z))}InitNode(){let t=[],e=[],s=[];this.nodes=[];for(let i=0;i<this.vecs.length;++i){t.push(this.vecs[i].x,this.vecs[i].y,this.vecs[i].z);let o=h.mK.GetRandomColorByLightness(this.DOT_COLOR,.2+.7*Math.random());e.push(o[0]/255,o[1]/255,o[2]/255,o[3]);let n=1e-4*i;s.push(n);const a=new r(this,i,this.vecs[i],o,n);this.nodes.push(a)}return[t,e,s]}InitBuffer(t,e,s){this.attributePositions=new i.TlE(new Float32Array(t),3),this.attributeColors=new i.TlE(new Float32Array(e),4),this.attributeSize=new i.TlE(new Float32Array(s),1)}async InitGeometry(){this.globe=new i.ZAu,this.geometry=new i.u9r,this.geometry.setAttribute("position",this.attributePositions),this.geometry.setAttribute("customColor",this.attributeColors),this.geometry.setAttribute("size",this.attributeSize);let t="njslabSandboxStatic/three/img/".concat("dotTexture.png"),e=new i.jyz({uniforms:{color:{value:new i.Ilk(16777215)},texture:{value:(new i.dpR).load(t)}},vertexShader:this.shaderVert,fragmentShader:this.shaderFrag,alphaTest:.9});e.transparent=!0,this.mesh=new i.woe(this.geometry,e),this.geometryCoreWrapper.threeCore.scene.add(this.mesh),this.lineSegGeo=new i.u9r;const s=new i.nls({color:16777215,transparent:!0,opacity:.3,vertexColors:!1}),o=[];this.edges=[];let h=0,n=[],r=[];for(let d=0;d<this.nodes.length-1;++d)for(let t=d;t<this.nodes.length;++t)if(this.vecs[d].distanceTo(this.vecs[t])<.15){o.push(this.vecs[d],this.vecs[t]),n.push(this.vecs[d]),n.push(this.vecs[t]);const e=this.nodes[d].col,s=this.nodes[t].col;r.push(new i.Ilk(e[0]/255,e[1]/255,e[2]/255)),r.push(new i.Ilk(s[0]/255,s[1]/255,s[2]/255)),this.edges.push(new a(this,h,this.nodes[d],this.nodes[t],.01)),h++}this.lineSegGeo.setAttribute("position",new i.TlE(new Float32Array(n),3)),this.lineSegGeo.setAttribute("customColor",new i.TlE(new Float32Array(r),4)),this.lineSegments=new i.ejS(this.lineSegGeo,s),this.globe.add(this.lineSegments),this.geometryCoreWrapper.threeCore.scene.add(this.lineSegments)}InitMaterial(){this.material=new i.RSm}InitMesh(){}Add(){this.uuid=this.mesh.uuid,this.mesh.geo=this}Update(){this.t+=.1,this.UpdatePost()}UpdatePost(){for(let t=0;t<this.nodes.length;++t)this.nodes[t].Update(this.t);for(let t=0;t<this.edges.length;++t)this.edges[t].Update(this.t);this.lineSegGeo.attributes.position.needsUpdate=!0,this.attributePositions.needsUpdate=!0,this.attributeSize.needsUpdate=!0,this.globe.setRotationFromAxisAngle(new i.Pa4(0,1,1),1),this.globe.rotation.z+=this.SPEED_ROTATION,this.UpdateDotAnimation()}UpdateDotAnimation(){let t=0;for(let e=0;e<this.nodes.length;e+=this.I_STEP_ANI){const s=this.nodes[e].seedRandom-.5,i=this.t*s;t%3===0?this.nodes[e].Translate(.005*Math.sin(i)*s,.005*Math.cos(i)*s,.005*Math.sin(i)*s):t%3===1?this.nodes[e].Translate(.005*Math.sin(i)*s,.005*Math.cos(i)*s,.005*Math.cos(i)*s):this.nodes[e].Translate(.005*Math.cos(i)*s,.005*Math.sin(i)*s,.005*Math.sin(i)*s),t++}}Raycast(t,e){console.log(t,e)}MouseDown(t){}MouseMove(t){}}n.geo=void 0;class r{constructor(t,e,s,i,o){this.parent=void 0,this.v=void 0,this.col=void 0,this.theta=void 0,this.phi=void 0,this.size=void 0,this.id=void 0,this.edges=void 0,this.seedRandom=void 0,this.t=void 0,this.tForR=void 0,this.needUpdate=void 0,this.parent=t,this.t=0,this.v=s,this.id=e,this.col=i,this.size=o,this.tForR=0,this.seedRandom=Math.random()}Translate(t,e,s){this.v.setX(this.parent.attributePositions.getX(this.id)),this.v.setY(this.parent.attributePositions.getY(this.id)),this.v.setZ(this.parent.attributePositions.getZ(this.id)),this.parent.attributePositions.setXYZ(this.id,this.v.x+t,this.v.y+e,this.v.z+s)}Scale(t){this.size=this.parent.attributeSize.getX(this.id),this.parent.attributeSize.setX(this.id,this.size+t)}ScalebyValue(t){this.size=this.parent.attributeSize.getX(this.id),this.parent.attributeSize.setX(this.id,t)}SetScale(t){this.parent.attributeSize.setX(this.id,t),this.needUpdate=!0,this.tForR=0,this.t=0}Update(t){this.needUpdate&&(this.t+=.019,this.ScalebyValue(h.aX.easeOutElastic2(this.tForR)*this.seedRandom),this.tForR+=.01,this.t>1&&(this.needUpdate=!1,this.SetScale(.1)))}}class a{constructor(t,e,s,i,o){this.parent=void 0,this.n0=void 0,this.n1=void 0,this.size=void 0,this.id=void 0,this.seedRandom=void 0,this.parent=t,this.id=e,this.n0=s,this.n1=i,this.size=o,this.seedRandom=Math.random()}Update(t){}}class d{constructor(t){this.threeCore=void 0,this.boxMeshes=[],this.globeNetworkAThree=void 0,this.threeCore=t,this.globeNetworkAThree=new n(this)}Render(){this.globeNetworkAThree.Update()}MouseDown(t){}MouseUp(t){}MouseMove(t){}MouseDrag(t){}}class l{static Init(){new l(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SandBox")}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SandBox";this.threeCore=void 0,this.core=void 0,this.threeCore=new o(t),this.core=new d(this.threeCore),this.BindEvent(),this.BindRenderer()}BindEvent(){this.threeCore.MouseDown=t=>this.core.MouseDown(t),this.threeCore.MouseMove=t=>this.core.MouseMove(t),this.threeCore.MouseUp=t=>this.core.MouseUp(t)}BindRenderer(){this.threeCore.Render=()=>this.core.Render()}}}}]);
//# sourceMappingURL=94788.ffe1086b.chunk.js.map