{"version":3,"file":"static/js/1210.15e76cf1.chunk.js","mappings":"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","sources":["njslab/LabStarter/Starter-Mapbox/MapboxGLWrapper/index.ts","njslab/LabStarter/Starter-Mapbox/index.ts"],"sourcesContent":["import mapboxgl from \"mapbox-gl\";\r\n\r\nexport class MapboxGLWrapper {\r\n    public map: mapboxgl.Map\r\n    constructor(id: string) {\r\n\r\n        this.initMap(id);\r\n    }\r\n    private initMap(id: string) {\r\n        // https://account.mapbox.com\r\n        mapboxgl.accessToken = 'pk.eyJ1IjoiZGVzaWduanUiLCJhIjoiY2xhNGU0YWo4MDlhYzNwdHBwenVvang4eiJ9.P3sX4l_3KjdPeRRbVS1VVg';\r\n        this.map = new mapboxgl.Map({\r\n            container: id,\r\n            zoom: 15,\r\n            // minZoom: 10,\r\n            center: [-71.093161, 42.358871],\r\n            style: 'mapbox://styles/mapbox/dark-v10' // 'mapbox://styles/mapbox/streets-v11'\r\n        });\r\n        this.map.dragRotate.disable();\r\n\r\n        // https://docs.mapbox.com/mapbox-gl-js/api/events/#mapmouseevent#type\r\n        this.map.on('mousemove', (e) => { this.mouseMove(e); });\r\n        this.map.on('click', (e) => { this.mouseClick(e); });\r\n        this.map.on('mousedown', (e) => { this.mouseDown(e); });\r\n        this.map.on('dblclick', (e) => { this.mouseDClick(e); });\r\n        this.map.on('mouseup', (e) => { this.mouseUp(e); });\r\n\r\n        let div = document.getElementsByClassName('mapboxgl-canvas')[0] as HTMLDivElement;\r\n        div.style.position = 'absolute';\r\n        \r\n        div = document.getElementsByClassName('mapboxgl-control-container')[0] as HTMLDivElement;\r\n        div.style.display = 'none';\r\n\r\n    }\r\n    public center = (lng: number = -99.292649, lat: number = 39.043903) => {\r\n        // const v = new mapboxgl.LngLat(lon, lat);\r\n        // console.log(v);\r\n        this.map.setCenter({ lat, lng })\r\n    }\r\n    public toMap = (x: number, y: number) => {\r\n        const p = this.map.unproject({x, y} as any)\r\n        return [p.lng, p.lat];\r\n    }\r\n    public toScreen = (lon: number, lat: number) => {\r\n        const p = this.map.project([lon, lat])\r\n        return [p.x, p.y];\r\n    }\r\n    public mouseDown = (e) => {\r\n        // console.log(this.toScreen(-71.093161, 42.358871))\r\n        // console.log(JSON.stringify(e.point), e.lngLat.wrap())\r\n    }\r\n    public mouseUp = (e) => {\r\n        // console.log(JSON.stringify(e.point), e.lngLat.wrap())\r\n    }\r\n    public mouseMove = (e) => {\r\n        // console.log(JSON.stringify(e.point), e.lngLat.wrap())\r\n    }\r\n    public mouseClick = (e) => {\r\n        // console.log(e)\r\n        \r\n        // console.log(this.toMap(100, 100));\r\n        // console.log(e.point)\r\n        // this.center()\r\n        // this.map.zoomTo(0)\r\n        // console.log(JSON.stringify(e.point), e.lngLat.wrap())\r\n    }\r\n    public mouseDClick = (e) => {\r\n        // console.log(JSON.stringify(e.point), e.lngLat.wrap())\r\n    }\r\n}\r\n\r\n\r\n","import { MapboxGLWrapper } from './MapboxGLWrapper';\r\nimport { RendererCanvas } from '../../../lib'\r\n\r\nexport class Solution {\r\n    public divHost: HTMLDivElement;\r\n    public mapboxWrapper: MapboxGLWrapper;\r\n    public renderer: Renderer;\r\n    constructor(div: HTMLDivElement) {\r\n        this.divHost = div;\r\n        this.divHost.style.position = 'relative';\r\n\r\n        this.mapboxWrapper = new MapboxGLWrapper(this.divHost.id);\r\n        this.mapboxWrapper.mouseDown = this.mouseDown\r\n        this.mapboxWrapper.mouseUp = this.mouseUp\r\n        this.mapboxWrapper.mouseClick = this.mouseClick\r\n        this.mapboxWrapper.mouseMove = this.mouseMove\r\n\r\n        setTimeout(() => {\r\n            this.renderer = new Renderer(this.divHost, this);\r\n        }, 100);\r\n\r\n    }\r\n    public mouseDown = (e) => {\r\n        // TODO\r\n    }\r\n    public mouseUp = (e) => {\r\n        // TODO\r\n    }\r\n    public mouseDrag = (e) => {\r\n        // TODO\r\n    }\r\n    public mouseClick = (e) => {\r\n        // TODO\r\n        console.log(e);\r\n        console.log(e['lngLat']);\r\n        this.renderer.pts.push([e['lngLat']['lng'], e['lngLat']['lat']])\r\n    }\r\n    public mouseMove = (e)  =>{\r\n        // TODO\r\n    }\r\n    public keyDown(k: KeyboardEvent) {\r\n        // TODO\r\n    }\r\n    public destroy() {\r\n        this.renderer.destroy();\r\n        while (this.divHost.lastElementChild) {\r\n            this.divHost.removeChild(this.divHost.lastElementChild);\r\n        }\r\n    }\r\n}\r\nexport class Renderer extends RendererCanvas {\r\n    public app: Solution\r\n    public time: number = 0.0;\r\n    public pts: number[][] = [];\r\n    constructor(div: any, app: Solution) {\r\n        super(div);\r\n        this.app = app;\r\n        this.canvas.id = 'mapboxCustom'\r\n        this.canvas.style.position = 'absolute';\r\n        this.canvas.style.width = '100%';\r\n        this.canvas.style.height = '100%';\r\n        this.canvas.style.pointerEvents = 'none';\r\n\r\n        // TODO\r\n        // You code goes here for one time operation\r\n        this.pts.push([-71.093161, 42.358871]);\r\n\r\n        this.start();\r\n    }\r\n    public mouseDown = (x: number, y: number): void => {\r\n\r\n    }\r\n    public mouseUp = (x: number, y: number): void => {\r\n\r\n    }\r\n    public mouseDrag = (x: number, y: number): void => {\r\n\r\n    }\r\n    public render(ctx: CanvasRenderingContext2D): void {\r\n        this.time += 0.1;\r\n\r\n        for(let i = 0 ; i < this.pts.length; ++i) {\r\n            const pt = this.pts[i];\r\n            const p = this.app.mapboxWrapper.toScreen(pt[0], pt[1]);\r\n            // const p = this.app.mapboxWrapper.map.unproject({x: 10, y: 10})\r\n    \r\n            ctx.beginPath();\r\n            ctx.arc(p[0], p[1], Math.sin(this.time) * 3 + 15, 0, Math.PI * 2);\r\n            ctx.closePath();\r\n            ctx.fillStyle = '#0f0';\r\n            ctx.fill();\r\n        }\r\n\r\n    }\r\n}"],"names":["MapboxGLWrapper","id","map","center","lng","lat","setCenter","toMap","x","y","p","unproject","toScreen","lon","project","mouseDown","e","mouseUp","mouseMove","mouseClick","mouseDClick","this","initMap","mapboxgl","container","zoom","style","dragRotate","disable","on","div","document","getElementsByClassName","position","display","Solution","divHost","mapboxWrapper","renderer","mouseDrag","console","log","pts","push","setTimeout","Renderer","k","destroy","lastElementChild","removeChild","app","time","canvas","width","height","pointerEvents","start","ctx","i","length","pt","beginPath","arc","Math","sin","PI","closePath","fillStyle","fill","RendererCanvas"],"sourceRoot":""}