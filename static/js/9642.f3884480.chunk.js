"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[9642],{85510:function(t,e,s){s.d(e,{Q:function(){return a}});var i=s(87968);class a{constructor(){this.data={},this.day=24,this.scale=1,this.offsetData=4,document.onkeydown=t=>{this.offsetData++,console.log(this.offsetData)},(0,i.getCSVFromURL)("/njs-lab-public/static/data/Watabot/obs_104_1928_d047_15c7.csv").then((t=>{const e=t.split(/\r\n|\r|\n/g),s=e[0].split(","),i={};let a=!0;for(let o=0;o<s.length;++o)console.log(s[o]),a&&"time (UTC)"===s[o]?(i[s[o]]=[],a=!1):i[s[o]]=new Float32Array(e.length-1);for(let o=1;o<e.length;++o){const t=e[o].split(",");for(let e=0;e<s.length;++e){const a=s.indexOf(s[e]);-1!==a&&(i[s[e]][o-1]=t[a])}}this.data=i,console.log(i)}))}Offset(t){}wheel(t){t.deltaY<0?this.scale+=.25*this.scale:this.scale-=.25*this.scale,this.scale=this.scale<.012?.012:this.scale,console.log(this.scale)}render(t){let e=this.data["sea_water_temperature (K)"];o(t,e,this.scale,this.day),l(t,e,"#f00",this.scale,this.day,this.offsetData),e=this.data["sea_water_turbidity (1)"],l(t,e,"#0f0",this.scale,this.day,this.offsetData),e=this.data["chlorophyll_fluorescence (RFU)"],l(t,e,"#00f",this.scale,this.day,this.offsetData),e=this.data["oxidation_reduction_potential (mV)"],l(t,e,"#0ff",this.scale,this.day,this.offsetData)}}const o=(t,e,s,i)=>{for(let a=0;a<e.length;a++){if(t.lineWidth=.5,t.strokeStyle="rgba(200, 200, 200, 1)",s>.1&&a%(12*i)===0){const e=a*s;t.beginPath(),t.moveTo(e,0),t.lineTo(e,t.canvas.height),t.stroke()}if(t.lineWidth=1,t.strokeStyle="rgba(0, 0, 255, 1)",s>.02&&a%(12*i*7)===0){const e=a*s;t.beginPath(),t.moveTo(e,0),t.lineTo(e,t.canvas.height),t.stroke()}if(t.lineWidth=1,t.strokeStyle="rgba(0, 255, 0, 1)",a%(12*i*30)===0){const e=a*s;t.beginPath(),t.moveTo(e,0),t.lineTo(e,t.canvas.height),t.stroke()}}},l=(t,e,s,i,a,o)=>{t.lineWidth=3,t.strokeStyle=s,t.beginPath();let l=0;t.moveTo(l,e[0]);for(let n=1;n<e.length;n+=o){l+=1;const s=l*i*o;let a=0,h=0;if("mean"==="max"){for(let t=0;t<o;++t)h+=e[n+t];a=h/o,t.lineTo(s,a)}else{for(let t=0;t<o;++t)h<e[n+t]&&(h=e[n+t]);a=h,t.lineTo(s,a)}}t.stroke()}},89642:function(t,e,s){s.r(e),s.d(e,{Renderer:function(){return l},Solution:function(){return o}});var i=s(55913),a=s(85510);class o{constructor(t){this.divHost=void 0,this.renderer=void 0,this.divHost=t,this.divHost.style.display="flex",this.divHost.style.alignItems="center";const e=document.createElement("div");e.style.marginLeft="auto",e.style.marginRight="auto",e.style.backgroundColor="#555",e.style.width="900px",e.style.height="500px",this.divHost.appendChild(e),this.renderer=new l(e)}destroy(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}class l extends i.bb{constructor(t){super(t),this.waterQualityInspector=void 0,this.canvas.style.position="relative",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.background="#fff",this.canvas.onwheel=t=>{this.waterQualityInspector.wheel(t)},this.waterQualityInspector=new a.Q,this.start()}mouseDown(t,e){}mouseUp(t,e){}mouseDrag(t,e){}render(t){this.waterQualityInspector.render(this.ctx)}}}}]);
//# sourceMappingURL=9642.f3884480.chunk.js.map