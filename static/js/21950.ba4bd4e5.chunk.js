"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[21950],{97795:(e,s,i)=>{i.r(s),i.d(s,{DefinitionIndeCanvasCore:()=>t});var n=i(12850);class t{constructor(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:650,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:350;this.scene=void 0,this.indeCanvas=void 0,this.mOffX=-12,this.mOffY=-12,this.scene=e,this.scene.definitions.push(this),this.InitIndeCanvas(s,i)}InitIndeCanvas(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:650,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350;this.scene.implementation.app.needUI?this.indeCanvas=new n.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,50,50,e,s,!0):this.indeCanvas=new n.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,1,-25,e,s,!0),this.indeCanvas.title="TF Env",this.indeCanvas.btnHam.isHidden=!0,this.indeCanvas.btnMini.isHidden=!0,this.indeCanvas.RenderIndependentCanvas=e=>this.RenderIndependentCanvas(e)}get width(){return this.indeCanvas.canvas.width}get height(){return this.indeCanvas.canvas.height}Init(e){}RenderIndependentCanvas(e){}MouseMove(e,s){}MouseMovePre(e,s){this.indeCanvas.IsMouseInsidePanel(e,s)&&this.MouseMove(e-this.indeCanvas.vec.x+this.mOffX,s-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDown(e,s){}MouseDownPre(e,s){this.indeCanvas.IsMouseInsidePanel(e,s)&&this.MouseDown(e-this.indeCanvas.vec.x+this.mOffX,s-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseUp(e,s){}MouseUpPre(e,s){this.indeCanvas.IsMouseInsidePanel(e,s)&&this.MouseUp(e-this.indeCanvas.vec.x+this.mOffX,s-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDrag(e,s){}MouseDragPre(e,s){this.indeCanvas.IsMouseInsidePanel(e,s)&&this.MouseDrag(e-this.indeCanvas.vec.x+this.mOffX,s-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseLeftClick(e,s){}MouseLeftClickPre(e,s){this.indeCanvas.IsMouseInsidePanel(e,s)&&this.MouseLeftClick(e-this.indeCanvas.vec.x+this.mOffX,s-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseMiddleClick(e,s){}MouseMiddleClickPre(e,s){this.indeCanvas.IsMouseInsidePanel(e,s)&&this.MouseMiddleClick(e-this.indeCanvas.vec.x+this.mOffX,s-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseRightClick(e,s){}MouseRightClickPre(e,s){this.indeCanvas.IsMouseInsidePanel(e,s)&&this.MouseRightClick(e-this.indeCanvas.vec.x+this.mOffX,s-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDoubleClick(e,s){}MouseDoubleClickPre(e,s){this.indeCanvas.IsMouseInsidePanel(e,s)&&this.MouseDoubleClick(e-this.indeCanvas.vec.x+this.mOffX,s-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseWheel(e,s,i){}MouseWheelPre(e,s,i){this.indeCanvas.IsMouseInsidePanel(e,s)&&this.MouseWheel(e-this.indeCanvas.vec.x+this.mOffX,s-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY,i)}}},21950:(e,s,i)=>{i.r(s),i.d(s,{TFModel03Iris:()=>h});var n=i(65812),t=i(97795),a=i(83797);class h extends t.DefinitionIndeCanvasCore{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:650,arguments.length>2&&void 0!==arguments[2]?arguments[2]:350),this.xpos=100,this.ypos=100,this.xspeed=10,this.yspeed=10,this.xdirection=1,this.ydirection=1,this.rad=50,this.tfModel=void 0,this.xPredict=void 0,this.inputs=[],this.indeCanvas.title="TF Horsepower and Miles Per Gallon",this.Init()}Init(){this.tfModel=new o}RenderIndependentCanvas(e){n.tidy((()=>{}))}}class o{constructor(){this.model=void 0,this.inputsTensor=void 0,this.labelsTensor=void 0;const e=a.fK.GetIrisData();n.util.shuffle(e);const s=[];for(let n=0;n<e.length;++n){let i=[];for(let s=0;s<e[n].length-1;++s)i.push(e[n][s]);s.push(i)}const i=[];for(let n=0;n<e.length;++n)0===e[n][e[n].length-1]?i.push([1,0,0]):1===e[n][e[n].length-1]?i.push([0,1,0]):2===e[n][e[n].length-1]&&i.push([0,0,1]);this.inputsTensor=n.tensor2d(s),this.labelsTensor=n.tensor2d(i),this.inputsTensor.print(),this.labelsTensor.print(),this.model=n.sequential();const t=n.layers.dense({inputShape:[this.inputsTensor.shape[1]],units:10,activation:"sigmoid"}),h=n.layers.dense({units:3,activation:"softmax"});this.model.add(t),this.model.add(h),this.model.compile({optimizer:n.train.adam(),loss:n.losses.softmaxCrossEntropy,metrics:["accuracy"]}),this.model.summary(),this.trainLoop()}async trainLoop(){await this.model.save("downloads://my-model");const e=await this.model.save("localstorage://ml/my-model-1");console.log(e),this.train().then((e=>{console.log(e.history.loss[0]),setTimeout((()=>this.trainLoop()),1)}))}async train(){return await this.model.fit(this.inputsTensor,this.labelsTensor,{epochs:50,shuffle:!0,validationData:[this.inputsTensor,this.labelsTensor]})}}}}]);
//# sourceMappingURL=21950.ba4bd4e5.chunk.js.map