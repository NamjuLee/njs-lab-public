{"version":3,"file":"static/js/4628.29ae024c.chunk.js","mappings":"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","sources":["njslab/Infrastructure/AppDrawingBlock/EventInteraction/MouseInteraction.ts","njslab/Infrastructure/AppDrawingBlock/EventInteraction/KeyboardInteraction.ts","njslab/Infrastructure/AppDrawingBlock/lib/MouseInteraction.ts","njslab/Infrastructure/AppDrawingBlock/lib/KeyboardInteraction.ts","njslab/Infrastructure/AppDrawingBlock/CUIBlock/Block/base/CBlockBase.ts","njslab/Infrastructure/AppDrawingBlock/lib/NVector3.ts","njslab/Infrastructure/AppDrawingBlock/Core/CBlockRenderer.ts","njslab/Infrastructure/AppDrawingBlock/lib/MathUtility.ts","njslab/Infrastructure/AppDrawingBlock/lib/ColorUtility.ts","njslab/Infrastructure/AppDrawingBlock/CChart/CChartPreset.ts","njslab/Infrastructure/AppDrawingBlock/CChart/Base/ChartBase.ts","njslab/Infrastructure/AppDrawingBlock/CChart/GraphChartFramerate.ts","njslab/Infrastructure/AppDrawingBlock/CChart/Base/ChartSubElementBase.ts","njslab/Infrastructure/AppDrawingBlock/CChart/CHistogram.ts","njslab/Infrastructure/AppDrawingBlock/CChart/CDescribe.ts","njslab/Infrastructure/AppDrawingBlock/CChart/CScatter.ts","njslab/Infrastructure/AppDrawingBlock/CChart/CPieChart.ts","njslab/Infrastructure/AppDrawingBlock/lib/NVectorUtility.ts","njslab/Infrastructure/AppDrawingBlock/CChart/CLineChart.ts","njslab/Infrastructure/AppDrawingBlock/CChart/CBarChart.ts","njslab/Infrastructure/AppDrawingBlock/CChart/CAreaChart.ts","njslab/Infrastructure/AppDrawingBlock/CBlock/Core/Base/CBlockBase.ts","njslab/Infrastructure/AppDrawingBlock/CBlock/Core/Base/CBlockIO.ts","njslab/Infrastructure/AppDrawingBlock/CBlock/Core/CBlockPreset.ts","njslab/Infrastructure/AppDrawingBlock/lib/NumericalMotion.ts","njslab/Infrastructure/AppDrawingBlock/CBlock/Core/CBlockBody.ts","njslab/Infrastructure/AppDrawingBlock/Core/ActiveCommandDrawingBlock.ts","njslab/Infrastructure/AppDrawingBlock/Core/CBCanvas.ts","njslab/Infrastructure/AppDrawingBlock/AppDrawingBlock.ts"],"sourcesContent":["// import { CActiveCommandNone } from '../../AppDrawing/Core/CActiveCommands';\n\n// import { CGeometry } from '../AppDrawing/Canvas/CGeometry/CoreBase/CGeometryCommon';\n// import { NVector3 } from '../Core/Geometry/NVector3';\n// import { ActiveCommand } from './ActiveCommands';\n// import { CGeometry } from '../Canvas/CGeometry/CGeometryCommon';\n// / <reference path='../../types/arcgis-js-api.d.ts' />\n\nexport enum CLICKTYPE {\n  LEFT = 'LEFT', MIDDLE = 'MIDDLE', RIGHT = 'RIGHT', WHEEL = 'WHEEL',\n  DRAG = 'DRAG', DRAG_LEFT = 'DRAG_LEFT', DRAG_MIDDLE = 'DRAG_MIDDLE', DRAG_RIGHT = 'DRAG_RIGHT',\n  MOVE = 'MOVE', DOUBLE = 'DOUBLE', UP = 'UP',\n  DOWN = 'DOWN', DOWN_MIDDLE = 'DOWN_MIDDLE', DOWN_RIGHT = 'DOWN_RIGHT'\n}\n\nexport class MouseEventData {\n  x: number = -1; y: number = -1; z: number = -1;\n  preX: number = -1; preY: number = -1; preZ: number = -1;\n  yGLPicking: number;\n  // command: CActiveCommandNone; // = new CActiveCommandNone(this.graphicApp.activeCommands);\n  CLICKTYPE: CLICKTYPE = CLICKTYPE.MOVE;\n  isDown: boolean = false;\n  isDoubleClick: boolean = false;\n  isMove: boolean = false;\n  pressedShift: boolean = false;\n  pressedAlt: boolean = false;\n  pressedCtrl: boolean = false;\n\n  lat: number = -1;\n  long: number = -1;\n  wheel: number = 0;\n  preWheel: number = 0;\n\n  premEvent: MouseEventData;\n  native: MouseEvent;\n  constructor() {\n\n  }\n}\nexport class MouseInteraction {\n  static mouseEventDataPre: MouseEventData; // = new MouseEventData();\n\n  isEnable: boolean = true;\n\n  click: boolean = false;\n  prevent: boolean = false;\n  delay: number = 100;\n  timer: NodeJS.Timer | number;\n  down: boolean = false;\n  e: MouseEventData;\n\n  static MouseEvent(mouseEventData: MouseEventData) {\n    if (mouseEventData.isMove) {\n      // console.log(mouseEventData);\n    }\n    // MouseInteraction.graphicApp.ACController.MouseEventControl(mouseEventData);\n    // mouseEventData.graphicApp.appDrawing.activeCommands.activeCommand.MouseEventControl(mouseEventData);\n  }\n\n  constructor() {\n\n\n    MouseInteraction.mouseEventDataPre = new MouseEventData();\n\n    // this.InitNativeMouseWheelEvent(this.graphicApp.divGraphicApp);\n  }\n  // ................................................................ event from native\n  InitNativeMouseWheelEvent(div: HTMLElement) {\n    // div.onwheel = (e: WheelEvent) => { this.MouseWheel(e, e.wheelDelta); };\n  }\n  InitNativeMouseEvent(div?: HTMLElement | undefined) {\n    if (div === undefined || div === null) {\n      document.onclick = (e: MouseEvent) => {\n        this.timer = setTimeout(\n          () => {\n            if (!this.prevent) { this.MouseClick(e); }\n            this.prevent = false;\n          },\n          this.delay);\n      };\n      document.ondblclick = (e: MouseEvent) => {\n        clearTimeout(this.timer as NodeJS.Timer);\n        this.prevent = true;\n        this.MouseDoubleClick(e);\n      };\n      document.onmousedown = (e: MouseEvent) => { this.MouseDown(e); };\n      document.onmouseup = (e: MouseEvent) => { this.MouseUp(e); };\n      document.onmousemove = (e: MouseEvent) => { this.MouseMove(e); };\n    } else {\n      div.onclick = (e: MouseEvent) => {\n        this.timer = setTimeout(\n          () => {\n            if (!this.prevent) { this.MouseClick(e); }\n            this.prevent = false;\n          },\n          this.delay);\n      };\n      div.ondblclick = (e: MouseEvent) => {\n        clearTimeout(this.timer as number);\n        this.prevent = true;\n        this.MouseDoubleClick(e);\n      };\n      div.onmousedown = (e: MouseEvent) => { this.MouseDown(e); };\n      div.onmouseup = (e: MouseEvent) => { this.MouseUp(e); };\n      div.onmousemove = (e: MouseEvent) => { this.MouseMove(e); };\n    }\n  }\n  MouseDown(e: MouseEvent) {\n    this.click = true;\n    this.down = true;\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.CLICKTYPE = CLICKTYPE.DOWN;\n    mEvent.isDown = true;\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseClick(e: MouseEvent) {\n    if (!this.click) { return; }\n    let mEvent = this.CommonEventBuilder(e);\n    if (e.button === 0) {\n      mEvent.CLICKTYPE = CLICKTYPE.LEFT;\n    } else if (e.button === 1) {\n      mEvent.CLICKTYPE = CLICKTYPE.MIDDLE;\n    } else if (e.button === 2) {\n      mEvent.CLICKTYPE = CLICKTYPE.RIGHT;\n    }\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseDoubleClick(e: MouseEvent) {\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.CLICKTYPE = CLICKTYPE.DOUBLE;\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseDrag(e: MouseEvent) {\n    this.click = false;\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.CLICKTYPE = CLICKTYPE.DRAG;\n    mEvent.isDown = true;\n    if (e.buttons === 1) {\n      mEvent.CLICKTYPE = CLICKTYPE.DRAG;\n    } else if (e.buttons === 4) {\n      mEvent.CLICKTYPE = CLICKTYPE.DRAG_MIDDLE;\n    } else if (e.buttons === 2) {\n      mEvent.CLICKTYPE = CLICKTYPE.DRAG_RIGHT;\n    }\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseMove(e: MouseEvent) {\n    if (this.down) { this.MouseDrag(e); return; }\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.CLICKTYPE = CLICKTYPE.MOVE;\n    mEvent.isDown = false;\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseUp(e: MouseEvent) {\n    this.down = false;\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.CLICKTYPE = CLICKTYPE.UP;\n    mEvent.isDown = false;\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseWheel(e: MouseEvent, v: number) {\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.wheel = v;\n    mEvent.CLICKTYPE = CLICKTYPE.WHEEL;\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  AppendDownEvent(e: MouseEvent) {\n    // let e: any = MouseEventListener.mouseClick;\n\n    // document.onmousedown = (e) => {\n    //   let mEvent = this.CommonEventBuilder(e);\n    //   if (e.button === 0) mEvent.CLICKTYPE = CLICKTYPE.LEFT;\n    //   else if (e.button === 1) mEvent.CLICKTYPE = CLICKTYPE.MIDDLE;\n    //   else if (e.button === 2) mEvent.CLICKTYPE = CLICKTYPE.RIGHT;\n    //   mEvent.isDown = true;\n    //   //mEvent.FROM = FROM.NATIVE;\n    //   mEvent.CLICKTYPE = CLICKTYPE.DOWN;\n    //   \n    // };\n  }\n  AppendUpEvent() {\n    document.onmouseup = (e: MouseEvent) => {\n      let mEvent = this.CommonEventBuilder(e);\n      if (e.button === 0) {\n        mEvent.CLICKTYPE = CLICKTYPE.LEFT;\n      } else if (e.button === 1) {\n        mEvent.CLICKTYPE = CLICKTYPE.MIDDLE;\n      } else if (e.button === 2) {\n        mEvent.CLICKTYPE = CLICKTYPE.RIGHT;\n      }\n      mEvent.isDown = false;\n      // mEvent.FROM = FROM.NATIVE;\n      mEvent.CLICKTYPE = CLICKTYPE.UP;\n      MouseInteraction.MouseEvent(mEvent);\n    };\n  }\n  // ................................................................... ArcGIS\n  // }\n\n  // InitArcGISMapEventV3x() {\n  // .................................................................\n  // this.map.on('click', (e: any) => {\n  //   if (e.button == 0) { this.MouseClickLeftArcGIS(e.screenPoint.x, e.screenPoint.y); }\n  //   else if (e.button == 1) this.MouseClickMiddleArcGIS(e.screenPoint.x, e.screenPoint.y);\n  //   else this.MouseClickRightArcGIS(e.screenPoint.x, e.screenPoint.y);\n  // });\n  // this.map.on('dbl-click', (e: any) => {this.MouseDoubleClickArcGIS(e.screenPoint.x, e.screenPoint.y);});\n  // this.map.on('mouse-wheel', (e: any) => { console.log('mouse wheel'); });\n  // this.map.on('mouse-down', (e: any) => { this.MouseDownArcGIS(e.screenPoint.x, e.screenPoint.y); });\n  // this.map.on('mouse-drag', (e: any) => { this.MouseDragClickArcGIS(e.screenPoint.x, e.screenPoint.y); });\n  // this.map.on('mouse-move', (e: any) => { this.MouseMoveArcGIS(e.screenPoint.x, e.screenPoint.y); });\n  // this.map.on('mouse-up', (e: any) => { this.MouseUpArcGIS(e.screenPoint.x, e.screenPoint.y); });\n  // .................................................................\n  //   this.map.on('key-down', (e: any) => { this.graphicApp.keyBoard.KeyDown(e); });\n  //   this.map.on('key-up', (e: any) => { this.graphicApp.keyBoard.KeyUp(e); });\n  //   this.map.on('resize', (e: any) => {\n  //   });\n  //   this.map.on('pan', (e: any) => {\n  //     this.graphicApp.screen.xOffCurrent = e.delta.x;\n  //     this.graphicApp.screen.yOffCurrent = e.delta.y;\n  //     // this.graphicApp.activeCommands.isPan = true;\n  //   });\n  //   this.map.on('pan-start', (e: any) => {\n  //     // this.graphicApp.screen.xOffPre = e.delta.x;\n  //     // this.graphicApp.screen.yOffPre = e.delta.x;\n  //     this.graphicApp.activeCommands.isPan = true;\n  //   });\n  //   this.map.on('pan-end', (e: any) => {\n  //     this.graphicApp.screen.xOffCurrent = 0\n  //     this.graphicApp.screen.yOffCurrent = 0;\n  //     this.graphicApp.screen.xOffPre = 0\n  //     this.graphicApp.screen.yOffPre = 0;\n  //     this.graphicApp.activeCommands.isPan = false;\n  //     this.graphicApp.activeCommands.isPanEnd = true;\n  //   });\n  //   this.map.on('zoom', (e: any) => {\n  //     this.graphicApp.screen.zoomFactorCurrent = e.zoomFactor\n  //     // this.graphicApp.screen.yOffCurrent = e.delta.y;\n  //     // console.log(this.graphicApp.screen.zoomFactor)\n  //     // this.graphicApp.activeCommands.isZoom = false;\n  //     // this.graphicApp.activeCommands.isZoom = true;\n  //   });\n  //   this.map.on('zoom-start', (e: any) => {\n  //     this.graphicApp.screen.anchor = new NVector3(e.anchor.x, e.anchor.y);\n  //     this.graphicApp.screen.zoomFactorCurrent = 0;\n  //     this.graphicApp.screen.zoomFactorPre = 0;\n  //     this.graphicApp.activeCommands.isZoom = true;\n  //     this.graphicApp.activeCommands.isZoomRecoverForlocal = false;\n  //   });\n  //   this.map.on('zoom-end', (e: any) => {\n  //     this.graphicApp.screen.zoomFactorCurrent = 0;\n  //     this.graphicApp.screen.zoomFactorPre = 0;\n  //     this.graphicApp.activeCommands.isZoom = false;\n  //     this.graphicApp.activeCommands.isZoomRecoverForlocal = true;\n  //     this.graphicApp.activeCommands.isZoomEnd = true;\n  //   });\n  // }\n  // DisablelMapView() {\n  //   console.log('disalbe for map control');\n  //   // this.isEnable = false;\n  //   this.map.disablePan();\n  //   this.map.disableDoubleClickZoom();\n  //   this.map.disableScrollWheel();\n  // }\n  // EnablelMapView() {\n  //   // this.isEnable = true;\n  //   this.map.enablePan();\n  //   this.map.enableDoubleClickZoom();\n  //   this.map.enableScrollWheel();\n  //   // console.log('enalbe for map control');\n  // }\n  // MousePanArcGIS(e: any) {\n  //   // console.log(e.delta);\n  //   // CGeometry.ScreenOffset = e.delta;\n  // }\n  // ................................................................ event from ArcGIS\n  \n  CommonEventBuilder(e: MouseEvent): MouseEventData {\n    let mEvent: MouseEventData = new MouseEventData();\n    mEvent.preX = MouseInteraction.mouseEventDataPre.x;\n    mEvent.preY = MouseInteraction.mouseEventDataPre.y;\n    mEvent.premEvent = MouseInteraction.mouseEventDataPre;\n\n    mEvent.pressedShift = e.shiftKey;\n    mEvent.pressedAlt = e.altKey;\n    mEvent.pressedCtrl = e.ctrlKey;\n\n    mEvent.x = e.offsetX;\n    mEvent.y = e.offsetY;\n    mEvent.preWheel = MouseInteraction.mouseEventDataPre.wheel;\n    mEvent.wheel = 0;\n    mEvent.native = e;\n    MouseInteraction.mouseEventDataPre = mEvent;\n    this.e = mEvent;\n    return mEvent;\n  }\n}\n// ....................................................................\nexport class MouseEventListener {\n  static click: boolean = false;\n  static prevent: boolean = false;\n  static delay: number = 200;\n  static timer: NodeJS.Timer | number;\n  static down: boolean = false;\n\n  static mouseDown(e: MouseEvent) { /* */ }\n  static MouseDown(e: MouseEvent) {\n    MouseEventListener.click = true;\n    MouseEventListener.down = true;\n    MouseEventListener.mouseDown(e);\n  }\n  static mouseClick(e: MouseEvent) { /* */ }\n  static MouseClick(e: MouseEvent) {\n    if (!MouseEventListener.click) { return; }\n    MouseEventListener.mouseClick(e);\n  }\n  static mouseDoubleClick(e: MouseEvent) { /* */ }\n  static MouseDoubleClick(e: MouseEvent) {\n    MouseEventListener.mouseDoubleClick(e);\n  }\n  static mouseDrag(e: MouseEvent) { /* */ }\n  static MouseDrag(e: MouseEvent) {\n    MouseEventListener.click = true;\n    MouseEventListener.mouseDrag(e);\n  }\n  static mouseMove(e: MouseEvent) { /* */ }\n  static MouseMove(e: MouseEvent) {\n    if (MouseEventListener.down) { MouseEventListener.MouseDrag(e); return; }\n    MouseEventListener.mouseMove(e);\n  }\n  static mouseUp(e: MouseEvent) { /* */ }\n  static MouseUp(e: MouseEvent) {\n    MouseEventListener.down = false;\n    MouseEventListener.mouseUp(e);\n  }\n\n  static Init(div?: HTMLElement | undefined) {\n    if (div === undefined || div === null) {\n      document.onclick = (e: MouseEvent) => {\n        MouseEventListener.timer = setTimeout(\n          () => {\n            if (!MouseEventListener.prevent) { MouseEventListener.MouseClick(e); }\n            MouseEventListener.prevent = false;\n          },\n          MouseEventListener.delay\n        );\n      };\n      document.ondblclick = (e: MouseEvent) => {\n        clearTimeout(MouseEventListener.timer as number);\n        MouseEventListener.prevent = true;\n        MouseEventListener.MouseDoubleClick(e);\n      };\n      document.onmousedown = (e: MouseEvent) => { MouseEventListener.MouseDown(e); };\n      document.onmouseup = (e: MouseEvent) => { MouseEventListener.MouseUp(e); };\n      document.onmousemove = (e: MouseEvent) => { MouseEventListener.MouseMove(e); };\n    } else {\n      div.onclick = (e) => {\n        MouseEventListener.timer = setTimeout(\n          () => {\n            if (!MouseEventListener.prevent) { MouseEventListener.MouseClick(e); }\n            MouseEventListener.prevent = false;\n          },\n          MouseEventListener.delay\n        );\n      };\n      div.ondblclick = (e) => {\n        clearTimeout(MouseEventListener.timer as number);\n        MouseEventListener.prevent = true;\n        MouseEventListener.MouseDoubleClick(e);\n      };\n      div.onmousedown = (e: MouseEvent) => { MouseEventListener.MouseDown(e); };\n      div.onmouseup = (e: MouseEvent) => { MouseEventListener.MouseUp(e); };\n      div.onmousemove = (e: MouseEvent) => { MouseEventListener.MouseMove(e); };\n    }\n  }\n}","\n\nexport enum PRESSTYPE { UP = 'UP', DOWN = 'DOWN' }\n\nexport class KeyboardEventData {\n    // graphicApp: GraphicApp;\n    preEvent: KeyboardEventData;\n    key: string;\n    hasAltKey: boolean;\n    hasCtrlKey: boolean;\n    hasShiftKey: boolean;\n    hasMetaCommand: boolean;\n    code: string;\n    keyCode: number;\n    PRESSTYPE: PRESSTYPE;\n    constructor() {\n\n    }\n}\n\nexport class KeyboardInteraction {\n    static MouseEventDataPre: KeyboardEventData;\n\n\n    isUp: boolean;\n\n    static KeyEvent(keyboardEventData: KeyboardEventData) {\n        // keyboardEventData.graphicApp.ACController.KeyboardEventControl(keyboardEventData);\n    }\n    constructor() {\n\n        this.isUp = false;\n\n        this.Init();\n        KeyboardInteraction.MouseEventDataPre = new KeyboardEventData();\n\n\n    }\n    Init() {\n        // this.graphicApp.appDrawing.div.onkeydown = (k) => { this.KeyDown(k); };\n        // this.graphicApp.appDrawing.div.onkeyup = (k) => { this.KeyUp(k); };\n        document.onkeydown = (k) => { this.KeyDown(k); };\n        document.onkeypress = (k) => { this.KeyPress(k); };\n        document.onkeyup = (k) => { this.KeyUp(k); };\n    }\n    KeyDown(k: KeyboardEvent) {\n        let kEventData: KeyboardEventData = this.CommonEventBuilder(k);\n        kEventData.PRESSTYPE = PRESSTYPE.DOWN;\n        KeyboardInteraction.KeyEvent(kEventData);\n    }\n    KeyPress(k: KeyboardEvent) {\n        let kEventData: KeyboardEventData = this.CommonEventBuilder(k);\n        kEventData.PRESSTYPE = PRESSTYPE.DOWN;\n        KeyboardInteraction.KeyEvent(kEventData);\n    }\n    KeyUp(k: KeyboardEvent) {\n        let kEventData: KeyboardEventData = this.CommonEventBuilder(k);\n        kEventData.PRESSTYPE = PRESSTYPE.UP;\n        KeyboardInteraction.KeyEvent(kEventData);\n    }\n    KeyUpJSAPI4X(k: KeyboardEvent) {\n        let kEventData: KeyboardEventData = this.CommonEventBuilder(k);\n        kEventData.PRESSTYPE = PRESSTYPE.UP;\n        KeyboardInteraction.KeyEvent(kEventData);\n    }\n    // ............................................................. builder\n    CommonEventBuilder(k: KeyboardEvent): KeyboardEventData {\n        let kEvent: KeyboardEventData = new KeyboardEventData();\n        kEvent.preEvent = KeyboardInteraction.MouseEventDataPre;\n        kEvent.key = k.key;\n        kEvent.keyCode = k.keyCode;\n        kEvent.code = k.code;\n        kEvent.hasCtrlKey = k.ctrlKey;\n        kEvent.hasShiftKey = k.shiftKey;\n        kEvent.hasAltKey = k.altKey;\n        kEvent.hasMetaCommand = k.metaKey;\n        KeyboardInteraction.MouseEventDataPre = kEvent;\n        return kEvent;\n    }\n\n}\n","// import { GraphicApp } from '../../index';\n// import { CActiveCommandNone } from '../../AppDrawing/Core/CActiveCommands';\n\n// import { CGeometry } from '../AppDrawing/Canvas/CGeometry/CoreBase/CGeometryCommon';\n// import { NVector3 } from '../Core/Geometry/NVector3';\n// import { ActiveCommand } from './ActiveCommands';\n// import { CGeometry } from '../Canvas/CGeometry/CGeometryCommon';\n// / <reference path='../../types/arcgis-js-api.d.ts' />\n\nexport enum CLICKTYPE {\n  LEFT = 'LEFT', MIDDLE = 'MIDDLE', RIGHT = 'RIGHT', WHEEL = 'WHEEL',\n  DRAG = 'DRAG', DRAG_LEFT = 'DRAG_LEFT', DRAG_MIDDLE = 'DRAG_MIDDLE', DRAG_RIGHT = 'DRAG_RIGHT',\n  MOVE = 'MOVE', DOUBLE = 'DOUBLE', UP = 'UP',\n  DOWN = 'DOWN', DOWN_MIDDLE = 'DOWN_MIDDLE', DOWN_RIGHT = 'DOWN_RIGHT'\n}\n\nexport class MouseEventData {\n  // graphicApp: GraphicApp;\n  x: number = -1; y: number = -1; z: number = -1;\n  preX: number = -1; preY: number = -1; preZ: number = -1;\n  yGLPicking: number;\n  // command: CActiveCommandNone; // = new CActiveCommandNone(this.graphicApp.activeCommands);\n  CLICKTYPE: CLICKTYPE = CLICKTYPE.MOVE;\n  isDown: boolean = false;\n  isDoubleClick: boolean = false;\n  isMove: boolean = false;\n  pressedShift: boolean = false;\n  pressedAlt: boolean = false;\n  pressedCtrl: boolean = false;\n\n  lat: number = -1;\n  long: number = -1;\n  wheel: number = 0;\n  preWheel: number = 0;\n\n  premEvent: MouseEventData;\n  native: MouseEvent;\n  constructor() {\n    // if (graphicApp !== null && graphicApp !== undefined) { ; }\n  }\n}\nexport class MouseInteraction {\n  static mouseEventDataPre: MouseEventData; // = new MouseEventData();\n\n  isEnable: boolean = true;\n\n  click: boolean = false;\n  prevent: boolean = false;\n  delay: number = 100;\n  timer: NodeJS.Timer | number;\n  down: boolean = false;\n  e: MouseEventData;\n\n  static MouseEvent(mouseEventData: MouseEventData) {\n    if (mouseEventData.isMove) {\n      // console.log(mouseEventData);\n    }\n    // MouseInteraction.graphicApp.ACController.MouseEventControl(mouseEventData);\n    // mouseEventData.graphicApp.appDrawing.activeCommands.activeCommand.MouseEventControl(mouseEventData);\n  }\n\n  constructor() {\n    // MouseInteraction.graphicApp = graphicApp;\n    // this.graphicApp = graphicApp;\n\n    MouseInteraction.mouseEventDataPre = new MouseEventData();\n    // if (!this.graphicApp.isStandalone) {\n      // this.InitArcGISMapEventV4x();\n      // this.InitArcGISMapEventV3x();\n    // } else {\n      this.InitNativeMouseEvent();\n    // }\n    // this.InitNativeMouseWheelEvent();\n  }\n  // ................................................................ event from native\n  InitNativeMouseWheelEvent(div: HTMLElement) {\n    // div.onwheel = (e: WheelEvent) => { this.MouseWheel(e, e.wheelDelta); };\n  }\n  InitNativeMouseEvent(div?: HTMLElement | undefined) {\n    if (div === undefined || div === null) {\n      document.onclick = (e: MouseEvent) => {\n        this.timer = setTimeout(\n          () => {\n            if (!this.prevent) { this.MouseClick(e); }\n            this.prevent = false;\n          },\n          this.delay);\n      };\n      document.ondblclick = (e: MouseEvent) => {\n        clearTimeout(this.timer as NodeJS.Timer);\n        this.prevent = true;\n        this.MouseDoubleClick(e);\n      };\n      document.onmousedown = (e: MouseEvent) => { this.MouseDown(e); };\n      document.onmouseup = (e: MouseEvent) => { this.MouseUp(e); };\n      document.onmousemove = (e: MouseEvent) => { this.MouseMove(e); };\n    } else {\n      div.onclick = (e: MouseEvent) => {\n        this.timer = setTimeout(\n          () => {\n            if (!this.prevent) { this.MouseClick(e); }\n            this.prevent = false;\n          },\n          this.delay);\n      };\n      div.ondblclick = (e: MouseEvent) => {\n        clearTimeout(this.timer as number);\n        this.prevent = true;\n        this.MouseDoubleClick(e);\n      };\n      div.onmousedown = (e: MouseEvent) => { this.MouseDown(e); };\n      div.onmouseup = (e: MouseEvent) => { this.MouseUp(e); };\n      div.onmousemove = (e: MouseEvent) => { this.MouseMove(e); };\n    }\n  }\n  MouseDown(e: MouseEvent) {\n    this.click = true;\n    this.down = true;\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.CLICKTYPE = CLICKTYPE.DOWN;\n    mEvent.isDown = true;\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseClick(e: MouseEvent) {\n    if (!this.click) { return; }\n    let mEvent = this.CommonEventBuilder(e);\n    if (e.button === 0) {\n      mEvent.CLICKTYPE = CLICKTYPE.LEFT;\n    } else if (e.button === 1) {\n      mEvent.CLICKTYPE = CLICKTYPE.MIDDLE;\n    } else if (e.button === 2) {\n      mEvent.CLICKTYPE = CLICKTYPE.RIGHT;\n    }\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseDoubleClick(e: MouseEvent) {\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.CLICKTYPE = CLICKTYPE.DOUBLE;\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseDrag(e: MouseEvent) {\n    this.click = false;\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.CLICKTYPE = CLICKTYPE.DRAG;\n    mEvent.isDown = true;\n    if (e.buttons === 1) {\n      mEvent.CLICKTYPE = CLICKTYPE.DRAG;\n    } else if (e.buttons === 4) {\n      mEvent.CLICKTYPE = CLICKTYPE.DRAG_MIDDLE;\n    } else if (e.buttons === 2) {\n      mEvent.CLICKTYPE = CLICKTYPE.DRAG_RIGHT;\n    }\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseMove(e: MouseEvent) {\n    if (this.down) { this.MouseDrag(e); return; }\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.CLICKTYPE = CLICKTYPE.MOVE;\n    mEvent.isDown = false;\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseUp(e: MouseEvent) {\n    this.down = false;\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.CLICKTYPE = CLICKTYPE.UP;\n    mEvent.isDown = false;\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  MouseWheel(e: MouseEvent, v: number) {\n    let mEvent = this.CommonEventBuilder(e);\n    mEvent.wheel = v;\n    mEvent.CLICKTYPE = CLICKTYPE.WHEEL;\n    MouseInteraction.MouseEvent(mEvent);\n  }\n  AppendDownEvent(e: MouseEvent) {\n    // let e: any = MouseEventListener.mouseClick;\n\n    // document.onmousedown = (e) => {\n    //   let mEvent = this.CommonEventBuilder(e);\n    //   if (e.button === 0) mEvent.CLICKTYPE = CLICKTYPE.LEFT;\n    //   else if (e.button === 1) mEvent.CLICKTYPE = CLICKTYPE.MIDDLE;\n    //   else if (e.button === 2) mEvent.CLICKTYPE = CLICKTYPE.RIGHT;\n    //   mEvent.isDown = true;\n    //   //mEvent.FROM = FROM.NATIVE;\n    //   mEvent.CLICKTYPE = CLICKTYPE.DOWN;\n    //   \n    // };\n  }\n  AppendUpEvent() {\n    document.onmouseup = (e: MouseEvent) => {\n      let mEvent = this.CommonEventBuilder(e);\n      if (e.button === 0) {\n        mEvent.CLICKTYPE = CLICKTYPE.LEFT;\n      } else if (e.button === 1) {\n        mEvent.CLICKTYPE = CLICKTYPE.MIDDLE;\n      } else if (e.button === 2) {\n        mEvent.CLICKTYPE = CLICKTYPE.RIGHT;\n      }\n      mEvent.isDown = false;\n      // mEvent.FROM = FROM.NATIVE;\n      mEvent.CLICKTYPE = CLICKTYPE.UP;\n      MouseInteraction.MouseEvent(mEvent);\n    };\n  }\n\n  // InitArcGISMapEventV3x() {\n  // .................................................................\n  // this.map.on('click', (e: any) => {\n  //   if (e.button == 0) { this.MouseClickLeftArcGIS(e.screenPoint.x, e.screenPoint.y); }\n  //   else if (e.button == 1) this.MouseClickMiddleArcGIS(e.screenPoint.x, e.screenPoint.y);\n  //   else this.MouseClickRightArcGIS(e.screenPoint.x, e.screenPoint.y);\n  // });\n  // this.map.on('dbl-click', (e: any) => {this.MouseDoubleClickArcGIS(e.screenPoint.x, e.screenPoint.y);});\n  // this.map.on('mouse-wheel', (e: any) => { console.log('mouse wheel'); });\n  // this.map.on('mouse-down', (e: any) => { this.MouseDownArcGIS(e.screenPoint.x, e.screenPoint.y); });\n  // this.map.on('mouse-drag', (e: any) => { this.MouseDragClickArcGIS(e.screenPoint.x, e.screenPoint.y); });\n  // this.map.on('mouse-move', (e: any) => { this.MouseMoveArcGIS(e.screenPoint.x, e.screenPoint.y); });\n  // this.map.on('mouse-up', (e: any) => { this.MouseUpArcGIS(e.screenPoint.x, e.screenPoint.y); });\n  // .................................................................\n  //   this.map.on('key-down', (e: any) => { this.graphicApp.keyBoard.KeyDown(e); });\n  //   this.map.on('key-up', (e: any) => { this.graphicApp.keyBoard.KeyUp(e); });\n  //   this.map.on('resize', (e: any) => {\n  //   });\n  //   this.map.on('pan', (e: any) => {\n  //     this.graphicApp.screen.xOffCurrent = e.delta.x;\n  //     this.graphicApp.screen.yOffCurrent = e.delta.y;\n  //     // this.graphicApp.activeCommands.isPan = true;\n  //   });\n  //   this.map.on('pan-start', (e: any) => {\n  //     // this.graphicApp.screen.xOffPre = e.delta.x;\n  //     // this.graphicApp.screen.yOffPre = e.delta.x;\n  //     this.graphicApp.activeCommands.isPan = true;\n  //   });\n  //   this.map.on('pan-end', (e: any) => {\n  //     this.graphicApp.screen.xOffCurrent = 0\n  //     this.graphicApp.screen.yOffCurrent = 0;\n  //     this.graphicApp.screen.xOffPre = 0\n  //     this.graphicApp.screen.yOffPre = 0;\n  //     this.graphicApp.activeCommands.isPan = false;\n  //     this.graphicApp.activeCommands.isPanEnd = true;\n  //   });\n  //   this.map.on('zoom', (e: any) => {\n  //     this.graphicApp.screen.zoomFactorCurrent = e.zoomFactor\n  //     // this.graphicApp.screen.yOffCurrent = e.delta.y;\n  //     // console.log(this.graphicApp.screen.zoomFactor)\n  //     // this.graphicApp.activeCommands.isZoom = false;\n  //     // this.graphicApp.activeCommands.isZoom = true;\n  //   });\n  //   this.map.on('zoom-start', (e: any) => {\n  //     this.graphicApp.screen.anchor = new NVector3(e.anchor.x, e.anchor.y);\n  //     this.graphicApp.screen.zoomFactorCurrent = 0;\n  //     this.graphicApp.screen.zoomFactorPre = 0;\n  //     this.graphicApp.activeCommands.isZoom = true;\n  //     this.graphicApp.activeCommands.isZoomRecoverForlocal = false;\n  //   });\n  //   this.map.on('zoom-end', (e: any) => {\n  //     this.graphicApp.screen.zoomFactorCurrent = 0;\n  //     this.graphicApp.screen.zoomFactorPre = 0;\n  //     this.graphicApp.activeCommands.isZoom = false;\n  //     this.graphicApp.activeCommands.isZoomRecoverForlocal = true;\n  //     this.graphicApp.activeCommands.isZoomEnd = true;\n  //   });\n  // }\n  // DisablelMapView() {\n  //   console.log('disalbe for map control');\n  //   // this.isEnable = false;\n  //   this.map.disablePan();\n  //   this.map.disableDoubleClickZoom();\n  //   this.map.disableScrollWheel();\n  // }\n  // EnablelMapView() {\n  //   // this.isEnable = true;\n  //   this.map.enablePan();\n  //   this.map.enableDoubleClickZoom();\n  //   this.map.enableScrollWheel();\n  //   // console.log('enalbe for map control');\n  // }\n  // MousePanArcGIS(e: any) {\n  //   // console.log(e.delta);\n  //   // CGeometry.ScreenOffset = e.delta;\n  // }\n  // ................................................................ event from ArcGIS\n  CommonEventBuilder(e: MouseEvent): MouseEventData {\n    let mEvent: MouseEventData = new MouseEventData();\n    mEvent.preX = MouseInteraction.mouseEventDataPre.x;\n    mEvent.preY = MouseInteraction.mouseEventDataPre.y;\n    mEvent.premEvent = MouseInteraction.mouseEventDataPre;\n\n    mEvent.pressedShift = e.shiftKey;\n    mEvent.pressedAlt = e.altKey;\n    mEvent.pressedCtrl = e.ctrlKey;\n\n    mEvent.x = e.offsetX;\n    mEvent.y = e.offsetY;\n    mEvent.preWheel = MouseInteraction.mouseEventDataPre.wheel;\n    mEvent.wheel = 0;\n    mEvent.native = e;\n    MouseInteraction.mouseEventDataPre = mEvent;\n    this.e = mEvent;\n    return mEvent;\n  }\n}\n// ....................................................................\nexport class MouseEventListener {\n  static click: boolean = false;\n  static prevent: boolean = false;\n  static delay: number = 200;\n  static timer: NodeJS.Timer | number;\n  static down: boolean = false;\n\n  static mouseDown(e: MouseEvent) { /* */ }\n  static MouseDown(e: MouseEvent) {\n    MouseEventListener.click = true;\n    MouseEventListener.down = true;\n    MouseEventListener.mouseDown(e);\n  }\n  static mouseClick(e: MouseEvent) { /* */ }\n  static MouseClick(e: MouseEvent) {\n    if (!MouseEventListener.click) { return; }\n    MouseEventListener.mouseClick(e);\n  }\n  static mouseDoubleClick(e: MouseEvent) { /* */ }\n  static MouseDoubleClick(e: MouseEvent) {\n    MouseEventListener.mouseDoubleClick(e);\n  }\n  static mouseDrag(e: MouseEvent) { /* */ }\n  static MouseDrag(e: MouseEvent) {\n    MouseEventListener.click = true;\n    MouseEventListener.mouseDrag(e);\n  }\n  static mouseMove(e: MouseEvent) { /* */ }\n  static MouseMove(e: MouseEvent) {\n    if (MouseEventListener.down) { MouseEventListener.MouseDrag(e); return; }\n    MouseEventListener.mouseMove(e);\n  }\n  static mouseUp(e: MouseEvent) { /* */ }\n  static MouseUp(e: MouseEvent) {\n    MouseEventListener.down = false;\n    MouseEventListener.mouseUp(e);\n  }\n\n  static Init(div?: HTMLElement | undefined) {\n    if (div === undefined || div === null) {\n      document.onclick = (e: MouseEvent) => {\n        MouseEventListener.timer = setTimeout(\n          () => {\n            if (!MouseEventListener.prevent) { MouseEventListener.MouseClick(e); }\n            MouseEventListener.prevent = false;\n          },\n          MouseEventListener.delay\n        );\n      };\n      document.ondblclick = (e: MouseEvent) => {\n        clearTimeout(MouseEventListener.timer as number);\n        MouseEventListener.prevent = true;\n        MouseEventListener.MouseDoubleClick(e);\n      };\n      document.onmousedown = (e: MouseEvent) => { MouseEventListener.MouseDown(e); };\n      document.onmouseup = (e: MouseEvent) => { MouseEventListener.MouseUp(e); };\n      document.onmousemove = (e: MouseEvent) => { MouseEventListener.MouseMove(e); };\n    } else {\n      div.onclick = (e) => {\n        MouseEventListener.timer = setTimeout(\n          () => {\n            if (!MouseEventListener.prevent) { MouseEventListener.MouseClick(e); }\n            MouseEventListener.prevent = false;\n          },\n          MouseEventListener.delay\n        );\n      };\n      div.ondblclick = (e) => {\n        clearTimeout(MouseEventListener.timer as number);\n        MouseEventListener.prevent = true;\n        MouseEventListener.MouseDoubleClick(e);\n      };\n      div.onmousedown = (e: MouseEvent) => { MouseEventListener.MouseDown(e); };\n      div.onmouseup = (e: MouseEvent) => { MouseEventListener.MouseUp(e); };\n      div.onmousemove = (e: MouseEvent) => { MouseEventListener.MouseMove(e); };\n    }\n  }\n}","\nexport enum EVENT_LISTENER_TYPE { NATIVE = 'NATIVE', JSAPI4X = 'JSAPI4X' }\nexport enum PRESSTYPE { UP = 'UP', DOWN = 'DOWN' }\n\nexport class KeyboardEventData {\n    // graphicApp: GraphicApp;\n    preEvent: KeyboardEventData;\n    key: string;\n    hasAltKey: boolean;\n    hasCtrlKey: boolean;\n    hasShiftKey: boolean;\n    hasMetaCommand: boolean;\n    code: string;\n    keyCode: number;\n    PRESSTYPE: PRESSTYPE;\n    constructor() {\n \n    }\n}\n\nexport class KeyboardInteraction {\n    static MouseEventDataPre: KeyboardEventData;\n\n    // graphicApp: GraphicApp;\n    type: EVENT_LISTENER_TYPE;\n    isUp: boolean;\n\n    static KeyEvent(keyboardEventData: KeyboardEventData) {\n        // keyboardEventData.graphicApp.ACController.KeyboardEventControl(keyboardEventData);\n    }\n    constructor() {\n        // this.type = type;\n        this.isUp = false;\n\n        this.Init();\n        KeyboardInteraction.MouseEventDataPre = new KeyboardEventData();\n        return;\n        \n    }\n    Init() {\n        // this.graphicApp.appDrawing.div.onkeydown = (k) => { this.KeyDown(k); };\n        // this.graphicApp.appDrawing.div.onkeyup = (k) => { this.KeyUp(k); };\n        document.onkeydown = (k) => { this.KeyDown(k); };\n        document.onkeypress = (k) => { this.KeyPress(k); };\n        document.onkeyup = (k) => { this.KeyUp(k); };\n    }\n    KeyDown(k: KeyboardEvent) {\n        let kEventData: KeyboardEventData = this.CommonEventBuilder(k);\n        kEventData.PRESSTYPE = PRESSTYPE.DOWN;\n        KeyboardInteraction.KeyEvent(kEventData);\n    }\n    KeyPress(k: KeyboardEvent) {\n        let kEventData: KeyboardEventData = this.CommonEventBuilder(k);\n        kEventData.PRESSTYPE = PRESSTYPE.DOWN;\n        KeyboardInteraction.KeyEvent(kEventData);\n    }\n    KeyUp(k: KeyboardEvent) {\n        let kEventData: KeyboardEventData = this.CommonEventBuilder(k);\n        kEventData.PRESSTYPE = PRESSTYPE.UP;\n        KeyboardInteraction.KeyEvent(kEventData);\n    }\n    // ............................................................. builder\n    CommonEventBuilder(k: KeyboardEvent): KeyboardEventData {\n        let kEvent: KeyboardEventData = new KeyboardEventData();\n        kEvent.preEvent = KeyboardInteraction.MouseEventDataPre;\n        kEvent.key = k.key;\n        kEvent.keyCode = k.keyCode;\n        kEvent.code = k.code;\n        kEvent.hasCtrlKey = k.ctrlKey;\n        kEvent.hasShiftKey = k.shiftKey;\n        kEvent.hasAltKey = k.altKey;\n        kEvent.hasMetaCommand = k.metaKey;\n        KeyboardInteraction.MouseEventDataPre = kEvent;\n        return kEvent;\n    }\n\n}\n","import { NVector3 } from '../../../lib/NVector3';\nimport { MouseEventData } from '../../../lib/MouseInteraction';\n\nimport { CBlockRenderer } from '../../../Core/CBlockRenderer';\n// import { CGeometry } from '../../../../AppDrawing/Canvas/CGeometry/CoreBase/CGeometryCommon';\n// import { CBlockController } from '../CBlockController';\n// import { CGeometryBase } from '../../Canvas/CGeometry/CGeometryBase';\n\nexport enum BLOCK_TYPE {\n    DRAWING = 'DRAWING',\n    CONTROL_PANEL = 'CONTROL_PANEL'\n}\n\nexport abstract class CBlockBase {\n    type: BLOCK_TYPE;\n    value: number;\n    vec: NVector3;\n    boundarVecs: NVector3[];\n    isHidden: boolean;\n    div: HTMLElement;\n    height: number;\n    width: number;\n    divID: string;\n    xOff: number;\n    yOff: number;\n    isSelected: boolean;\n    isOver: boolean;\n    isMoveable: boolean;\n    style: number;\n    filletR: number;\n    title: string;\n    colorBase: string;\n    colorOver: string;\n    colorText: string;\n    isRender: boolean;\n    transparent: number;\n\n    constructor(width: number = 100, height: number = 20) {\n        CBlockRenderer.Add(this);\n        this.width = width;\n        this.height = height;\n        this.xOff = 10;\n        this.yOff = 50;\n        this.isHidden = false;\n        this.isSelected = false;\n        this.isOver = false;\n        this.isMoveable = true;\n        this.style = 0;\n        this.filletR = 3;\n        this.isRender = true;\n        this.vec = new NVector3(100, 100, 0);\n        this.title = 'Drawing Block';\n        this.boundarVecs = [];\n        this.colorBase = '#ffffff';\n        this.transparent = 1.0;\n        // this.mapContainer = <HTMLElement>document.getElementById('mapContainer');\n\n    }\n    Remove() {\n        CBlockRenderer.Remove(this);\n    }\n    RemovePanel() {\n        /* */\n    }\n    DeepCopy() {\n        /* */\n    }\n    Dummy() {\n        /* */\n    }\n    get IsHidden() {\n        return this.isHidden;\n    }\n    set IsHidden(v: boolean) {\n        this.isHidden = v;\n    }\n    get IsHover() {\n        return this.isOver;\n    }\n    set IsHover(v: boolean) {\n        this.isOver = v;\n    }\n    get IsSelected() { return this.isSelected; }\n    set IsSelected(v: boolean) {\n        this.isSelected = v;\n\n    }\n    GetBoundaryVecs() {\n        let theHeight = this.height * 0.5;\n        let theWidth = this.width * 0.5;\n        let v0 = new NVector3(this.vec.x - theWidth, this.vec.y - theHeight);\n        let v1 = new NVector3(this.vec.x + theWidth, this.vec.y + theHeight);\n        this.boundarVecs = NVector3.GetBoundingVecs(v0, v1);\n        return this.boundarVecs;\n    }\n    ComputeBoundary() {\n        this.boundarVecs = [];\n\n        this.boundarVecs.push(new NVector3(this.vec.x, this.vec.y, this.vec.z));\n        this.boundarVecs.push(new NVector3(this.vec.x + this.width, this.vec.y, this.vec.z));\n        this.boundarVecs.push(new NVector3(this.vec.x + this.width, this.vec.y + this.height, this.vec.z));\n        this.boundarVecs.push(new NVector3(this.vec.x, this.vec.y + this.height, this.vec.z));\n        return this.boundarVecs;\n    }\n    IsMouseInside(x: number, y: number) {\n        let v = NVector3.IsInsideOfVecs(new NVector3(x, y), this.ComputeBoundary());\n        this.isOver = v;\n        if (v) {\n            // CGeometry.appDrawing.activeCommands.isReturn = true;\n        } else {\n            // CGeometry.appDrawing.activeCommands.isReturn = false;\n        }\n        return v;\n    }\n    Translate(e: MouseEventData): void {\n        if (!this.isMoveable) { return; }\n        let xo = e.x - e.preX;\n        let yo = e.y - e.preY;\n        this.vec.x += xo;\n        this.vec.y += yo;\n        for (let i = 0; i < this.boundarVecs.length; ++i) { this.boundarVecs[i].x += xo; this.boundarVecs[i].y += yo; }\n    }\n    Move(x: number, y: number) {\n        this.vec.x = x; this.vec.y = y;\n    }\n    HideToogle() {\n        this.IsHidden = !this.IsHidden;\n        this.Hide();\n    }\n    Hide() {\n        /* */\n    }\n    MouseDown(e: MouseEventData) {\n        /* */\n    }\n    MouseUp(e: MouseEventData) {\n        /* */\n    }\n    MouseDrag(e: MouseEventData) {\n        this.Translate(e);\n    }\n    MouseDouble(e: MouseEventData) {\n        /* */\n    }\n    MouseLeft(e: MouseEventData) {\n        /* */\n    }\n    MouseRight(e: MouseEventData) {\n        /* */\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        if (this.isHidden) { return; }\n        this.RenderPost(ctx);\n    }\n    abstract RenderPost(ctx: CanvasRenderingContext2D): void;\n\n}","// import { ConcaveCore } from './ConcaveCore';\n// import { CPoint } from '../../AppDrawing/Canvas/CGeometry/CPoint';\n\nexport class NVector3 {\n  static eps: number = 0.0000001;\n  static origin: NVector3 = new NVector3(0, 0, 0);\n\n  x: number = 0.0;\n  y: number = 0.0;\n  z: number = 0.0;\n  w: number = 0.0;\n  long: number = 0.0;\n  lat: number = 0.0;\n  ele: number = 0.0;\n  proX: number = 0.0;\n  proY: number = 0.0;\n  proZ: number = 0.0;\n  alt: number = 0.0;\n  d: boolean = true;\n  isModified: boolean = false;\n\n  static GetVecforGraphicApp(long: number, lat: number, ele: number, proX: number, proY: number, proZ: number) {\n    let v = new NVector3(0, 0, 0);\n    v.long = long; v.lat = lat; v.ele = ele; v.proX = proX; v.proY = proY; v.proZ = proZ;\n    return v;\n  }\n  static DeepCopy(v: NVector3): NVector3 {\n    if (v.z === undefined) {\n      return new NVector3(v.x, v.y, 0);\n    } else { return new NVector3(v.x, v.y, v.z); }\n  }\n  static Dot(a: NVector3, b: NVector3) {\n    return a.x * b.x + a.y * b.y + a.z * b.z;\n  }\n  static ScalarRev_V_S_OUT(v: NVector3, s: number, out: NVector3) {\n    out.x = s * v.x;\n    out.y = s * v.y;\n    out.z = s * v.z;\n    return out;\n  }\n  static Sub(v0: NVector3, v1: NVector3): NVector3 {\n    return new NVector3(v1.x - v0.x, v1.y - v0.y, v1.z - v0.z);\n  }\n  static Clone(v: NVector3): NVector3 {\n    return NVector3.DeepCopy(v);\n  }\n  static zAxis(): NVector3 {\n    return new NVector3(0, 0, 1);\n  }\n  static zero(): NVector3 {\n    return new NVector3(0, 0, 0);\n  }\n  static Origin(): NVector3 {\n    return new NVector3(0, 0, 0);\n  }\n  static Plus(v1: NVector3, v2: NVector3): NVector3 {\n    return new NVector3(v1.x + v2.x, v1.y + v2.y, v1.z + v2.z);\n  }\n  static Scale(v: NVector3, s: number): NVector3 {\n    return new NVector3(v.x * s, v.y * s, v.z * s);\n  }\n  static MidVec(v1: NVector3, v2: NVector3): NVector3 {\n    return new NVector3(\n      (v1.x + v2.x) * 0.5,\n      (v1.y + v2.y) * 0.5,\n      (v1.z + v2.z) * 0.5\n    );\n  }\n  static CompareTwoVectors(v0: NVector3, v1: NVector3): boolean {\n    if (v0.x !== v1.x || v0.y !== v1.y || v0.z !== v1.z) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  static Length(v: NVector3): number {\n    return Math.sqrt(v.x * v.x + v.y * v.y + v.z * v.z);\n  }\n  static Normalize(v: NVector3): NVector3 {\n    let len: number = Math.sqrt(v.x * v.x + v.y * v.y + v.z * v.z);\n    return new NVector3(v.x / len, v.y / len, v.z / len);\n  }\n  // https://web.archive.org/web/20090214201206/http://valis.cs.uiuc.edu:80/~sariel/research/CG/compgeom/msg00827.html\n  static GetArea(vs: NVector3[]) {\n    let area = 0;\n    // double center2dx = 0;\n    // double center2dy = 0;\n    for (let i = 0; i < vs.length - 1; i++) {\n      // tmreal t = 2 * vs[i].X * vs[i + 0].Y + vs[i].Y * vs[i + 1].X + vs[i].X * vs[i + 1].Y + 2 * vs[i + 1].X * vs[i + 1].Y;\n      area += (vs[i].x - vs[i + 1].x) * (vs[i].y + vs[i + 1].y);\n      // center2d.x += (+vs[i].X - vs[i + 1].X) * t;\n      // center2d.y += (-vs[i].Y + vs[i + 1].Y) * t;\n    }\n    area *= 0.5;\n    // center2dx *= 1 / (6 * area);\n    // center2dy *= 1 / (6 * area);\n    return area;\n  }\n  static GetAreaByLongLat(vs: NVector3[]) {\n    let area = 0;\n    // double center2dx = 0;\n    // double center2dy = 0;\n    for (let i = 0; i < vs.length - 1; i++) {\n      // tmreal t = 2 * vs[i].X * vs[i + 0].Y + vs[i].Y * vs[i + 1].X + vs[i].X * vs[i + 1].Y + 2 * vs[i + 1].X * vs[i + 1].Y;\n      area += (vs[i].long - vs[i + 1].long) * (vs[i].lat + vs[i + 1].lat);\n      // center2d.x += (+vs[i].X - vs[i + 1].X) * t;\n      // center2d.y += (-vs[i].Y + vs[i + 1].Y) * t;\n    }\n    area *= 0.5;\n    // center2dx *= 1 / (6 * area);\n    // center2dy *= 1 / (6 * area);\n    return area;\n  }\n  static GetGeoArea(vs: NVector3[]) {\n    let area = 0;\n    for (let i = 0; i < vs.length - 1; i++) {\n      area += (vs[i].x - vs[i + 1].x) * (vs[i].y + vs[i + 1].y);\n    }\n    area *= 0.5;\n    return Math.abs(area);\n  }\n  static Distance(v0: NVector3, v1: NVector3): number {\n    return Math.sqrt((v0.x - v1.x) * (v0.x - v1.x) + (v0.y - v1.y) * (v0.y - v1.y) + (v0.z - v1.z) * (v0.z - v1.z));\n  }\n  static Distance2(v1: NVector3, v2: NVector3): number {\n    let d: number =\n      (v1.x - v2.x) * (v1.x - v2.x) +\n      (v1.y - v2.y) * (v1.y - v2.y) +\n      (v1.z - v2.z) * (v1.z - v2.z);\n    return d;\n  }\n  static DotProduct(v1: NVector3, v2: NVector3): number {\n    return v1.x * v2.x + v1.y * v2.y + v1.z * v2.z;\n  }\n  static CrossProduct(v1: NVector3, v2: NVector3): NVector3 {\n    return new NVector3(\n      v1.y * v2.z - v1.z * v2.y,\n      v1.z * v2.x - v1.x * v2.z,\n      v1.x * v2.y - v1.y * v2.x\n    );\n  }\n  static DivideByNum(v0: NVector3, v1: NVector3, n: number = 5): NVector3[] {\n    let vs: NVector3[] = [];\n    let xOff = (v1.x - v0.x) / n;\n    let yOff = (v1.y - v0.y) / n;\n    let zOff = (v1.z - v0.z) / n;\n    for (let j = 0; j < n; ++j) {\n      let x = v0.x + xOff * j;\n      let y = v0.y + yOff * j;\n      let z = v0.z + zOff * j;\n      vs.push(new NVector3(x, y, z));\n    }\n    return vs;\n  }\n  static KMeterFromGeoGPSPos(gV0: NVector3, gV1: NVector3): number {\n    let R = 6378.137; // Radius of earth in KM // a = Equatorial radius (6,378.1370 km) // b = Polar radius (6,356.7523 km)\n    let dLat = gV1.lat * Math.PI / 180 - gV0.lat * Math.PI / 180;\n    let dLon = gV1.long * Math.PI / 180 - gV0.long * Math.PI / 180;\n    let a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(gV0.lat * Math.PI / 180) *\n      Math.cos(gV1.lat * Math.PI / 180) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2);\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    let d = R * c;\n    return d; // * 1000; // meters\n  }\n  static KMeterFromGPSPos(gV0: NVector3, gV1: NVector3): number {\n    let R = 6378.137; // Radius of earth in KM // a = Equatorial radius (6,378.1370 km) // b = Polar radius (6,356.7523 km)\n    let dLat = gV1.y * Math.PI / 180 - gV0.y * Math.PI / 180;\n    let dLon = gV1.x * Math.PI / 180 - gV0.x * Math.PI / 180;\n    let a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(gV0.y * Math.PI / 180) *\n      Math.cos(gV1.y * Math.PI / 180) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2);\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    let d = R * c;\n    return d; // * 1000; // meters\n  }\n  static Get1KM_Long_ByGeoUnit(long: number = 0, lat: number = 0): number {\n    let v = new NVector3(long, lat, 0);\n    let addition = 0.0;\n    for (let i = 0; i < 10000; ++i) {\n      let dis = NVector3.KMeterFromGPSPos(v, new NVector3(v.x + addition, v.y, v.z));\n      if (1 < dis && dis < 1.001) {\n        // console.log('result long', i, dis);\n        return v.x + addition;\n      }\n      addition += 0.00001;\n    }\n    return -1;\n  }\n  static Get1KM_lat_ByGeoUnit(long: number = 0, lat: number = 0): number {\n    let v = new NVector3(long, lat, 0);\n    let addition = 0.0;\n    for (let i = 0; i < 10000; ++i) {\n      let dis = NVector3.KMeterFromGPSPos(v, new NVector3(v.x, v.y + addition, v.z));\n      if (1 < dis && dis < 1.001) {\n        // console.log('result lat', i, dis);\n        return v.y + addition;\n      }\n      addition += 0.00001;\n    }\n    return -1;\n  }\n  static Get1KM_Lat_Long_GeoUnit(long: number = 0, lat: number = 0): NVector3 {\n    let lng = NVector3.Get1KM_Long_ByGeoUnit(long, lat);\n    let la = NVector3.Get1KM_lat_ByGeoUnit(long, lat);\n    return new NVector3(lng, la, 0);\n  }\n  // ............................................................................ vec compute\n  static CalculateFalloff(pt: NVector3, attractor: NVector3, strength: number, falloff: number): number {\n    let v: NVector3 = attractor.Sub(pt);\n    let dist: number = v.Length();\n    return dist * (strength * Math.exp(-falloff * dist * dist));\n  }\n  static Attractor(pt: NVector3, attractor: NVector3, strength: number, falloff: number): NVector3 {\n    let v: NVector3 = attractor.Sub(pt);\n    v.Unitize();\n    let dist = v.Length();\n    return v.Mult(strength * Math.exp(-falloff * dist * dist));\n  }\n  static Explosion(pt: NVector3, Explosion: NVector3, strength: number, falloff: number): NVector3 {\n    let v = Explosion.Sub(pt);\n    v.Unitize();\n    let dist = v.Length();\n    return v.Mult(-(strength * Math.exp(-falloff * dist * dist)));\n  }\n  static Rotor(pt: NVector3, rotor: NVector3, strength: number, falloff: number): NVector3 {\n    let v = rotor.Sub(pt);\n    v.Unitize();\n    // v.Rotate(3.141592 / 2, NVector3.zAxis);\n    // let dist: number = v.Length;\n    // return (v.Mult (strength * (Math.exp(-falloff * dist * dist))));\n    return NVector3.Origin();\n  }\n\n  // ............................................................................ vec angle\n  static GetCosAngleByTwoVectors(v0: NVector3, v1: NVector3): number {\n    return NVector3.DotProduct(NVector3.Normalize(v0), NVector3.Normalize(v1));\n  }\n  static GetAngleByTwoVectorsRadian(v0: NVector3, v1: NVector3): number {\n    return Math.acos(NVector3.GetCosAngleByTwoVectors(v0, v1));\n  }\n  static GetAngleByTwoVectors(v0: NVector3, v1: NVector3): number {\n    return NVector3.GetAngleByTwoVectorsRadian(v0, v1) * 180.0 / Math.PI;\n  }\n  static GetRotationByWorldCoodinate(v: NVector3): number {\n    let origin = new NVector3(1, 0, 0);\n    return NVector3.GetAngleByTwoVectors(origin, v);\n  }\n  static GetRotationByWorldCoodinateByTwo(v0: NVector3, v1: NVector3): number {\n    // mercator ctx\n    let v = v1.Sub(v0);\n    let origin = new NVector3(1, 0, 0);\n    if (v.y > 0) {\n      return NVector3.GetAngleByTwoVectors(origin, v) * -1;\n    } else {\n      return NVector3.GetAngleByTwoVectors(origin, v);\n    }\n  }\n  // ............................................................................\n  // static ToJSon(v){\n  // var p = {\n  //             'point': [],\n  //             'primitive': 'point',\n  //             'units': {\n  //             'point': 'meters'\n  //         }\n  // }\n  // p.point = [v.x , v.y, v.z];\n  // return p;\n  // }\n\n  static DistanceMouseWithTwoVecs(m: NVector3, v0: NVector3, v1: NVector3): number {\n    v0.x += 0.00001;\n    v0.y += 0.00001;\n    let boundary = NVector3.GetBoundingVecs(v0, v1);\n    let vec = NVector3.GetCloseVec(v0, v1, m.x, m.y, boundary, true);\n    return NVector3.Distance(m, vec);\n  }\n  static GetCloseVec(p0: NVector3, p1: NVector3, x: number, y: number, vecsBound: NVector3[], OnLine: boolean = true): NVector3 {\n    let pp1: NVector3 = new NVector3(p0.x, p0.y, p0.z);\n    let pp2: NVector3 = new NVector3(p1.x, p1.y, p1.z);\n    let v1: NVector3 = pp2.Sub(pp1);\n    let p: NVector3 = new NVector3(x, y, 0);\n    let v2: NVector3 = p.Sub(pp1);\n    v1.Unitize();\n    let cp = pp1.Add(v1.Mult(v2.DotProduct(v1)));\n    if (OnLine) {\n      if (NVector3.IsInsideOfVecs(cp, vecsBound)) {\n        return cp;\n      } else {\n        if (p0.Distance(cp) < p1.Distance(cp)) {\n          return new NVector3(p0.x, p0.y, p0.z);\n        } else {\n          return new NVector3(p1.x, p1.y, p1.z);\n        }\n      }\n    } else {\n      return cp;\n    }\n  }\n  static GetBoundingVecs(v0: NVector3, v1: NVector3): NVector3[] {\n    let listOfVec: NVector3[] = [];\n    let x: number = 0;\n    let y: number = 0;\n    let z: number = 0;\n    if (v0.x < v1.x) { x = v0.x; } else { x = v1.x; }\n    if (v0.y < v1.y) { y = v0.y; } else { y = v1.y; }\n    if (v0.z < v1.z) { z = v0.z; } else { z = v1.z; }\n    let nv0 = new NVector3(x, y, z);\n    if (v0.x > v1.x) { x = v0.x; } else { x = v1.x; }\n    if (v0.y > v1.y) { y = v0.y; } else { y = v1.y; }\n    if (v0.z > v1.z) { z = v0.z; } else { z = v1.z; }\n    let nv1 = new NVector3(x, y, z);\n    listOfVec.push(new NVector3(nv0.x, nv0.y, nv0.z));\n    listOfVec.push(new NVector3(nv1.x, nv0.y, nv0.z));\n    listOfVec.push(new NVector3(nv1.x, nv1.y, nv0.z));\n    listOfVec.push(new NVector3(nv0.x, nv1.y, nv0.z));\n    return listOfVec;\n  }\n  static GetBoundaryByVecWidthHeight(v: NVector3, width: number, height: number): NVector3[] {\n    let boundarVecsSub = [];\n    boundarVecsSub.push(new NVector3(v.x, v.y, v.z));\n    boundarVecsSub.push(new NVector3(v.x + width, v.y, v.z));\n    boundarVecsSub.push(new NVector3(v.x + width, v.y + height, v.z));\n    boundarVecsSub.push(new NVector3(v.x, v.y + height, v.z));\n    return boundarVecsSub;\n  }\n  static GetBoundingByVecs(vs: NVector3[]): NVector3[] {\n    let listOfVec: NVector3[] = [];\n    let xMin: number = Number.MAX_SAFE_INTEGER;\n    let yMin: number = Number.MAX_SAFE_INTEGER;\n    let zMin: number = Number.MAX_SAFE_INTEGER;\n\n    let xMax: number = Number.MIN_SAFE_INTEGER;\n    let yMax: number = Number.MIN_SAFE_INTEGER;\n    let zMax: number = Number.MIN_SAFE_INTEGER;\n    for (let i = 0; i < vs.length; ++i) {\n\n      if (xMin > vs[i].x) { xMin = vs[i].x; }\n      if (yMin > vs[i].y) { yMin = vs[i].y; }\n      if (zMin > vs[i].z) { zMin = vs[i].z; }\n\n      if (xMax < vs[i].x) { xMax = vs[i].x; }\n      if (yMax < vs[i].y) { yMax = vs[i].y; }\n      if (zMax < vs[i].z) { zMax = vs[i].z; }\n\n    }\n    listOfVec.push(new NVector3(xMin, yMin, zMin));\n    listOfVec.push(new NVector3(xMax, yMax, zMax));\n    return listOfVec;\n  }\n  static GetMinMaxVecFromVecs(vec: NVector3[]): NVector3[] {\n    let minX = Number.MAX_VALUE, minY = Number.MAX_VALUE, minZ = Number.MAX_VALUE;\n    let maxX = Number.MIN_VALUE, maxY = Number.MIN_VALUE, maxZ = Number.MIN_VALUE;\n    for (let v of vec) {\n      if (minX > v.x) { minX = v.x; } if (minY > v.y) { minY = v.y; } if (minZ > v.z) { minZ = v.z; }\n      if (maxX < v.x) { maxX = v.x; } if (maxY < v.y) { maxY = v.y; } if (maxZ < v.z) { maxZ = v.z; }\n    }\n    return [new NVector3(minX, minY, minZ), new NVector3(maxX, maxY, maxZ)];\n  }\n  static RemoveVecsWithinDis(vs: NVector3[], tor: number = 10): NVector3[] {\n    let vecs: NVector3[] = [];\n    for (let i = 0; i < vs.length - 1; ++i) {\n      let v0 = vs[i];\n      if (v0.d === false) { continue; }\n      for (let j = i + 1; j < vs.length; ++j) {\n        if (NVector3.Distance(v0, vs[j]) < tor) { vs[j].d = false; }\n      }\n    }\n    for (let i = 0; i < vs.length; ++i) { if (vs[i].d === true) { vecs.push(vs[i]); } }\n    // vecs.push(vs[vs.length - 1]);\n    return vecs;\n  }\n  // ...............................................................................\n  static IsInsideOfVecsWtihVecs(vs: NVector3[], vecs: NVector3[]): boolean {\n    let inside: boolean = true;\n    for (let i = 0, j = vs.length - 1; i < vs.length; j = i++) {\n      inside = NVector3.IsInsideOfVecs(vs[i], vecs);\n      if (!inside) {\n        return false;\n      }\n    }\n    return true;\n  }\n  static IsInsideOfVecs(v: NVector3, vecs: NVector3[]): boolean {\n    // ray-casting algorithm based on https://github.com/substack/point-in-polygon\n    // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n    let x = v.x, y = v.y;\n    let inside = false;\n    for (let i = 0, j = vecs.length - 1; i < vecs.length; j = i++) {\n      let xi = vecs[i].x,\n        yi = vecs[i].y;\n      let xj = vecs[j].x,\n        yj = vecs[j].y;\n      let intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n      if (intersect) {\n        inside = !inside;\n      }\n    }\n    return inside;\n  }\n  static IsInsideOfVecsByConcaveHull(v: NVector3, vs: NVector3[]) {\n    // let vsNum: number[][] = [];\n    // for (let i = 0; i < vs.length; ++i) {\n    //   vsNum.push([vs[i].x, vs[i].y]);\n    // }\n\n    // let result = ConcaveCore.hull(vsNum, 20)\n    // console.log(vs.length);\n    // console.log(result);\n\n    // for (let i = 0; i < result.length; ++i) {\n    //   new CPoint(result[i][0], result[i][1]);\n    // }\n  }\n  // Convex hull\n  // https://en.wikibooks.org/wiki/Algorithm_Implementation/Geometry/Convex_hull/Monotone_chain\n  static IsInsideOfVecsByConvexHull(v: NVector3, vecs: NVector3[]): boolean {\n    vecs = NVector3.ConvexHull(vecs);\n    if (NVector3.IsInsideOfVecs(v, vecs)) { return true; } else { return false; }\n  }\n  static ConvexHull(vs: NVector3[]): NVector3[] {\n    vs.sort(function (a: NVector3, b: NVector3) {\n      return a.x === b.x ? a.y - b.y : a.x - b.x;\n    });\n    let lower: NVector3[] = [];\n    for (let i = 0; i < vs.length; i++) {\n      while (lower.length >= 2 && NVector3.Cross(lower[lower.length - 2], lower[lower.length - 1], vs[i]) <= 0) { lower.pop(); }\n      lower.push(vs[i]);\n    }\n    let upper: NVector3[] = [];\n    for (let i = vs.length - 1; i >= 0; i--) {\n      while (upper.length >= 2 && NVector3.Cross(upper[upper.length - 2], upper[upper.length - 1], vs[i]) <= 0) { upper.pop(); }\n      upper.push(vs[i]);\n    }\n    upper.pop(); lower.pop();\n    for (let i = 0; i < upper.length; ++i) { lower.push(upper[i]); }\n    return lower;\n  }\n  static Cross(O: NVector3, A: NVector3, B: NVector3): number {\n    return (A.x - O.x) * (B.y - O.y) - (A.y - O.y) * (B.x - O.x);\n  }\n  static Cross_A_B_OUT(a: NVector3, b: NVector3, out: NVector3) {\n    const ax = a.x, ay = a.y, az = a.z, bx = b.x, by = b.y, bz = b.z;\n    out.x = ay * bz - az * by;\n    out.y = az * bx - ax * bz;\n    out.z = ax * by - ay * bx;\n    return out;\n  }\n\n  // http://jsfiddle.net/justin_c_rounds/Gd2S2/light/\n  static CheckLineIntersection(p0: NVector3, p1: NVector3, p2: NVector3, p3: NVector3) {\n    // if the lines intersect, the result contains the x and y of the intersection (treating the lines as infinite) and booleans for whether line segment 1 or line segment 2 contain the point\n    let denominator: number = 0, a: number = 0, b: number = 0, numerator1: number = 0, numerator2: number = 0;\n    let onLine0: boolean = false, onLine1: boolean = false;\n    denominator = ((p3.y - p2.y) * (p1.x - p0.x)) - ((p3.x - p2.x) * (p1.y - p0.y));\n    let result: NVector3 = new NVector3(0, 0, 0);\n    if (denominator === 0) { return undefined; }\n    a = p0.y - p2.y;\n    b = p0.x - p2.x;\n    numerator1 = ((p3.x - p2.x) * a) - ((p3.y - p2.y) * b);\n    numerator2 = ((p1.x - p0.x) * a) - ((p1.y - p0.y) * b);\n    a = numerator1 / denominator;\n    b = numerator2 / denominator;\n\n    // if we cast these lines infinitely in both directions, they intersect here:\n    result.x = p0.x + (a * (p1.x - p0.x));\n    result.y = p0.y + (a * (p1.y - p0.y));\n    /*\n            // it is worth noting that this should be the same as:\n            x = p2.x + (b * (p3.x - p2.x));\n            y = p2.x + (b * (p3.y - p2.y));\n            */\n    // if line1 is a segment and line2 is infinite, they intersect if:\n    if (a > 0 && a < 1) {\n      onLine0 = true;\n    }\n    // if line2 is a segment and line1 is infinite, they intersect if:\n    if (b > 0 && b < 1) {\n      onLine1 = true;\n    }\n    // if line1 and line2 are segments, they intersect if both of the above are true\n    if (onLine0 && onLine1) {\n      return result;\n    } else { return undefined; }\n  }\n  // http://www.sunshine2k.de/coding/java/Polygon/Convex/polygon.htm\n  static CheckConvexity(vs: NVector3[]) {\n    if (vs.length < 3) { return false; }\n\n    let p: NVector3;\n    let v: NVector3;\n    let u: NVector3;\n    let res = 0;\n\n    for (let i = 0; i < vs.length; i++) {\n      p = vs[i];\n      let tmp = vs[(i + 1) % vs.length];\n      v = new NVector3(tmp.x - p.x, tmp.y - p.y, 0);\n      u = vs[(i + 2) % vs.length];\n\n      if (i === 0) { // in first loop direction is unknown, so save it in res\n        res = u.x * v.y - u.y * v.x + v.x * p.y - v.y * p.x;\n      } else {\n        let newres = u.x * v.y - u.y * v.x + v.x * p.y - v.y * p.x;\n        if ((newres > 0 && res < 0) || (newres < 0 && res > 0)) { return false; }\n      }\n    }\n    return true;\n  }\n  //////////////////////////////////////////////////////////////////////////////// translation Utility\n  static MoveVecs(vecs: NVector3[], dir: NVector3): NVector3[] {\n    let temp: NVector3[] = [];\n    for (let i = 0; i < vecs.length; ++i) {\n      //\n      temp.push(NVector3.MoveVec(vecs[i], dir));\n    }\n    return temp;\n  }\n  static MoveVec(v: NVector3, dir: NVector3): NVector3 {\n    return new NVector3(v.x + dir.x, v.y + dir.y, v.z + dir.z);\n  }\n  static RotateVecsLoal(vecs: NVector3[], angle: number): NVector3[] {\n    let cptToLocal = NVector3.GetCenterVecFromVecs(vecs);\n    let cptToWorld = new NVector3(-cptToLocal.x, -cptToLocal.y, -cptToLocal.z);\n    let temp: NVector3[] = NVector3.MoveVecs(vecs, cptToWorld);\n    temp = NVector3.RotateVecs(temp, angle);\n    temp = NVector3.MoveVecs(temp, cptToLocal);\n    return temp;\n  }\n  static RotateVecs(vecs: NVector3[], angle: number) {\n    let temp: NVector3[] = [];\n    for (let i = 0; i < vecs.length; ++i) {\n      temp.push(NVector3.RotateVec(vecs[i], angle));\n    }\n    return temp;\n  }\n  static RotateVec(v: NVector3, angle: number): NVector3 {\n    let cos = Math.cos(angle * (3.14159265358979 / 180.0));\n    let sin = Math.sin(angle * (3.14159265358979 / 180.0));\n    let x = v.x * cos - v.y * sin;\n    let y = v.x * sin + v.y * cos;\n    return new NVector3(x, y, v.z);\n  }\n  static GetCenterVecFromVecs(vecs: NVector3[]): NVector3 {\n    let nv = new NVector3(0, 0, 0);\n    for (let i = 0, c = vecs.length; i < c; ++i) {\n      nv.Add(vecs[i]);\n    }\n    nv.Mult(1.0 / vecs.length);\n    return nv;\n  }\n\n  // .............................................................................\n  static MidVecGeo(p1: NVector3, p2: NVector3): NVector3 {\n    // return new NVector3(p1.screenX + p2.screenX * 0.5, p1.screenY + p2.screenY * 0.5, 0);\n    return new NVector3(p1.x + p2.x * 0.5, p1.y + p2.y * 0.5, 0);\n  }\n\n  // intersection // https://gist.github.com/gordonwoodhull/50eb65d2f048789f9558 \n  // https://stackoverflow.com/questions/563198/whats-the-most-efficent-way-to-calculate-where-two-line-segments-intersect/1968345#1968345\n  static GetVecFromIntersection(vs: NVector3[]): NVector3[] | undefined {\n    let newVes: NVector3[] = [];\n    for (let j = 0; j < vs.length - 1; ++j) {\n      for (let k = j + 1; k < vs.length - 1; ++k) {\n        let v = NVector3.CheckLineIntersection(vs[j], vs[j + 1], vs[k], vs[k + 1]);\n        if (v) { newVes.push(v); }\n      }\n    }\n    if (newVes.length === 0) { return undefined; } else { return newVes; }\n  }\n  static between(a: number, b: number, c: number) {\n    return a - NVector3.eps <= b && b <= c + NVector3.eps;\n  }\n  static segment_intersection(v0: NVector3, v1: NVector3, v2: NVector3, v3: NVector3) {\n    var x = ((v0.x * v1.y - v0.y * v1.x) * (v2.x - v3.x) - (v0.x - v1.x) * (v2.x * v3.y - v2.y * v3.x)) /\n      ((v0.x - v1.x) * (v2.y - v3.y) - (v0.y - v1.y) * (v2.x - v3.x));\n    var y = ((v0.x * v1.y - v0.y * v1.x) * (v2.y - v3.y) - (v0.y - v1.y) * (v2.x * v3.y - v2.y * v3.x)) /\n      ((v0.x - v1.x) * (v2.y - v3.y) - (v0.y - v1.y) * (v2.x - v3.x));\n    if (isNaN(x) || isNaN(y)) {\n      return false;\n    } else {\n      if (v0.x >= v1.x) {\n        if (!NVector3.between(v1.x, x, v0.x)) { return false; }\n      } else {\n        if (!NVector3.between(v0.x, x, v1.x)) { return false; }\n      }\n      if (v0.y >= v1.y) {\n        if (!NVector3.between(v1.y, y, v0.y)) { return false; }\n      } else {\n        if (!NVector3.between(v0.y, y, v1.y)) { return false; }\n      }\n      if (v2.x >= v3.x) {\n        if (!NVector3.between(v3.x, x, v2.x)) { return false; }\n      } else {\n        if (!NVector3.between(v2.x, x, v3.x)) { return false; }\n      }\n      if (v2.y >= v3.y) {\n        if (!NVector3.between(v3.y, y, v2.y)) { return false; }\n      } else {\n        if (!NVector3.between(v2.y, y, v3.y)) { return false; }\n      }\n    }\n    return new NVector3(x, y);\n  }\n  // ............................................................................. end static\n\n  constructor(x: number, y: number, z: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n  Set(x: number, y: number, z: number): NVector3 {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    return new NVector3(this.x, this.y, this.z);\n  }\n  Scale(v: number): NVector3 {\n    this.x *= v;\n    this.y *= v;\n    this.z *= v;\n    return new NVector3(this.x, this.y, this.z);\n  }\n  Mult(v: number): NVector3 {\n    this.x *= v;\n    this.y *= v;\n    this.z *= v;\n    return new NVector3(this.x, this.y, this.z);\n  }\n  Div(v: number): NVector3 {\n    this.x /= v;\n    this.y /= v;\n    this.z /= v;\n    return new NVector3(this.x, this.y, this.z);\n  }\n  Add(v: NVector3): NVector3 {\n    this.x += v.x;\n    this.y += v.y;\n    this.z += v.z;\n    return new NVector3(this.x, this.y, this.z);\n  }\n  Sub(v: NVector3): NVector3 {\n    this.x -= v.x;\n    this.y -= v.y;\n    this.z -= v.z;\n    return new NVector3(this.x, this.y, this.z);\n  }\n  Negate() {\n    this.x *= -1;\n    this.y *= -1;\n    this.z *= -1;\n    return new NVector3(this.x, this.y, this.z);\n  }\n  Equals(v: NVector3) {\n    return this.x === v.x && this.y === v.y && this.z === v.z;\n  }\n  Clone(): NVector3 {\n    return new NVector3(this.x, this.y, this.z);\n  }\n  Length(): number {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n  }\n  Unitize(): NVector3 {\n    return this.Normalize();\n  }\n  Normalize(): NVector3 {\n    let len: number = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    this.x = this.x / len;\n    this.y = this.y / len;\n    this.z = this.z / len;\n    return new NVector3(this.x, this.y, this.z);\n  }\n  Distance(v: NVector3): number {\n    return NVector3.Distance(new NVector3(this.x, this.y, this.z), v);\n  }\n  Distance2(v: NVector3): number {\n    return NVector3.Distance2(new NVector3(this.x, this.y, this.z), v);\n  }\n  DotProduct(v: NVector3): number {\n    return NVector3.DotProduct(new NVector3(this.x, this.y, this.z), v);\n  }\n  CrossProduct(v: NVector3): NVector3 {\n    return NVector3.CrossProduct(new NVector3(this.x, this.y, this.z), v);\n  }\n  SquareLength(): number {\n    let len: number = NVector3.Length(new NVector3(this.x, this.y, this.z));\n    return len * len;\n  }\n  FadeExp(attr: NVector3, dVal: number) {\n    let v = new NVector3(this.x, this.y, this.z);\n    v.Sub(attr);\n    return Math.exp(-dVal * v.SquareLength());\n  }\n  GetAngle(): number {\n    return Math.atan2(this.y, this.x);\n  }\n  GetAngleDegree() {\n    return 180 * this.GetAngle() / Math.PI;\n  }\n  ToJSON() {\n    /* */\n  }\n  ToString(): string {\n    let t: string = 'x: ' + this.x.toFixed(3).toString() + ' , y: ' + this.y.toFixed(3).toString() + ', z: ' + this.z.toFixed(3).toString();\n    return t;\n  }\n  ToFloat32Array() {\n    return new Float32Array([this.x, this.y, this.z]);\n  }\n}","import { MouseEventData } from '../lib/MouseInteraction';\n// import { CGeometry } from '../../AppDrawing/Canvas/CGeometry/CoreBase/CGeometryCommon';\nimport { CBCanvas } from './CBCanvas';\n// import { MercatorGraphic } from '../../../MercatorGraphic';\n\nimport { CBlockBase, BLOCK_TYPE } from '../CUIBlock/Block/base/CBlockBase';\nimport { NVector3 } from '../lib/NVector3';\n\nexport class CBlockRenderer {\n    static list: CBlockBase[] = [];\n    static isHidden: boolean = false;\n    static capture: CBlockBase | undefined = undefined;\n    static m: NVector3 = new NVector3(-1, -1);\n    cBCanvas: CBCanvas;\n\n    static Add(g: CBlockBase) {\n        // CBlockRenderer.app.eventListener.AddGeometryStack(g.GetRGeometry());\n        CBlockRenderer.list.push(g);\n    }\n    static Remove(g: CBlockBase) {\n        CBlockRenderer.list.splice(CBlockRenderer.list.indexOf(g), 1);\n    }\n    static RemoveAllCapturedBlock() {\n        if (CBlockRenderer.capture === undefined) { return; }\n        if (CBlockRenderer.capture.type === BLOCK_TYPE.CONTROL_PANEL) {\n            CBlockRenderer.capture.RemovePanel(); return;\n        }\n        CBlockRenderer.capture.Remove();\n    }\n    static CheckOvered(e: MouseEventData) {\n        let i = CBlockRenderer.list.length;\n        // let mouseHoverUI = false;\n        while (i--) {\n            if (CBlockRenderer.list[i].IsMouseInside(e.x, e.y)) {\n                CBlockRenderer.list[i].IsHover = true;\n                // mouseHoverUI = true;\n            } else {\n                CBlockRenderer.list[i].IsHover = false;\n            }\n        }\n        // if (mouseHoverUI) {\n        //     MercatorGraphic.app.ACController.stoppropagation = true;\n        // } else { MercatorGraphic.app.ACController.stoppropagation = false; }\n    }\n    static FindAtPoint(e: MouseEventData) {\n        let i = CBlockRenderer.list.length;\n        while (i--) {\n            if (CBlockRenderer.list[i].isHidden) { continue; }\n            if (CBlockRenderer.list[i].IsMouseInside(e.x, e.y)) {\n                return CBlockRenderer.list[i];\n            }\n        }\n        return undefined;\n    }\n    static MouseDown(e: MouseEventData) {\n        if (CBlockRenderer.isHidden) { return; }\n        let ui = CBlockRenderer.FindAtPoint(e);\n        if (ui !== undefined) {\n            // CGeometry.appDrawing.graphicApp.ACController.enablePan = false;\n            ui.MouseDown(e);\n\n            // if (CGeometry.capture) { CGeometry.capture.isCaptured = false; CGeometry.capture = undefined; }\n\n            CBlockRenderer.capture = ui;\n        } else {\n            CBlockRenderer.capture = undefined;\n        }\n    }\n    static MouseLeft(e: MouseEventData) {\n        if (CBlockRenderer.isHidden) { return; }\n        let ui = CBlockRenderer.FindAtPoint(e);\n        if (ui !== undefined) {\n            // CGeometry.appDrawing.graphicApp.ACController.enablePan = false;\n            ui.MouseLeft(e);\n            CBlockRenderer.capture = ui;\n        } else {\n            CBlockRenderer.capture = undefined;\n        }\n    }\n    static MouseRight(e: MouseEventData) {\n        if (CBlockRenderer.isHidden) { return; }\n        let ui = CBlockRenderer.FindAtPoint(e);\n        if (ui !== undefined) {\n            // CGeometry.appDrawing.graphicApp.ACController.enablePan = false;\n            ui.MouseRight(e);\n            CBlockRenderer.capture = ui;\n        } else {\n            CBlockRenderer.capture = undefined;\n        }\n    }\n    static MouseDrag(e: MouseEventData) {\n        if (CBlockRenderer.isHidden) { return; }\n        if (CBlockRenderer.capture !== undefined) {\n            CBlockRenderer.capture.MouseDrag(e);\n        }\n    }\n    static MouseDouble(e: MouseEventData) {\n        if (CBlockRenderer.isHidden) { return; }\n        let ui = CBlockRenderer.FindAtPoint(e);\n        if (ui !== undefined) {\n            // CGeometry.appDrawing.graphicApp.ACController.enablePan = false;\n            ui.MouseDouble(e);\n            // CBlockRenderer.capture = ui;\n        }\n        // if (CBlockRenderer.capture !== undefined) { }\n    }\n    static MouseMove(e: MouseEventData) {\n        CBlockRenderer.m.x = e.x; CBlockRenderer.m.y = e.y;\n        if (CBlockRenderer.isHidden) { return; }\n        CBlockRenderer.CheckOvered(e);\n        CBlockRenderer.FindAtPoint(e);\n    }\n    static MouseUp(e: MouseEventData) {\n        if (CBlockRenderer.isHidden) { return; }\n        if (CBlockRenderer.capture !== undefined) {\n            CBlockRenderer.capture.MouseUp(e);\n            // CBlockRenderer.capture = undefined;\n        }\n        // CGeometry.appDrawing.graphicApp.ACController.enablePan = true;\n    }\n    static CopyBlock() {\n        /* */\n    }\n    static PasteBlock() {\n        let db = CBlockRenderer.capture;\n        if (db !== undefined) {\n            // if (db.title === '+') { let ndb = db as BlockPlus; ndb.DeepCopy(); }\n        }\n    }\n\n    constructor(cBCanvas: CBCanvas) {\n        this.cBCanvas = cBCanvas;\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        if (CBlockRenderer.isHidden) { return; }\n        // let i = CBlockRenderer.list.length;\n        // while (i--) {\n        for (let i = 0; i < CBlockRenderer.list.length; ++i) {\n            CBlockRenderer.list[i].Render(ctx);\n        }\n    }\n}","export const GetUUID = () => {   // reference : https://jsfiddle.net/briguy37/2MVFd/\n    let d = new Date().getTime();\n    let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c: string) {\n        // eslint-disable-next-line\n        let r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        // eslint-disable-next-line\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return uuid;\n}\nexport const GetIndexBySort = (d: number[]) => {\n    let len = d.length;\n    let indices = new Array(len);\n    for (var i = 0; i < len; ++i) { indices[i] = i; }\n    indices.sort((a, b) => { return d[a] < d[b] ? -1 : d[a] > d[b] ? 1 : 0; });\n    return indices;\n}\nexport const ReMapNomalize = (CValue: number[]) => {\n    let valueOut: number[] = [];\n    let domain: number[] = GetDomain(CValue);\n    for (let d of CValue) { valueOut.push(((d - domain[0]) / (domain[1] - domain[0]))); }\n    return valueOut;\n}\nexport const Remaps = (CValue: number[], OldMin: number, OldMax: number, NewMin: number, NewMax: number) => {\n    let temp: number[] = [];\n    for (let d of CValue) {  temp.push(Remap(d, OldMin, OldMax, NewMin, NewMax)); }\n    return temp;\n}\nexport const  Remap = (CValue: number, OldMin: number, OldMax: number, NewMin: number, NewMax: number) => {\n    return (((CValue - OldMin) * (NewMax - NewMin)) / (OldMax - OldMin)) + NewMin;\n}\nexport const  GetDomain = (doubleList: number[]) => {\n    let Min: number = Number.MAX_VALUE; let Max: number = Number.MIN_VALUE;\n    for (let d of doubleList) { if (Min > d) { Min = d; } if (Max < d) { Max = d; } }\n    return [Min, Max];\n}\n","\nexport enum COLORBLENDING {\n    SOURCE_OVER = 'source-over',\n    SOURCE_IN = 'source-in',\n    SOURCE_OUT = 'source-out',\n    SOURCE_ATOP = 'source-atop',\n    COPY = 'copy',\n\n    DESTAINATION_OVER = 'destination-over',\n    DESTAINATION_IN = 'destination-in',\n    DESTAINATION_OUT = 'destination-out',\n    DESTAINATION_ATOP = 'destination-atop',\n\n    LIGHTER = 'lighter',\n    MULTIPLY = 'multiply',\n    SCREEN = 'screen',\n    OVERLAY = 'overlay',\n    DARKEN = 'darken',\n    LIGHTEN = 'lighten',\n    COLOR_DODGE = 'color-dodge',\n    COLOR_BURN = 'color-burn',\n    HARD_LIGHT = 'hard-light',\n    SOFT_LIGHT = 'soft-light',\n    DIFFERENCE = 'difference',\n    EXCLUSION = 'exclusion',\n    HUE = 'hue',\n    SATURATION = 'saturation',\n    COLOR = 'color',\n    LUMINOSITY = 'luminosity'\n}\n\nexport class ColorUtility {\n    static modeList = [\n        'source-over', 'source-in', 'source-out', 'source-atop', 'copy',\n        'destination-over', 'destination-in', 'destination-out', 'destination-atop',\n        'lighter', 'multiply', 'screen',\n        'overlay', 'darken', 'lighten', 'color-dodge',\n        'color-burn', 'hard-light', 'soft-light',\n        'difference', 'exclusion', 'hue',\n        'saturation', 'color', 'luminosity'\n    ];\n    static modeListGL = [\n        'source-over',\n        'lighter', 'multiply', 'screen',\n        'overlay', 'darken', 'lighten', 'color-dodge',\n        'color-burn', 'hard-light', 'soft-light',\n        'difference', 'exclusion', 'hue',\n        'saturation', 'color', 'luminosity'\n    ];\n    static ColorPreset = {\n        shadow: 'rgba(10,10,10,0.5)'\n    };\n    static ShiftBlendingMode(v: number) { // 0 to 1\n        let num = v % ColorUtility.modeListGL.length;\n        console.log(ColorUtility.modeListGL[num] + ' mode for WebGL');\n        return ColorUtility.modeListGL[num] as COLORBLENDING;\n    }\n    static RGBtoGray(r: number, g: number, b: number) {\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    }\n    // reference http://scaledinnovation.com/analytics/splines/aboutSplines.html\n    static HSVtoRGB(h: number, s: number, v: number, visibility: number) {\n        // inputs h=hue=0-360, s=saturation=0-1, v=value=0-1;\n        // algorithm from Wikipedia on HSV conversion;\n        const toHex = function (decimalValue: number, places: number = 2) {\n            if (places === undefined || isNaN(places)) { places = 2; }\n            let hex = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'];\n            let next = 0;\n            let hexidecimal = '';\n            decimalValue = Math.floor(decimalValue);\n            while (decimalValue > 0) {\n                next = decimalValue % 16;\n                decimalValue = Math.floor((decimalValue - next) / 16);\n                hexidecimal = hex[next] + hexidecimal;\n            }\n            while (hexidecimal.length < places) { hexidecimal = '0' + hexidecimal; }\n            return hexidecimal;\n        };\n        let hi = Math.floor(h / 60) % 6;\n        let f = h / 60 - Math.floor(h / 60);\n        let p = v * (1 - s);\n        let q = v * (1 - f * s);\n        let t = v * (1 - (1 - f) * s);\n        let r = v; // case hi===0 below\n        let g = t;\n        let b = p;\n        switch (hi) {\n            case 1: r = q; g = v; b = p; break;\n            case 2: r = p; g = v; b = t; break;\n            case 3: r = p; g = q; b = v; break;\n            case 4: r = t; g = p; b = v; break;\n            case 5: r = v; g = p; b = q; break;\n            default:\n                break;\n        }\n        //  At this point r,g,b are in 0...1 range.  Now convert into rgba or #FFFFFF notation\n        if (visibility) {\n            return `rgba( ${Math.round(255 * r)},${Math.round(255 * g)},${Math.round(255 * b)},${visibility})`;\n        } else {\n            return '#' + toHex(r * 255) + toHex(g * 255) + toHex(b * 255);\n        }\n    }\n    static GetRandomHex() {\n        return ColorUtility.RGBToHex(Math.round(Math.random() * 255), Math.round(Math.random() * 255), Math.round(Math.random() * 255));\n    }\n    static GetRandomRGB() {\n        return `rgb(${Math.round(Math.random() * 255)},${Math.round(Math.random() * 255)},${Math.round(Math.random() * 255)})`;\n    }\n    static GetRandomRGBArray() {\n        return [(Math.round(Math.random() * 255)), (Math.round(Math.random() * 255)), (Math.round(Math.random() * 255))];\n    }\n    static GetRandomColor() {\n        let letters = '0123456789ABCDEF';\n        let color = '#';\n        for (let i = 0; i < 6; i++) {\n            color += letters[Math.floor(Math.random() * 16)];\n        }\n        return color;\n    }\n    // https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n    static RGBToHex(r: number, g: number, b: number) {\n        return '#' + [Math.round(r), Math.round(g), Math.round(b)].map(x => {\n            const hex = x.toString(16);\n            return hex.length === 1 ? '0' + hex : hex;\n        }).join('');\n    }\n    static HexToCanvasColor(hex: string, visibility: number | string = 0, isGray: boolean = false) {\n        // if (hex[0] !== '#') {\n        //     let col = hex.split('(')[1].split(')')[0].split(',');\n        //     hex = this.RGBToHex(parseInt(col[0]), parseInt(col[1]), parseInt(col[2]));\n        // }\n        // Convert #AA77CC to rbga() format for Firefox\n        let thecol;\n        visibility = visibility || '1.0';\n        hex = hex.replace('#', '');\n        let r = parseInt(hex.substring(0, 2), 16);\n        let g = parseInt(hex.substring(2, 4), 16);\n        let b = parseInt(hex.substring(4, 6), 16);\n        if (isGray) {\n            // let v = (0.58 * (r / 255)) + (0.17 * (g / 255)) + (0.8 * (b / 255));\n            let v = (0.58 * r) + (0.17 * g) + (0.8 * b);\n            thecol = 'rgba(' + v + ',' + v + ',' + v + ',' + visibility + ')';\n        } else {\n            thecol = 'rgba(' + r + ',' + g + ',' + b + ',' + visibility + ')';\n        }\n        return thecol;\n    }\n    static Dec2hex(i: number) {\n        return (i + 0x10000).toString(16).substr(-4).toUpperCase();\n    }\n    static Hex2Dec(hex: string) {\n        return parseInt(hex, 16);\n    }\n    static RGB_by_A(c: string, visiblity: number) {\n        let col = c.split(',');\n        return col[0] + ',' + col[1] + ',' + col[2] + ',' + visiblity + ')';\n    }\n    static HexToRGBA(hex: string, visibility: number = 1, isGray: boolean = false) {\n        hex = hex.replace('#', '');\n        let r = parseInt(hex.substring(0, 2), 16);\n        let g = parseInt(hex.substring(2, 4), 16);\n        let b = parseInt(hex.substring(4, 6), 16);\n        if (isGray) {\n            // let v = (0.58 * (r / 255)) + (0.17 * (g / 255)) + (0.8 * (b / 255));\n            let v = (0.58 * r) + (0.17 * g) + (0.8 * b);\n            return [v, v, v, visibility];\n        } else {\n            return [r, g, b, visibility];\n        }\n    }\n    static HexToRGBANormalized(hex: string, visibility: number = 1, isGray: boolean = false) {\n        hex = hex.replace('#', '');\n        let r = parseInt(hex.substring(0, 2), 16);\n        let g = parseInt(hex.substring(2, 4), 16);\n        let b = parseInt(hex.substring(4, 6), 16);\n        if (isGray) {\n            // let v = (0.58 * (r / 255)) + (0.17 * (g / 255)) + (0.8 * (b / 255));\n            let v = (0.58 * r) + (0.17 * g) + (0.8 * b);\n            return [v, v, v, visibility];\n        } else {\n            return [r / 255, g / 255, b / 255, visibility / 255];\n        }\n    }\n    // https://gist.github.com/mjackson/5311256\n    static RGB2HSL(r: number, g: number, b: number) { // 0 to 255\n        r /= 255; g /= 255; b /= 255;\n\n        let max = Math.max(r, g, b), min = Math.min(r, g, b);\n        let h = (max + min) / 2, s = (max + min) / 2, l = (max + min) / 2;\n\n        if (max === min) {\n            h = s = 0; // achromatic\n        } else {\n            let d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n                default: break;\n            }\n            h /= 6;\n        }\n        return [h, s, l]; // 0 to 1\n    }\n    static HSL2RGB(h: number, s: number, l: number) { // 0 to 1\n        let r, g, b;\n\n        if (s === 0) {\n            r = g = b = l; // achromatic\n        } else {\n            const hue2rgb = (pp: number, qq: number, t: number) => {\n                if (t < 0) { t += 1; }\n                if (t > 1) { t -= 1; }\n                if (t < 1 / 6) { return pp + (qq - pp) * 6 * t; }\n                if (t < 1 / 2) { return qq; }\n                if (t < 2 / 3) { return pp + (qq - pp) * (2 / 3 - t) * 6; }\n                return pp;\n            };\n\n            let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            let p = 2 * l - q;\n\n            r = hue2rgb(p, q, h + 1 / 3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1 / 3);\n        }\n        return [\n            Math.max(0, Math.min(Math.round(r * 255), 255))\n            , Math.max(0, Math.min(Math.round(g * 255), 255))\n            , Math.max(0, Math.min(Math.round(b * 255), 255))\n        ];\n    }\n    static RGB2HSV(r: number, g: number, b: number) { // 0 to 255\n        r /= 255; g /= 255; b /= 255;\n\n        let max = Math.max(r, g, b), min = Math.min(r, g, b);\n        let h = max, s = max, v = max;\n\n        let d = max - min;\n        s = max === 0 ? 0 : d / max;\n\n        if (max === min) {\n            h = 0; // achromatic\n        } else {\n            switch (max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n                default: break;\n            }\n\n            h /= 6;\n        }\n        return [h, s, v]; // 0 to 1\n    }\n    static HSV2RGB(h: number, s: number, v: number) { // 0 to 1\n        let r = 0, g = 0, b = 0;\n\n        let i = Math.floor(h * 6);\n        let f = h * 6 - i;\n        let p = v * (1 - s);\n        let q = v * (1 - f * s);\n        let t = v * (1 - (1 - f) * s);\n\n        switch (i % 6) {\n            case 0: r = v; g = t; b = p; break;\n            case 1: r = q; g = v; b = p; break;\n            case 2: r = p; g = v; b = t; break;\n            case 3: r = p; g = q; b = v; break;\n            case 4: r = t; g = p; b = v; break;\n            case 5: r = v; g = p; b = q; break;\n            default: break;\n        }\n\n        return [r * 255, g * 255, b * 255];\n    }\n    // ... interpolation\n    // https://graphicdesign.stackexchange.com/questions/83866/generating-a-series-of-colors-between-two-colors\n    static InterpolateColor(colA: number[], colB: number[], factor: number = 0.5): number[] {\n        let result = [colA[0], colA[1], colA[2]]; // ;colA.slice();\n        for (let i = 0; i < 3; i++) {\n            // result[i] = Math.round(result[i] + factor * (colB[i] - colA[i]));\n            result[i] = (result[i] * 255 + factor * (colB[i] * 255 - colA[i] * 255));\n        }\n        // console.log(result);\n        return result;\n    }\n    static InterpolateColorsByArray(cA: number[], cB: number[], steps: number): number[][] {\n        const step = 1. / (steps - 1.), interpolatedColors = [];\n        for (let i = 0; i < steps; i++) {\n            interpolatedColors.push(ColorUtility.InterpolateColor(cA, cB, step * i));\n        }\n        // console.log(interpolatedColors);\n        return interpolatedColors;\n    }\n    static InterpolateColors(rgb0: string, rgb1: string, steps: number): number[][] {\n        const step = 1 / (steps - 1), interpolatedColors = [];\n\n        let cA = ColorUtility.RBGToArray(rgb0);\n        let cB = ColorUtility.RBGToArray(rgb1);\n\n        if (cA && cB) {\n            for (let i = 0; i < steps; i++) {\n                interpolatedColors.push(ColorUtility.InterpolateColor(cA, cB, step * i));\n            }\n        }\n        return interpolatedColors;\n    }\n    static RBGToArray(rgb: string): number[] | undefined {\n        const c = rgb.match(/\\d+/g);\n        if (c) { return c.map(Number); }\n        return undefined;\n    }\n    // ............................................................................ blender\n    //      blendFunc blender = funcs[mode % 7];\n    // public delegate  blendFunc( a,  b,  c);\n    //     public blendFunc[] funcs = new blendFunc[]{\n    //     Blend, Addition, Subtraction, Multiply, Screen, Overlay, SoftLight\n    // };\n    static Blend(vA: number, vB: number, blend: number) {\n        return vA * (1.0 - blend) + vB * blend;\n    }\n    static Addition(vA: number, vB: number, blend: number) {\n        return vA * (1.0 - blend) + blend * (vA + vB) * 0.5;\n    }\n    static Subtraction(vA: number, vB: number, blend: number) {\n        return vA * (1.0 - blend) + blend * (vA - vB) * 2;\n    }\n    static Multiply(vA: number, vB: number, blend: number) {\n        return vA * (1.0 - blend) + blend * (vA * vB) * 0.5;\n    }\n    static Screen(vA: number, vB: number, blend: number) {\n        return vA * (1.0 - blend) + blend * (1 - (1 - vA) * (1 - vB));\n    }\n    static Overlay(vA: number, vB: number, blend: number) {\n        let val = 0;\n        if (vA < 0.5) { val = 2 * vA * vB; } else { val = 1 - 2 * (1 - vA) * (1 - vB); }\n        val = vA * (1.0 - blend) + blend * val;\n        return val;\n    }\n    static SoftLight(vA: number, vB: number, blend: number) {\n        let val = 0;\n        if (vB < 0.5) { val = 2 * vA * vB + vA * vA * (1 - 2 * vB); } else { val = 2 * vA * (1 - vB) + Math.sqrt(vA) * (2 * vB - 1); }\n        val = vA * (1.0 - blend) + blend * val;\n        return val;\n    }\n}","import { NVector3 } from '../lib/NVector3';\nimport { ColorUtility } from '../lib/ColorUtility';\n\nexport class CChartPreset {\n\n    static isDark: boolean = true;\n    static BaseColor: string = 'ff0000';\n\n    static TopRoundedRectFill(ctx: CanvasRenderingContext2D, title: string, vs: NVector3[], r: number, xOff: number = 0, isOver: boolean, isSel: boolean, col: string, isShadow: boolean = true) {\n        let radius = r; // parseFloat(s.borderRadius);\n        let color: string = col;\n\n        ctx.save();\n        ctx.lineWidth = 2; // parseFloat(s.lineWidth);\n        ctx.beginPath();\n        ctx.moveTo(vs[0].x + xOff + radius, vs[0].y);\n        ctx.lineTo(vs[1].x - xOff - radius, vs[1].y);\n        ctx.arcTo(vs[1].x - xOff, vs[1].y, vs[1].x - xOff, vs[1].y + radius, radius);\n        ctx.lineTo(vs[2].x - xOff, vs[2].y);\n        ctx.lineTo(vs[3].x + xOff, vs[3].y);\n        ctx.lineTo(vs[0].x + xOff, vs[0].y + radius);\n        ctx.arcTo(vs[0].x + xOff, vs[0].y, vs[0].x + xOff + radius, vs[0].y, radius);\n        ctx.closePath();\n        ctx.strokeStyle = color; // s.strokeStyle;\n        ctx.fillStyle = color;\n        if (isShadow) {\n            ctx.shadowBlur = 4;\n            ctx.shadowColor = 'rgb(0,0,0,0.3)';\n            ctx.shadowOffsetY = 2;\n            ctx.shadowOffsetX = 2;\n        } else {\n            ctx.shadowBlur = 0;\n            ctx.shadowOffsetY = 0;\n            ctx.shadowOffsetX = 0;\n        }\n        ctx.fill();\n        ctx.restore();\n\n    }\n    static RoundedRectFill(ctx: CanvasRenderingContext2D, s: number, vs: NVector3[], r: number, xOff: number = 0, visibility: number = 1) {\n        // let color = s.backgroundColor;\n        let radius = r; // parseFloat(s.borderRadius);\n        // console.log(color);\n\n        ctx.save();\n        if (CChartPreset.isDark) {\n            ctx.fillStyle = ColorUtility.HexToCanvasColor('#ffffff', visibility);\n        } else {\n            ctx.fillStyle = ColorUtility.HexToCanvasColor('#ffffff', visibility);\n        }\n        ctx.strokeStyle = CChartPreset.BaseColor;\n\n        ctx.beginPath();\n\n        ctx.moveTo(vs[0].x + xOff + radius, vs[0].y);\n        ctx.lineTo(vs[1].x - xOff - radius, vs[1].y);\n\n        ctx.arcTo(vs[1].x - xOff, vs[1].y, vs[1].x - xOff, vs[1].y + radius, radius);\n        ctx.lineTo(vs[2].x - xOff, vs[2].y - radius);\n\n        ctx.arcTo(vs[2].x - xOff, vs[2].y, vs[2].x - xOff - radius, vs[2].y, radius);\n        ctx.lineTo(vs[3].x + xOff + radius, vs[3].y);\n\n        ctx.arcTo(vs[3].x + xOff, vs[3].y, vs[3].x + xOff, vs[3].y - radius, radius);\n        ctx.lineTo(vs[0].x + xOff, vs[0].y + radius);\n        ctx.arcTo(vs[0].x + xOff, vs[0].y, vs[0].x + xOff + radius, vs[0].y, radius);\n\n        ctx.fill();\n        ctx.strokeStyle = '#777777';\n        ctx.lineWidth = 0.5;\n        ctx.stroke();\n        // if (s.backgroundColor !== null) ctx.fill();\n        ctx.restore();\n    }\n    static PopupForBin(ctx: CanvasRenderingContext2D, x: number, y: number, w: number, h: number, text: string) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(x, y, w, -h);\n        ctx.fillStyle = '#555555';\n        ctx.closePath();\n        ctx.fill();\n\n        ctx.fillStyle = '#ffffff';\n        // if (this.isOver) { ctx.fillStyle = 'white'; } else { ctx.fillStyle = 'white'; }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'center';\n        ctx.font = '100 15px Sans-serif';\n        ctx.fillText(text, x + (w * 0.5), y - (h * 0.5) - 8);\n        ctx.restore();\n    }\n}","import { NVector3 } from '../../lib/NVector3';\nimport { MouseEventData } from '../../lib/MouseInteraction';\n\nimport { CBlockRenderer } from '../../Core/CBlockRenderer';\nimport { BLOCK_TYPE } from '../../CUIBlock/Block/base/CBlockBase';\n\n// import { CGeometry } from '../../../AppDrawing/Canvas/CGeometry/CoreBase/CGeometryCommon';\n// import { CBlockController } from '../CBlockController';\n// import { CGeometryBase } from '../../Canvas/CGeometry/CGeometryBase';\n\nexport abstract class ChartBase {\n    type: BLOCK_TYPE;\n    value: number;\n    vec: NVector3;\n    boundarVecs: NVector3[];\n    isHidden: boolean;\n    div: HTMLElement;\n    height: number;\n    HeadHeight: number = 20;\n    width: number;\n    divID: string;\n    xOff: number;\n    yOff: number;\n    isSelected: boolean;\n    isOver: boolean;\n    isMoveable: boolean;\n    style: number;\n    filletR: number;\n    title: string;\n    colorBase: string;\n    colorOver: string;\n    colorText: string;\n    isRender: boolean;\n    transparent: number;\n\n    constructor(width: number = 100, height: number = 20) {\n        CBlockRenderer.Add(this);\n        this.width = width;\n        this.height = height;\n        this.xOff = 10;\n        this.yOff = 50;\n        this.isHidden = false;\n        this.isSelected = false;\n        this.isOver = false;\n        this.isMoveable = true;\n        this.style = 0;\n        this.filletR = 3;\n        this.isRender = true;\n        this.vec = new NVector3(100, 100, 0);\n        this.title = 'Drawing Block';\n        this.boundarVecs = [];\n        this.colorBase = '#907BD2';\n        this.transparent = 1.0;\n        // this.mapContainer = <HTMLElement>document.getElementById('mapContainer');\n\n    }\n    Remove() {\n        CBlockRenderer.Remove(this);\n    }\n    RemovePanel() {\n        /* */\n    }\n    DeepCopy() {\n        /* */\n    }\n    Dummy() {\n        /* */\n    }\n    get IsHidden() {\n        return this.isHidden;\n    }\n    set IsHidden(v: boolean) {\n        this.isHidden = v;\n    }\n    get IsHover() {\n        return this.isOver;\n    }\n    set IsHover(v: boolean) {\n        this.isOver = v;\n    }\n    get IsSelected() { return this.isSelected; }\n    set IsSelected(v: boolean) {\n        this.isSelected = v;\n\n    }\n    GetBoundaryVecs() {\n        let theHeight = this.height * 0.5;\n        let theWidth = this.width * 0.5;\n        let v0 = new NVector3(this.vec.x - theWidth, this.vec.y - theHeight);\n        let v1 = new NVector3(this.vec.x + theWidth, this.vec.y + theHeight);\n        this.boundarVecs = NVector3.GetBoundingVecs(v0, v1);\n        return this.boundarVecs;\n    }\n    ComputeBoundary() {\n        this.boundarVecs = [];\n\n        this.boundarVecs.push(new NVector3(this.vec.x, this.vec.y, this.vec.z));\n        this.boundarVecs.push(new NVector3(this.vec.x + this.width, this.vec.y, this.vec.z));\n        this.boundarVecs.push(new NVector3(this.vec.x + this.width, this.vec.y + this.height, this.vec.z));\n        this.boundarVecs.push(new NVector3(this.vec.x, this.vec.y + this.height, this.vec.z));\n        return this.boundarVecs;\n    }\n    IsMouseInside(x: number, y: number) {\n        let v = NVector3.IsInsideOfVecs(new NVector3(x, y), this.ComputeBoundary());\n        this.isOver = v;\n        if (v) {\n            // CGeometry.appDrawing.activeCommands.isReturn = true;\n        } else {\n            // CGeometry.appDrawing.activeCommands.isReturn = false;\n        }\n        return v;\n    }\n    Translate(e: MouseEventData): void {\n        if (!this.isMoveable) { return; }\n        let xo = e.x - e.preX;\n        let yo = e.y - e.preY;\n        this.vec.x += xo;\n        this.vec.y += yo;\n        for (let i = 0; i < this.boundarVecs.length; ++i) { this.boundarVecs[i].x += xo; this.boundarVecs[i].y += yo; }\n    }\n    Move(x: number, y: number) {\n        this.vec.x = x; this.vec.y = y;\n    }\n    HideToogle() {\n        this.IsHidden = !this.IsHidden;\n        this.Hide();\n    }\n    Hide() {\n        /* */\n    }\n    MouseDown(e: MouseEventData) {\n        /* */\n    }\n    MouseUp(e: MouseEventData) {\n        /* */\n    }\n    MouseDrag(e: MouseEventData) {\n        this.Translate(e);\n    }\n    MouseDouble(e: MouseEventData) {\n        /* */\n    }\n    MouseLeft(e: MouseEventData) {\n        /* */\n    }\n    MouseRight(e: MouseEventData) {\n        /* */\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        if (this.isHidden) { return; }\n        this.RenderPost(ctx);\n    }\n    abstract RenderPost(ctx: CanvasRenderingContext2D): void;\n\n}","import { NVector3 } from '../lib/NVector3';\nimport { Remap } from '../lib/MathUtility';\n\nimport { CBlockRenderer } from '../Core/CBlockRenderer';\nimport { CChartPreset } from './CChartPreset';\n\n// import {} from ''\n\nimport { ChartBase } from './Base/ChartBase';\n\nexport class GraphChartFramerate extends ChartBase {\n    static list: GraphChartFramerate[] = [];\n\n    vec: NVector3;\n    data: number;\n    datatSet: number[];\n\n    yOffForChart: number;\n    isFillChart: boolean;\n\n    static Add(g: GraphChartFramerate) { GraphChartFramerate.list.push(g); }\n    static Remove(g: GraphChartFramerate) { GraphChartFramerate.list.splice(GraphChartFramerate.list.indexOf(g), 1); }\n\n    constructor(x: number, y: number) {\n        super(200, 120);\n        this.vec = new NVector3(x, y, 0);\n        this.datatSet = [];\n        this.filletR = 5;\n        this.yOffForChart = 5;\n        this.isFillChart = true;\n        GraphChartFramerate.Add(this);\n\n    }\n    Remove() {\n        GraphChartFramerate.Remove(this);\n        CBlockRenderer.Remove(this);\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        /* */\n\n        this.RenderPost(ctx);\n    }\n\n    RenderPost(ctx: CanvasRenderingContext2D) {\n        this.ComputeBoundary();\n\n        CChartPreset.RoundedRectFill(ctx, this.style, this.boundarVecs, this.filletR, 10);\n\n        if (this.datatSet.length > this.width - 20) { this.datatSet.shift(); }\n\n        this.RenderContinuousChart(ctx, this.datatSet);\n\n        this.title = Math.ceil(this.datatSet[this.datatSet.length - 1]) + ' fps';\n        this.RenderTitle(ctx);\n        // if (this.toggle) { this.RenderPanel(ctx); }\n    }\n    RenderContinuousChart(ctx: CanvasRenderingContext2D, dataSet: number[]) {\n        // ctx.save();\n        ctx.fillStyle = 'rgba(20,50,50,0.5)';\n        ctx.strokeStyle = 'rgba(255,255,255,0.5)';\n        let newDset = [];\n        if (this.isFillChart) { newDset.push(this.vec.y + this.height - this.yOffForChart); }\n        for (let i = 0; i < dataSet.length; ++i) { newDset.push(Remap(dataSet[i], 0, 60, this.vec.y + this.height - this.yOffForChart, this.vec.y + this.yOffForChart)); }\n        ctx.lineWidth = 0.1;\n        ctx.beginPath();\n        ctx.moveTo(this.vec.x + 10, newDset[0]);\n        for (let i = 0; i < newDset.length; ++i) { ctx.lineTo(this.vec.x + 10 + (i), newDset[i]); }\n        if (this.isFillChart) {\n            ctx.lineTo(this.vec.x + 10 + (newDset.length - 1), this.vec.y + this.height - this.yOffForChart);\n            ctx.closePath();\n            ctx.fill();\n        }\n        ctx.stroke();\n        // ctx.restore();\n    }\n    RenderTitle(ctx: CanvasRenderingContext2D) {\n        ctx.save();\n\n        if (this.isOver) {\n            ctx.fillStyle = 'white';\n        } else {\n            ctx.fillStyle = 'white';\n        }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'center';\n        ctx.font = '100 14px Sans-serif';\n        ctx.fillText(this.title, this.vec.x + (this.width * 0.5), this.vec.y + (this.height * 0.5) - 5);\n\n        ctx.shadowBlur = 0;\n        // ctx.shadowColor = 'black';\n        ctx.shadowOffsetY = 0;\n        ctx.shadowOffsetX = 0;\n\n        ctx.restore();\n    }\n    // GetBoundaryPanelVecs() {\n    //     let theHeight = this.height * 0.5;\n    //     let theWidth = this.width * 0.5;\n    //     let v0 = new NVector3(this.vec.x - theWidth, this.vec.y + theHeight);\n    //     let v1 = new NVector3(this.vec.x + theWidth, this.vec.y + theHeight + this.heightPanel);\n    //     this.vecsPanel = NVector3.GetBoundingVecs(v0, v1);\n    //     return this.vecsPanel;\n    // }\n    // RenderPanel(ctx: CanvasRenderingContext2D) {\n    //     this.GetBoundaryPanelVecs();\n    //     CDrawingPreset.RoundedRectFill(ctx, this.style, this.vecsPanel, this.filletR);\n\n    // }\n\n}","import { NVector3 } from '../../lib/NVector3';\nimport { CChartPreset } from '../CChartPreset';\n\nexport class ChartSubElementBase {\n\n    v: NVector3;\n    w: number; h: number;\n    col: string;\n    colHover: string;\n    colNormal: string;\n    data: number;\n    isHover: boolean;\n    t: number;\n    constructor(x: number, y: number, col: string) {\n        this.v = new NVector3(x, y);\n        this.col = col;\n        this.colNormal = col;\n        this.colHover = '#ff0000';\n        this.isHover = false;\n        this.t = 0;\n    }\n    IsMouseInside(x: number, y: number) {\n        if (this.v.x < x && x < this.v.x + this.w && this.v.y > y && y > this.v.y + this.h) {\n            this.col = this.colHover;\n            this.isHover = true;\n        } else {\n            this.col = this.colNormal;\n            this.isHover = false;\n        }\n    }\n    Popup(ctx: CanvasRenderingContext2D, x: number, y: number) {\n        CChartPreset.PopupForBin(ctx, x, y - 10, 100, 50, this.data.toString());\n    }\n    RenderPost(ctx: CanvasRenderingContext2D, x: number, y: number): void {\n        /* */\n    }\n}","import { NVector3 } from '../lib/NVector3';\nimport { ReMapNomalize } from '../lib/MathUtility';\n\nimport { CBlockRenderer } from '../Core/CBlockRenderer';\nimport { CChartPreset } from './CChartPreset';\n\nimport { ChartSubElementBase } from './Base/ChartSubElementBase';\nimport { ChartBase } from './Base/ChartBase';\n\n// import { StatisticsUtility } from '../../AppCore/Utilities/StatisticsUtility';\n// import { NGeoJSONFeatureService } from '../../AppCore/DataProcessing/NGeoJSONFeatureService';\n// import { CGeometry } from '../../AppDrawing/Canvas/CGeometry/CoreBase/CGeometryCommon';\n\nexport class Bin extends ChartSubElementBase {\n    cHistogram: CHistogram;\n    v: NVector3;\n    w: number; h: number;\n    offSet: number; xInterval: number;\n    col: string;\n    data: number;\n    ctx: CanvasRenderingContext2D;\n    isHover: boolean;\n    constructor(cHistogram: CHistogram, data: number, x: number, y: number, col: string, w: number, h: number, xInterval: number, offSet: number) {\n        super(x, y, col);\n        this.cHistogram = cHistogram;\n        this.v.x = x; this.v.y = y; this.w = w; this.h = h;\n        this.offSet = offSet;\n        this.xInterval = xInterval;\n        this.col = '#999999';\n        this.data = data;\n        this.isHover = false;\n    }\n    IsMouseInside(x: number, y: number) {\n        if (this.v.x < x && x < this.v.x + this.w && this.v.y > y && y > this.v.y + this.h) {\n            this.col = this.colHover;\n            this.isHover = true;\n        } else {\n            this.col = this.colNormal;\n            this.isHover = false;\n        }\n    }\n    Popup(ctx: CanvasRenderingContext2D, x: number, y: number) {\n        // if (this.ctx) {\n        // console.log(x, y);\n        CChartPreset.PopupForBin(ctx, x, y - 10, 100, 50, this.data.toString());\n        // }\n    }\n    RenderPost(ctx: CanvasRenderingContext2D, x: number, y: number): void {\n        this.v.x = x + (this.xInterval * this.offSet);\n        this.v.y = y;\n        ctx.beginPath();\n        ctx.fillStyle = this.col;\n        this.RenderBar(ctx, this.v.x, this.v.y, this.w, this.h);\n        ctx.closePath();\n        ctx.fill();\n    }\n    RenderBar(ctx: CanvasRenderingContext2D, x: number, y: number, w: number, h: number) {\n        ctx.rect(this.v.x, this.v.y, this.w, this.h);\n\n    }\n}\nexport class CHistogram extends ChartBase {\n    static dHist: number[][];\n    static list: CHistogram[] = [];\n    bins: Bin[];\n    vec: NVector3;\n    data: number;\n    datatSet: number[];\n\n    yOffForChart: number;\n    numBin: number;\n    hasBin: boolean;\n    isFillChart: boolean;\n\n    static Add(g: CHistogram) { CHistogram.list.push(g); }\n    static Remove(g: CHistogram) { CHistogram.list.splice(CHistogram.list.indexOf(g), 1); }\n\n    constructor(x: number, y: number) {\n        super(300, 200);\n\n        this.title = 'magnitude';\n\n        // tslint:disable-next-line:no-any\n        // let d = (window as any).featureLayer as NGeoJSONFeatureService;\n        // let dd = StatisticsUtility.GetDataForHistDataFromNumeric(d.GetColbyIndex('mag'), 10);\n        // CHistogram.dHist = dd;\n\n        this.colorOver = '#ff0000';\n\n        this.vec = new NVector3(x, y, 0);\n        this.datatSet = [];\n\n        this.filletR = 5;\n        this.yOffForChart = 5;\n        this.isFillChart = true;\n        this.bins = [];\n        this.hasBin = false;\n        this.numBin = 10;\n        // this.InitHist(this.datatSet, this.vec.x + 20, this.vec.y + 10, this.width - 40, this.height - 40);\n        CHistogram.Add(this);\n    }\n    InitTop() {\n        // this.btnClose = new BtnClose(this, this.vec.x, this.vec.y);\n        // this.btnMini = new BtnMinimize(this, this.vec.x + 25, this.vec.y);\n        // this.btnHam = new BtnHam(this, this.vec.x - 25 + this.width, this.vec.y);\n        // this.btnResize = new BtnResize(this, this.vec.x + this.width - 10, this.vec.y + this.height - 10, 10, 10);\n\n        // this.subMenu = new IndeSubPanel(this);\n        // this.subs.push(this.btnClose, this.btnMini, this.btnHam);\n    }\n    InitHist(dataSet: number[][], x: number = this.vec.x + 20, y: number = this.vec.y + 10, width: number = this.width - 40, height: number = this.height - 40) {\n        // if (!CHistogram.dHist) { return; }\n        /* */\n        // ctx.beginPath();\n        // ctx.arc(x, y, 10, 0, 3.14 * 2);\n        // ctx.arc(x + width, y + height, 10, 0, 3.14 * 2);\n        // console.log('update');\n        let dLengthSet = [];\n        for (let i = 0; i < dataSet.length; ++i) {\n            dLengthSet.push(dataSet[i].length);\n        }\n        this.InitBin(dLengthSet, x, y, width, height);\n        // ctx.fill();\n    }\n    InitBin(dataSet: number[], x: number, y: number, width: number, height: number, BinOffset: number = 4) {\n        let n = dataSet.length;\n        let dataSetNorm = ReMapNomalize(dataSet);\n        let col = 'rgba(120,30,30,100)';\n        let xi = width / (n);\n        this.bins = [];\n        for (let i = 0; i < n; ++i) {\n            let xx = x + xi * i;\n            let yy = y + height;\n            let h = dataSetNorm[i] * -height;\n            let w = xi - BinOffset;\n            this.bins.push(new Bin(this, dataSet[i], xx, yy, col, w, h, xi, i));\n        }\n        this.hasBin = true;\n    }\n    IsMouseInside(x: number, y: number) {\n        let v = NVector3.IsInsideOfVecs(new NVector3(x, y), this.ComputeBoundary());\n        this.isOver = v;\n        if (v) {\n            //     CGeometry.appDrawing.activeCommands.isReturn = true;\n            // } else {\n            //     CGeometry.appDrawing.activeCommands.isReturn = false;\n        }\n        if (this.hasBin) {\n            for (let i = 0; i < this.bins.length; ++i) {\n                this.bins[i].IsMouseInside(x, y);\n            }\n        }\n        return v;\n    }\n    Remove() {\n        CHistogram.Remove(this);\n        CBlockRenderer.Remove(this);\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        /* */\n        this.RenderPost(ctx);\n    }\n    RenderPost(ctx: CanvasRenderingContext2D) {\n        this.ComputeBoundary();\n\n        CChartPreset.RoundedRectFill(ctx, this.style, this.boundarVecs, this.filletR, 0);\n\n        if (this.hasBin) {\n            for (let i = 0; i < this.bins.length; ++i) {\n                this.bins[i].RenderPost(ctx, this.vec.x + 20, this.vec.y + this.height - 10);\n            }\n            for (let i = 0; i < this.bins.length; ++i) {\n                if (this.bins[i].isHover) {\n                    this.bins[i].Popup(ctx, CBlockRenderer.m.x, CBlockRenderer.m.y);\n                }\n            }\n        }\n\n        // this.title = Math.ceil(this.datatSet[this.datatSet.length - 1]) + ' fps';\n        // this.RenderTitle(ctx);\n        // if (this.toggle) { this.RenderPanel(ctx); }\n        this.RenderHead(ctx);\n        this.RenderHeadTitle(ctx);\n    }\n    RenderTitle(ctx: CanvasRenderingContext2D) {\n        ctx.save();\n\n        if (this.isOver) { ctx.fillStyle = 'white'; } else { ctx.fillStyle = 'white'; }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'center';\n        ctx.font = '100 14px Sans-serif';\n        ctx.fillText(this.title, this.vec.x + (this.width * 0.5), this.vec.y + (this.height * 0.5) - 5);\n\n        ctx.shadowBlur = 0;\n        // ctx.shadowColor = 'black';\n        ctx.shadowOffsetY = 0;\n        ctx.shadowOffsetX = 0;\n\n        ctx.restore();\n    }\n    RenderHead(ctx: CanvasRenderingContext2D) {\n        ctx.beginPath();\n        CChartPreset.TopRoundedRectFill(ctx, 'dd', NVector3.GetBoundaryByVecWidthHeight(this.vec, this.width, this.HeadHeight), this.filletR, 0, false, false, '#ff0000');\n\n        ctx.closePath();\n        ctx.fillStyle = '#ff0000';\n        ctx.fill();\n    }\n    RenderHeadTitle(ctx: CanvasRenderingContext2D) {\n        ctx.save();\n        // if (this.isOver) {\n        //     ctx.fillStyle = IndePanelPreset.theme.mainMenuNormal;\n        // } else {\n        ctx.fillStyle = '#ffffff';\n        // }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'center';\n        ctx.font = '100 12px Arial';\n        ctx.shadowBlur = 0;\n        // ctx.shadowColor = 'rgba(0,0,0,0.3)';\n        ctx.shadowOffsetY = 0;\n        ctx.shadowOffsetX = 0;\n        ctx.fillText(this.title, this.vec.x + (this.width * 0.5), this.vec.y + (this.HeadHeight * 0.5) - 5);\n\n        ctx.restore();\n    }\n}","import { NVector3 } from '../lib/NVector3';\n// import { MathUtility } from '../../AppCore/Utilities/MathUtility';\n\nimport { CBlockRenderer } from '../Core/CBlockRenderer';\nimport { CChartPreset } from './CChartPreset';\n\n// import {} from ''\n\nimport { ChartBase } from './Base/ChartBase';\n\nexport class CDescribe extends ChartBase {\n    static list: CDescribe[] = [];\n    static dDescribe: string[];\n    vec: NVector3;\n    data: number;\n    datatSet: number[];\n\n    yOffForChart: number;\n    isFillChart: boolean;\n\n    static Add(g: CDescribe) { CDescribe.list.push(g); }\n    static Remove(g: CDescribe) { CDescribe.list.splice(CDescribe.list.indexOf(g), 1); }\n\n    constructor(x: number, y: number) {\n        super(180, 210);\n        this.vec = new NVector3(x, y, 0);\n        this.datatSet = [];\n        this.filletR = 5;\n        this.yOffForChart = 5;\n        this.isFillChart = true;\n        CDescribe.Add(this);\n\n    }\n    Remove() {\n        CDescribe.Remove(this);\n        CBlockRenderer.Remove(this);\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        /* */\n\n        this.RenderPost(ctx);\n    }\n\n    RenderPost(ctx: CanvasRenderingContext2D) {\n        this.ComputeBoundary();\n\n        CChartPreset.RoundedRectFill(ctx, this.style, this.boundarVecs, this.filletR, 10);\n\n        if (this.datatSet.length > this.width - 20) { this.datatSet.shift(); }\n\n        this.RenderTitle(ctx);\n        // if (this.toggle) { this.RenderPanel(ctx); }\n    }\n    RenderTitle(ctx: CanvasRenderingContext2D) {\n        if (!CDescribe.dDescribe) { return; }\n\n        if (this.isOver) {\n            ctx.fillStyle = 'white';\n        } else {\n            ctx.fillStyle = 'white';\n        }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'left';\n        ctx.font = '100 12px Sans-serif';\n\n        for (let i = 0; i < CDescribe.dDescribe.length; ++i) {\n            ctx.fillText(CDescribe.dDescribe[i], this.vec.x + (25), this.vec.y + (i * 22) + 9);\n        }\n\n        ctx.shadowBlur = 0;\n        // ctx.shadowColor = 'black';\n        ctx.shadowOffsetY = 0;\n        ctx.shadowOffsetX = 0;\n\n        ctx.restore();\n    }\n}","import { NVector3 } from '../lib/NVector3';\nimport { Remap } from '../lib/MathUtility';\n\nimport { CBlockRenderer } from '../Core/CBlockRenderer';\nimport { CChartPreset } from './CChartPreset';\n\nimport { ChartSubElementBase } from './Base/ChartSubElementBase';\nimport { ChartBase } from './Base/ChartBase';\n\n// import { StatisticsUtility } from '../../AppCore/Utilities/StatisticsUtility';\n// import { NGeoJSONFeatureService } from '../../AppCore/DataProcessing/NGeoJSONFeatureService';\n\nexport class Dot extends ChartSubElementBase {\n    col: string;\n    v: NVector3;\n    size: number;\n    xOff: number;\n    yOff: number;\n    cScatter: CScatter;\n    constructor(cScatter: CScatter, data: number, size: number, x: number, y: number, c: string, xOff: number, yOff: number) {\n        super(x, y, c);\n        this.cScatter = cScatter;\n        this.data = data;\n        this.size = size;\n        this.xOff = xOff;\n        this.yOff = yOff;\n    }\n    Popup(ctx: CanvasRenderingContext2D, x: number, y: number) {\n        CChartPreset.PopupForBin(ctx, x, y - 10, 100, 50, this.data.toFixed(4).toString());\n    }\n    IsMouseInside(x: number, y: number) {\n        if (NVector3.Distance(new NVector3(this.v.x + this.xOff, this.v.y - 10 + this.yOff), new NVector3(x, y)) < this.size + 2) {\n            this.col = this.colHover;\n            this.isHover = true;\n            this.cScatter.dotHover = this;\n        } else {\n            this.col = this.colNormal;\n            this.isHover = false;\n        }\n        return this.isHover;\n    }\n    RenderPost(ctx: CanvasRenderingContext2D, x: number, y: number) {\n        this.v.x = x;\n        this.v.y = y;\n        ctx.fillStyle = this.col;\n        ctx.beginPath();\n        ctx.arc(this.v.x + this.xOff, this.v.y - 10 + this.yOff, this.size, 0, 3.14 * 2);\n        ctx.closePath();\n        ctx.fill();\n    }\n}\n\nexport class CScatter extends ChartBase {\n    static list: CScatter[] = [];\n    static dA: number[];\n    static dB: number[];\n    static dC: number[];\n\n    vec: NVector3;\n    data: number;\n    datatSet: number[];\n\n    yOffForChart: number;\n    isFillChart: boolean;\n\n    vertA: Float32Array;\n    vertB: Float32Array;\n    vertC: Float32Array;\n\n    dots: Dot[];\n    dotHover: Dot | undefined;\n\n    static Add(g: CScatter) { CScatter.list.push(g); }\n    static Remove(g: CScatter) { CScatter.list.splice(CScatter.list.indexOf(g), 1); }\n\n    constructor(x: number, y: number) {\n        super(300, 250);\n        this.title = 'Scatter plot';\n        // tslint:disable-next-line:no-any\n        // let d = (window as any).featureLayer as NGeoJSONFeatureService;\n\n        // CScatter.dA = d.GetColbyIndex('depth');\n        // CScatter.dB = d.GetColbyIndex('rms');\n        // CScatter.dC = d.GetColbyIndex('mag');\n\n        this.vec = new NVector3(x, y, 0);\n        this.datatSet = [];\n        this.filletR = 5;\n        this.yOffForChart = 5;\n        this.isFillChart = true;\n        // this.InitScatter(CScatter.dA, CScatter.dB, CScatter.dC, this.vec.x + 20, this.vec.y + 10, this.width - 40, this.height - 20);\n        CScatter.Add(this);\n\n    }\n    InitScatter(dA: number[], dB: number[], dC: number[], x: number = this.vec.x + 20, y: number = this.vec.y + 10, width: number = this.width - 40, height: number = this.height - 30) {\n        if (!dA || !dB || !dC) { return; }\n\n        let len = dA.length;\n\n        this.vertA = new Float32Array(len);\n        this.vertB = new Float32Array(len);\n        this.vertC = new Float32Array(len);\n\n        let aMin = Number.MAX_SAFE_INTEGER; let bMin = Number.MAX_SAFE_INTEGER; let cMin = Number.MAX_SAFE_INTEGER;\n        let aMax = Number.MIN_SAFE_INTEGER; let bMax = Number.MIN_SAFE_INTEGER; let cMax = Number.MIN_SAFE_INTEGER;\n\n        for (let i = 0; i < len; ++i) {\n            if (dA[i] < aMin) { aMin = dA[i]; }\n            if (dA[i] > aMax) { aMax = dA[i]; }\n            this.vertA[i] = dA[i];\n            if (dB[i] < bMin) { bMin = dB[i]; }\n            if (dB[i] > bMax) { bMax = dB[i]; }\n            this.vertB[i] = dB[i];\n            if (dC[i] < cMin) { cMin = dC[i]; }\n            if (dC[i] > cMax) { cMax = dC[i]; }\n            this.vertC[i] = dC[i];\n        }\n        for (let i = 0; i < len; ++i) {\n            this.vertA[i] = Remap(this.vertA[i], aMin, aMax, 20, width);\n            this.vertB[i] = Remap(this.vertB[i], bMin, bMax, 10, height);\n            this.vertC[i] = Remap(this.vertC[i], cMin, cMax, 0.1, 5.0);\n        }\n        this.ComputeDots();\n    }\n    ComputeDots() {\n        this.dots = [];\n        // ctx.fillStyle = 'rgba(50,50,200,200)';\n        for (let i = 0; i < this.vertA.length; ++i) {\n            if (this.vertA[i] !== null && this.vertB[i] !== null) {\n                this.dots.push(new Dot(this, this.vertC[i], this.vertC[i], this.vec.x, this.vec.y - 10, 'rgba(120,30,30,100)', this.vertA[i], this.height - this.vertB[i]));\n            }\n        }\n    }\n    IsMouseInside(x: number, y: number) {\n        let v = NVector3.IsInsideOfVecs(new NVector3(x, y), this.ComputeBoundary());\n        this.isOver = v;\n        if (this.dots) {\n            let isDothover = false;\n            for (let i = 0; i < this.dots.length; ++i) {\n                if (this.dots[i].IsMouseInside(x, y)) {\n                    isDothover = true;\n                }\n            }\n            if (!isDothover) { this.dotHover = undefined; }\n        }\n        return v;\n    }\n    Remove() {\n        CScatter.Remove(this);\n        CBlockRenderer.Remove(this);\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        /* */\n\n        this.RenderPost(ctx);\n    }\n    RenderPost(ctx: CanvasRenderingContext2D) {\n        this.ComputeBoundary();\n        CChartPreset.RoundedRectFill(ctx, this.style, this.boundarVecs, this.filletR, 0);\n\n        this.RenderChart(ctx);\n        this.RenderHead(ctx);\n        this.RenderHeadTitle(ctx);\n    }\n    RenderChart(ctx: CanvasRenderingContext2D) {\n        if (!this.vertA || !this.vertB || !this.vertC) { return; }\n        let i = this.dots.length;\n        while (i--) { this.dots[i].RenderPost(ctx, this.vec.x, this.vec.y); }\n\n        if (this.dotHover) { this.dotHover.Popup(ctx, CBlockRenderer.m.x, CBlockRenderer.m.y); }\n    }\n    RenderTitle(ctx: CanvasRenderingContext2D) {\n        ctx.save();\n\n        if (this.isOver) {\n            ctx.fillStyle = 'white';\n        } else {\n            ctx.fillStyle = 'white';\n        }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'center';\n        ctx.font = '100 14px Sans-serif';\n        ctx.fillText(this.title, this.vec.x + (this.width * 0.5), this.vec.y + (this.height * 0.5) - 5);\n\n        ctx.shadowBlur = 0;\n        // ctx.shadowColor = 'black';\n        ctx.shadowOffsetY = 0;\n        ctx.shadowOffsetX = 0;\n\n        ctx.restore();\n    }\n    RenderHead(ctx: CanvasRenderingContext2D) {\n        ctx.beginPath();\n        CChartPreset.TopRoundedRectFill(ctx, 'dd', NVector3.GetBoundaryByVecWidthHeight(this.vec, this.width, this.HeadHeight), this.filletR, 0, false, false, '#ff0000');\n\n        ctx.closePath();\n        ctx.fillStyle = '#ff0000';\n        ctx.fill();\n    }\n    RenderHeadTitle(ctx: CanvasRenderingContext2D) {\n        ctx.save();\n        // if (this.isOver) {\n        //     ctx.fillStyle = IndePanelPreset.theme.mainMenuNormal;\n        // } else {\n        ctx.fillStyle = '#ffffff';\n        // }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'center';\n        ctx.font = '100 12px Arial';\n        ctx.shadowBlur = 0;\n        // ctx.shadowColor = 'rgba(0,0,0,0.3)';\n        ctx.shadowOffsetY = 0;\n        ctx.shadowOffsetX = 0;\n        ctx.fillText(this.title, this.vec.x + (this.width * 0.5), this.vec.y + (this.HeadHeight * 0.5) - 5);\n\n        ctx.restore();\n    }\n\n}","import { NVector3 } from '../lib/NVector3';\nimport { GetIndexBySort, Remap } from '../lib/MathUtility';\n\n\n\nimport { CChartPreset } from './CChartPreset';\nimport { ColorUtility } from '../lib/ColorUtility';\nimport { GetArcVec } from '../lib/NVectorUtility';\n\nimport { CBlockRenderer } from '../Core/CBlockRenderer';\n\nimport { ChartSubElementBase } from './Base/ChartSubElementBase';\nimport { ChartBase } from './Base/ChartBase';\n\nexport class Arc extends ChartSubElementBase {\n\n    col: string;\n    v: NVector3;\n    vsCollision: NVector3[];\n    size: number;\n    start: number;\n    end: number;\n    r: number;\n    cPieChart: CPieChart;\n    constructor(cPieChart: CPieChart, data: number, x: number, y: number, c: string, start: number, end: number, r: number) {\n        super(x, y, c);\n        this.cPieChart = cPieChart;\n        this.data = data;\n        this.start = start;\n        this.end = end;\n        this.r = r;\n    }\n    Popup(ctx: CanvasRenderingContext2D, x: number, y: number) {\n        CChartPreset.PopupForBin(ctx, x, y - 10, 100, 50, this.data.toFixed(4).toString());\n    }\n    InitCollisionVec() {\n        this.vsCollision = GetArcVec(this.v.x, this.v.y, this.start, this.end, this.r, 10);\n        return this.vsCollision;\n    }\n    IsMouseInside(x: number, y: number) {\n        if (NVector3.IsInsideOfVecs(new NVector3(x, y), this.InitCollisionVec())) {\n            this.col = this.colHover;\n            this.isHover = true;\n            this.cPieChart.arcHover = this;\n        } else {\n            this.col = this.colNormal;\n            this.isHover = false;\n        }\n        return this.isHover;\n    }\n    RenderPost(ctx: CanvasRenderingContext2D, x: number, y: number) {\n        this.v.x = x;\n        this.v.y = y;\n        ctx.save();\n        ctx.beginPath();\n        ctx.moveTo(this.v.x, this.v.y);\n        ctx.arc(this.v.x, this.v.y, this.r, Math.PI * 2 * this.start, Math.PI * 2 * this.end, false);\n        ctx.closePath();\n        ctx.fillStyle = this.col;\n        ctx.fill();\n        if (this.isHover) {\n            ctx.globalAlpha = 0.5;\n            ctx.lineDashOffset = -this.t;\n            ctx.lineWidth = 0.5;\n            ctx.strokeStyle = '#ffffff';\n            ctx.setLineDash([4, 4]);\n            ctx.stroke();\n\n            ctx.lineDashOffset = -this.t - 4;\n            ctx.lineWidth = 0.5;\n            ctx.strokeStyle = '#000000';\n            ctx.setLineDash([4, 4]);\n            ctx.stroke();\n            ctx.setLineDash([0, 0]);\n            ctx.globalAlpha = 1;\n        }\n        ctx.restore();\n        this.t += 0.5;\n        if (this.t === 14) { this.t = 0; }\n    }\n}\n\n// ....................................................................\n\nexport class CPieChart extends ChartBase {\n    static list: CPieChart[] = [];\n    static dSet: number[][];\n\n    cVec: NVector3;\n    offsetCircle: number;\n\n    dataSet: number[];\n    colorSet: string[];\n    arcs: Arc[];\n    arcHover: Arc | undefined;\n    r: number;\n\n    static Add(g: CPieChart) { CPieChart.list.push(g); }\n    static Remove(g: CPieChart) { CPieChart.list.splice(CPieChart.list.indexOf(g), 1); }\n\n    constructor(x: number, y: number) {\n        super(300, 300);\n        this.vec = new NVector3(x, y, 0);\n\n        this.filletR = 5;\n        this.offsetCircle = 28;\n        this.InitPieChart();\n        CPieChart.Add(this);\n        this.ParseData();\n    }\n    ParseData() {\n        if (!CPieChart.dSet) { return; }\n        for (let i = 0; i < CPieChart.dSet.length; ++i) {\n            this.AddDatatSet(CPieChart.dSet[i]);\n        }\n    }\n    AddDatatSet(d: number[]) {\n        /* */\n    }\n    InitPieChart() {\n        this.ComputeCenter();\n        this.dataSet = [0.2, 0.45, 0.05, 0.1, 0.2];\n        this.colorSet = [];\n\n        this.arcs = [];\n        this.r = this.width * 0.5 - this.offsetCircle;\n\n        for (let i = 0; i < this.dataSet.length; ++i) { this.colorSet.push(ColorUtility.GetRandomColor()); }\n\n        let start = 0;\n        let end = 0;\n        for (let i = 0; i < this.dataSet.length; ++i) {\n            if (i === 0) {\n                start = 0;\n                end += this.dataSet[i];\n                this.arcs.push(new Arc(this, this.dataSet[i], this.cVec.x, this.cVec.y, this.colorSet[i], start, end, this.r));\n            } else {\n                start += this.dataSet[i - 1];\n                end += this.dataSet[i];\n                this.arcs.push(new Arc(this, this.dataSet[i], this.cVec.x, this.cVec.y, this.colorSet[i], start, end, this.r));\n            }\n        }\n    }\n    IsMouseInside(x: number, y: number) {\n        let v = NVector3.IsInsideOfVecs(new NVector3(x, y), this.ComputeBoundary());\n        this.isOver = v;\n        if (this.arcs) {\n            let isArchover = false;\n            for (let i = 0; i < this.arcs.length; ++i) {\n                if (this.arcs[i].IsMouseInside(x, y)) {\n                    isArchover = true;\n                }\n            }\n            if (!isArchover) { this.arcHover = undefined; }\n        }\n        return v;\n    }\n    ComputeCenter() {\n        this.cVec = NVector3.GetCenterVecFromVecs(this.boundarVecs);\n    }\n    RenderPost(ctx: CanvasRenderingContext2D): void {\n        this.ComputeBoundary();\n        this.ComputeCenter();\n        CChartPreset.RoundedRectFill(ctx, this.style, this.boundarVecs, this.filletR, 10, 0.2);\n\n        this.RenderPieChart(ctx);\n    }\n    RenderPieChart(ctx: CanvasRenderingContext2D): void {\n        if (!this.arcs) { return; }\n        for (let i = 0; i < this.arcs.length; ++i) {\n            this.arcs[i].RenderPost(ctx, this.cVec.x, this.cVec.y);\n        }\n        for (let i = 0; i < this.arcs.length; ++i) {\n            if (this.arcs[i].isHover) {\n                // this.arcs[i].Popup(ctx, CBlockRenderer.m.x, CBlockRenderer.m.y);\n            }\n        }\n        if (this.arcHover) { this.arcHover.Popup(ctx, CBlockRenderer.m.x, CBlockRenderer.m.y); }\n    }\n}","import { NVector3 } from './NVector3'\nexport const GetArcVec = (xo: number, yo: number, start: number, end: number, r: number, n: number = 5) => {\n    let circleVer = [new NVector3(xo, yo)];\n    let sAngle = ((Math.PI * 2) * start) + Math.PI * 0.5;\n    let eAngle = ((Math.PI * 2) * end) + Math.PI * 0.5;\n    let iter = (eAngle - sAngle) / n; // center vec first\n    for (let i = sAngle; i <= eAngle + 0.001; i += iter) {\n        let xx = xo + Math.sin(i) * r;\n        let yy = yo - Math.cos(i) * r;\n        circleVer.push(new NVector3(xx, yy));\n    }\n    return circleVer;\n}","import { NVector3 } from '../lib/NVector3';\nimport { GetIndexBySort, Remap } from '../lib/MathUtility';\n\nimport { CBlockRenderer } from '../Core/CBlockRenderer';\nimport { CChartPreset } from './CChartPreset';\n\nimport { ChartBase } from './Base/ChartBase';\n\nexport class CLineChart extends ChartBase {\n    static list: CLineChart[] = [];\n    static dA: number[];\n    static dB: number[];\n\n    vec: NVector3;\n    data: number;\n    datatSet: number[];\n\n    yOffForChart: number;\n    isFillChart: boolean;\n\n    dX: Float32Array;\n    dY: Float32Array;\n    dXIndex: number[];\n    skipNum: number;\n    // vertC: Float32Array;\n\n    static Add(g: CLineChart) { CLineChart.list.push(g); }\n    static Remove(g: CLineChart) { CLineChart.list.splice(CLineChart.list.indexOf(g), 1); }\n\n    constructor(x: number, y: number) {\n        super(300, 250);\n        this.vec = new NVector3(x, y, 0);\n        this.datatSet = [];\n        this.filletR = 5;\n        this.yOffForChart = 5;\n        this.isFillChart = true;\n        this.skipNum = 10;\n        this.InitLineChart(CLineChart.dA, CLineChart.dB, this.vec.x + 20, this.vec.y + 10, this.width - 40, this.height - 20);\n        CLineChart.Add(this);\n\n    }\n    InitLineChart(dA: number[], dB: number[], x: number, y: number, width: number, height: number) {\n        if (!dA || !dB) { return; }\n\n        this.dXIndex = GetIndexBySort(dA);\n\n        let len = dA.length;\n\n        this.dX = new Float32Array(len);\n        this.dY = new Float32Array(len);\n        // this.vertC = new Float32Array(len);\n\n        let aMin = Number.MAX_SAFE_INTEGER; let bMin = Number.MAX_SAFE_INTEGER;\n        let aMax = Number.MIN_SAFE_INTEGER; let bMax = Number.MIN_SAFE_INTEGER;\n\n        for (let i = 0; i < len; ++i) {\n            if (dA[i] < aMin) { aMin = dA[i]; }\n            if (dA[i] > aMax) { aMax = dA[i]; }\n            this.dX[i] = dA[i];\n            if (dB[i] < bMin) { bMin = dB[i]; }\n            if (dB[i] > bMax) { bMax = dB[i]; }\n            this.dY[i] = dB[i];\n        }\n        for (let i = 0; i < len; ++i) {\n            this.dX[i] = Remap(this.dX[i], aMin, aMax, 0, width);\n            this.dY[i] = Remap(this.dY[i], bMin, bMax, 0, height);\n        }\n    }\n    Remove() {\n        CLineChart.Remove(this);\n        CBlockRenderer.Remove(this);\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        /* */\n\n        this.RenderPost(ctx);\n    }\n\n    RenderPost(ctx: CanvasRenderingContext2D) {\n        this.ComputeBoundary();\n        CChartPreset.RoundedRectFill(ctx, this.style, this.boundarVecs, this.filletR, 10);\n\n        this.RenderChart(ctx);\n\n        // this.RenderTitle(ctx);\n        // if (this.toggle) { this.RenderPanel(ctx); }\n    }\n    RenderChart(ctx: CanvasRenderingContext2D) {\n        if (!this.dX || !this.dY) { return; }\n        ctx.beginPath();\n        ctx.strokeStyle = 'rgba(200,250,50,100)';\n        let skipNumber = 0;\n        ctx.moveTo(this.vec.x + 20 + this.dX[this.dXIndex[0]], this.vec.y - 10 + this.height - this.dY[this.dXIndex[0]]);\n        for (let i of this.dXIndex) {\n            if (skipNumber === this.skipNum) {\n                if (this.dX[i] !== null && this.dY[i] !== null) {\n                    // ctx.arc(this.vec.x + this.dX[i], this.vec.y - 10 + this.height - this.dY[i], 3, 0, 3.14 * 2);\n                    ctx.lineTo(this.vec.x + 20 + this.dX[i], this.vec.y - 10 + this.height - this.dY[i]);\n                }\n                skipNumber = 0;\n            }\n            skipNumber++;\n        }\n        ctx.stroke();\n\n        skipNumber = 0;\n        ctx.fillStyle = 'rgba(100,250,50,50)';\n        for (let i of this.dXIndex) {\n            if (skipNumber === this.skipNum) {\n                if (this.dX[i] !== null && this.dY[i] !== null) {\n                    ctx.beginPath();\n                    ctx.arc(this.vec.x + 20 + this.dX[i], this.vec.y - 10 + this.height - this.dY[i], 1.8, 0, 3.14 * 2);\n                    ctx.closePath();\n                    // ctx.lineTo(this.vec.x + 20 + this.dX[i], this.vec.y - 10 + this.height - this.dY[i]);\n                    ctx.fill();\n                }\n                skipNumber = 0;\n            }\n            skipNumber++;\n        }\n    }\n    RenderTitle(ctx: CanvasRenderingContext2D) {\n        ctx.save();\n\n        if (this.isOver) { ctx.fillStyle = 'white'; } else { ctx.fillStyle = 'white'; }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'center';\n        ctx.font = '100 14px Sans-serif';\n        ctx.fillText(this.title, this.vec.x + (this.width * 0.5), this.vec.y + (this.height * 0.5) - 5);\n\n        ctx.shadowBlur = 0;\n        // ctx.shadowColor = 'black';\n        ctx.shadowOffsetY = 0;\n        ctx.shadowOffsetX = 0;\n\n        ctx.restore();\n    }\n\n}","import { NVector3 } from '../lib/NVector3';\nimport { ChartBase } from './Base/ChartBase';\nimport { CChartPreset } from './CChartPreset';\n\nexport class CBarChart extends ChartBase {\n    static list: CBarChart[] = [];\n\n    static Add(g: CBarChart) { CBarChart.list.push(g); }\n    static Remove(g: CBarChart) { CBarChart.list.splice(CBarChart.list.indexOf(g), 1); }\n\n    constructor(x: number, y: number) {\n        super(300, 250);\n        this.vec = new NVector3(x, y, 0);\n\n        this.filletR = 5;\n\n        this.InitLineChart();\n        CBarChart.Add(this);\n    }\n    InitLineChart() {\n        /* */\n    }\n    RenderPost(ctx: CanvasRenderingContext2D): void {\n        this.ComputeBoundary();\n        CChartPreset.RoundedRectFill(ctx, this.style, this.boundarVecs, this.filletR, 10);\n    }\n}","import { NVector3 } from '../lib/NVector3';\nimport { GetIndexBySort, Remap } from '../lib/MathUtility';\n// import { COLORBLENDING } from '../../AppCore/Color/ColorUtility';\nimport { CBlockRenderer } from '../Core/CBlockRenderer';\nimport { CChartPreset } from './CChartPreset';\n\nimport { ChartBase } from './Base/ChartBase';\n\nexport class CAreaChart extends ChartBase {\n    static list: CAreaChart[] = [];\n    static dT: number[];\n    static dA: number[];\n    static dB: number[];\n    static dC: number[];\n\n    vec: NVector3;\n    data: number;\n    datatSet: number[];\n\n    yOffForChart: number;\n    isFillChart: boolean;\n\n    dT: Float32Array;\n    dX01: Float32Array;\n    dX02: Float32Array;\n    dX03: Float32Array;\n\n    dXIndex: number[];\n    skipNum: number;\n    // vertC: Float32Array;\n\n    static Add(g: CAreaChart) { CAreaChart.list.push(g); }\n    static Remove(g: CAreaChart) { CAreaChart.list.splice(CAreaChart.list.indexOf(g), 1); }\n\n    constructor(x: number, y: number) {\n        super(300, 250);\n        this.vec = new NVector3(x, y, 0);\n        this.title = 'Area Chart';\n        this.datatSet = [];\n        this.filletR = 5;\n        this.yOffForChart = 5;\n        this.isFillChart = true;\n        this.skipNum = 10;\n        // this.InitLineChart(CAreaChart.dA, CAreaChart.dB, CAreaChart.dC, CAreaChart.dT, this.vec.x + 20, this.vec.y + 10, this.width - 40, this.height - 20);\n        CAreaChart.Add(this);\n\n    }\n    InitLineChart(dA: number[], dB: number[], dC: number[], dT: number[], x: number = this.vec.x + 20, y: number = this.vec.y + 10, width: number = this.width - 40, height: number = this.height - 20) {\n        // if (!dA || !dB || !dC) { return; }\n        console.log(dT);\n        this.dXIndex = GetIndexBySort(dT);\n\n        let len = dA.length;\n\n        // this.dT = new Float32Array(len);\n        // this.dX01 = new Float32Array(len);\n        // this.dX02 = new Float32Array(len);\n        // this.dX03 = new Float32Array(len);\n\n        this.dT = new Float32Array(dT);\n        this.dX01 = new Float32Array(dA);\n        this.dX02 = new Float32Array(dB);\n        this.dX03 = new Float32Array(dC);\n        // this.vertC = new Float32Array(len);\n\n        let aMin = Number.MAX_SAFE_INTEGER; let bMin = Number.MAX_SAFE_INTEGER; let cMin = Number.MAX_SAFE_INTEGER; let tMin = Number.MAX_SAFE_INTEGER;\n        let aMax = Number.MIN_SAFE_INTEGER; let bMax = Number.MIN_SAFE_INTEGER; let cMax = Number.MIN_SAFE_INTEGER; let tMax = Number.MIN_SAFE_INTEGER;\n\n        for (let i = 0; i < len; ++i) {\n            if (dA[i] < aMin) { aMin = dA[i]; }\n            if (dA[i] > aMax) { aMax = dA[i]; }\n            this.dX01[i] = dA[i];\n            if (dB[i] < bMin) { bMin = dB[i]; }\n            if (dB[i] > bMax) { bMax = dB[i]; }\n            this.dX02[i] = dB[i];\n            if (dC[i] < cMin) { cMin = dC[i]; }\n            if (dC[i] > cMax) { cMax = dC[i]; }\n            this.dX03[i] = dC[i];\n            if (dT[i] < tMin) { tMin = dT[i]; }\n            if (dT[i] > tMax) { tMax = dT[i]; }\n            this.dT[i] = dT[i];\n        }\n        for (let i = 0; i < len; ++i) {\n            this.dX01[i] = Remap(this.dX01[i], aMin, aMax, 0, height);\n            this.dX02[i] = Remap(this.dX02[i], bMin, bMax, 0, height);\n            this.dX03[i] = Remap(this.dX03[i], cMin, cMax, 0, height);\n            this.dT[i] = Remap(this.dT[i], tMin, tMax, 0, width);\n        }\n    }\n    Remove() {\n        CAreaChart.Remove(this);\n        CBlockRenderer.Remove(this);\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        /* */\n\n        this.RenderPost(ctx);\n    }\n\n    RenderPost(ctx: CanvasRenderingContext2D) {\n        this.ComputeBoundary();\n        CChartPreset.RoundedRectFill(ctx, this.style, this.boundarVecs, this.filletR, 0);\n        this.RenderHead(ctx);\n        this.RenderHeadTitle(ctx);\n\n        this.RenderChart(ctx);\n\n        // this.RenderTitle(ctx);\n        // if (this.toggle) { this.RenderPanel(ctx); }\n    }\n    RenderChart(ctx: CanvasRenderingContext2D) {\n        if (!this.dX01 || !this.dX02 || !this.dX03) { return; }\n        // ctx.globalCompositeOperation = COLORBLENDING.OVERLAY;\n        ctx.beginPath();\n        let skipNumber = 0;\n        ctx.fillStyle = 'rgba(000,200,0,0.5)';\n        ctx.moveTo(this.vec.x + 20 + this.dT[this.dXIndex[0]], this.vec.y - 10 + this.height);\n        for (let i of this.dXIndex) {\n            if (skipNumber === this.skipNum) {\n                if (this.dX01[i] !== null && this.dX02[i] !== null) {\n                    // ctx.arc(this.vec.x + this.dX01[i], this.vec.y - 10 + this.height - this.dX02[i], 3, 0, 3.14 * 2);\n                    ctx.lineTo(this.vec.x + 20 + this.dT[i], this.vec.y - 10 + this.height - this.dX01[i]);\n                }\n                skipNumber = 0;\n            }\n            skipNumber++;\n        }\n        ctx.lineTo(this.vec.x + 20 + this.dT[this.dXIndex[this.dXIndex.length - 1]], this.vec.y - 10 + this.height);\n        ctx.closePath();\n        ctx.fill();\n\n        ctx.beginPath();\n        skipNumber = 0;\n        ctx.fillStyle = 'rgba(200,000,0,0.5)';\n        ctx.moveTo(this.vec.x + 20 + this.dT[this.dXIndex[0]], this.vec.y - 10 + this.height);\n        for (let i of this.dXIndex) {\n            if (skipNumber === this.skipNum) {\n                if (this.dX01[i] !== null && this.dX02[i] !== null) {\n                    // ctx.arc(this.vec.x + this.dX01[i], this.vec.y - 10 + this.height - this.dX02[i], 3, 0, 3.14 * 2);\n                    ctx.lineTo(this.vec.x + 20 + this.dT[i], this.vec.y - 10 + this.height - this.dX02[i]);\n                }\n                skipNumber = 0;\n            }\n            skipNumber++;\n        }\n        ctx.lineTo(this.vec.x + 20 + this.dT[this.dXIndex[this.dXIndex.length - 1]], this.vec.y - 10 + this.height);\n        ctx.closePath();\n        ctx.fill();\n\n        ctx.beginPath();\n        skipNumber = 0;\n        ctx.fillStyle = 'rgba(000,000,200,0.5)';\n        ctx.moveTo(this.vec.x + 20 + this.dT[this.dXIndex[0]], this.vec.y - 10 + this.height);\n        for (let i of this.dXIndex) {\n            if (skipNumber === this.skipNum) {\n                if (this.dX01[i] !== null && this.dX03[i] !== null) {\n                    // ctx.arc(this.vec.x + this.dX01[i], this.vec.y - 10 + this.height - this.dX02[i], 3, 0, 3.14 * 2);\n                    ctx.lineTo(this.vec.x + 20 + this.dT[i], this.vec.y - 10 + this.height - this.dX03[i]);\n                }\n                skipNumber = 0;\n            }\n            skipNumber++;\n        }\n        ctx.lineTo(this.vec.x + 20 + this.dT[this.dXIndex[this.dXIndex.length - 1]], this.vec.y - 10 + this.height);\n        ctx.closePath();\n        ctx.fill();\n\n        // ctx.globalCompositeOperation = COLORBLENDING.SOURCE_OVER;\n        // console.log(this.height);\n    }\n    RenderTitle(ctx: CanvasRenderingContext2D) {\n        ctx.save();\n\n        if (this.isOver) { ctx.fillStyle = 'white'; } else { ctx.fillStyle = 'white'; }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'center';\n        ctx.font = '100 14px Sans-serif';\n        ctx.fillText(this.title, this.vec.x + (this.width * 0.5), this.vec.y + (this.height * 0.5) - 5);\n\n        ctx.shadowBlur = 0;\n        // ctx.shadowColor = 'black';\n        ctx.shadowOffsetY = 0;\n        ctx.shadowOffsetX = 0;\n\n        ctx.restore();\n    }\n    RenderHead(ctx: CanvasRenderingContext2D) {\n        ctx.save();\n        ctx.beginPath();\n        CChartPreset.TopRoundedRectFill(ctx, 'dd', NVector3.GetBoundaryByVecWidthHeight(this.vec, this.width, this.HeadHeight), this.filletR, 0, false, false, '#ff0000');\n\n        ctx.closePath();\n        ctx.fillStyle = '#ff0000';\n        ctx.fill();\n        ctx.restore();\n    }\n    RenderHeadTitle(ctx: CanvasRenderingContext2D) {\n        ctx.save();\n        // if (this.isOver) {\n        //     ctx.fillStyle = IndePanelPreset.theme.mainMenuNormal;\n        // } else {\n        ctx.fillStyle = '#ffffff';\n        // }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'center';\n        ctx.font = '100 9px Arial';\n        ctx.shadowBlur = 0;\n        // ctx.shadowColor = 'rgba(0,0,0,0.3)';\n        ctx.shadowOffsetY = 0;\n        ctx.shadowOffsetX = 0;\n        ctx.fillText(this.title, this.vec.x + (this.width * 0.5), this.vec.y + (this.HeadHeight * 0.5) - 5);\n\n        ctx.restore();\n    }\n}","import { NVector3 } from '../../../lib/NVector3';\nimport { MouseEventData } from '../../../lib/MouseInteraction';\nimport { GetUUID } from '../../../lib/MathUtility';\n\nimport { CBlockRenderer } from '../../../Core/CBlockRenderer';\n// import { CGeometry } from '../../../../AppDrawing/Canvas/CGeometry/CoreBase/CGeometryCommon';\n// import { CBlockController } from '../CBlockController';\n// import { CGeometryBase } from '../../Canvas/CGeometry/CGeometryBase';\nexport enum BLOCK_TYPE {\n    DRAWING = 'DRAWING',\n    CONTROL_PANEL = 'CONTROL_PANEL'\n}\nexport abstract class CBlockBase {\n    type: BLOCK_TYPE;\n    id: string;\n    value: number;\n    vec: NVector3;\n    boundarVecs: NVector3[];\n    isHidden: boolean;\n    div: HTMLElement;\n    height: number;\n    width: number;\n    divID: string;\n    xOff: number;\n    yOff: number;\n    isSelected: boolean;\n    isOver: boolean;\n    toggle: boolean;\n    isMoveable: boolean;\n    style: number;\n    filletR: number;\n    title: string;\n    colorBase: string;\n    colorOver: string;\n    colorText: string;\n    isRender: boolean;\n    transparent: number;\n    heightPanel: number;\n    vecsPanel: NVector3[];\n    constructor(width: number = 100, height: number = 20) {\n        CBlockRenderer.Add(this);\n        this.width = width;\n        this.height = height;\n        this.heightPanel = 50;\n        this.xOff = 10;\n        this.yOff = 50;\n        this.isHidden = false;\n        this.isSelected = false;\n        this.isOver = false;\n        this.isMoveable = true;\n        this.style = 0;\n        this.filletR = 3;\n        this.isRender = true;\n        this.vec = new NVector3(100, 100, 0);\n        this.title = 'Drawing Block';\n        this.boundarVecs = [];\n        this.colorBase = '#907BD2';\n        this.transparent = 1.0;\n        this.toggle = true;\n        this.id = GetUUID();\n\n    }\n    Remove() {\n        CBlockRenderer.Remove(this);\n    }\n    RemovePanel() {\n        /* */\n    }\n    DeepCopy() {\n        /* */\n    }\n    Dummy() {\n        /* */\n    }\n    get Toggle() {\n        return this.toggle;\n    }\n    set Toggle(v: boolean) {\n        this.toggle = v;\n        console.log('dd');\n        // this.panel.isHidden = v;\n    }\n    get IsHidden() {\n        return this.isHidden;\n    }\n    set IsHidden(v: boolean) {\n        this.isHidden = v;\n    }\n    get IsHover() {\n        return this.isOver;\n    }\n    set IsHover(v: boolean) {\n        this.isOver = v;\n    }\n    get IsSelected() { return this.isSelected; }\n    set IsSelected(v: boolean) { this.isSelected = v; }\n    GetBoundaryVecs() {\n        let theHeight = this.height * 0.5;\n        let theWidth = this.width * 0.5;\n        let v0 = new NVector3(this.vec.x - theWidth, this.vec.y - theHeight);\n        let v1 = new NVector3(this.vec.x + theWidth, this.vec.y + theHeight);\n        this.boundarVecs = NVector3.GetBoundingVecs(v0, v1);\n        return this.boundarVecs;\n    }\n    ComputeBoundary() {\n        this.boundarVecs = [];\n\n        this.boundarVecs.push(new NVector3(this.vec.x, this.vec.y, this.vec.z));\n        this.boundarVecs.push(new NVector3(this.vec.x + this.width, this.vec.y, this.vec.z));\n        this.boundarVecs.push(new NVector3(this.vec.x + this.width, this.vec.y + this.height, this.vec.z));\n        this.boundarVecs.push(new NVector3(this.vec.x, this.vec.y + this.height, this.vec.z));\n        return this.boundarVecs;\n    }\n    GetBoundaryPanelVecs() {\n        let theHeight = this.height;\n        let theWidth = this.width;\n        let v0 = new NVector3(this.vec.x, this.vec.y + theHeight + 2);\n        let v1 = new NVector3(this.vec.x + theWidth, this.vec.y + theHeight + this.heightPanel);\n        this.vecsPanel = NVector3.GetBoundingVecs(v0, v1);\n        return this.vecsPanel;\n    }\n    IsMouseInside(x: number, y: number) {\n        let v = NVector3.IsInsideOfVecs(new NVector3(x, y), this.ComputeBoundary());\n        this.isOver = v;\n        if (v) {\n            // CGeometry.appDrawing.activeCommands.isReturn = true;\n        } else {\n            // CGeometry.appDrawing.activeCommands.isReturn = false;\n        }\n        return v;\n    }\n    Translate(e: MouseEventData): void {\n        if (!this.isMoveable) { return; }\n        let xo = e.x - e.preX;\n        let yo = e.y - e.preY;\n        this.vec.x += xo;\n        this.vec.y += yo;\n        for (let i = 0; i < this.boundarVecs.length; ++i) { this.boundarVecs[i].x += xo; this.boundarVecs[i].y += yo; }\n    }\n    Move(x: number, y: number) {\n        this.vec.x = x; this.vec.y = y;\n    }\n    HideToogle() {\n        this.IsHidden = !this.IsHidden;\n        this.Hide();\n    }\n    Hide() {\n        /* */\n    }\n    MouseDown(e: MouseEventData) {\n        /* */\n    }\n    MouseUp(e: MouseEventData) {\n        /* */\n    }\n    MouseDrag(e: MouseEventData) {\n        this.Translate(e);\n    }\n    MouseDouble(e: MouseEventData) {\n        /* */\n    }\n    MouseLeft(e: MouseEventData) {\n        console.log('eeeeee');\n        this.IsSelected = !this.IsSelected;\n    }\n    MouseRight(e: MouseEventData) {\n        /* */\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        if (this.isHidden) { return; }\n        this.RenderPost(ctx);\n    }\n    abstract RenderPost(ctx: CanvasRenderingContext2D): void;\n\n}","import { NVector3 } from '../../../lib/NVector3';\nimport { MouseEventData } from '../../../lib/MouseInteraction';\nimport { NumericalMotion } from '../../../lib/NumericalMotion';\n\nimport { CBlockBase } from './CBlockBase';\nimport { CBlockRenderer } from '../../../Core/CBlockRenderer';\n// import { CBlockRenderer } in './CBlockRenderer'\n\nexport enum TYPE {\n    IN = 'IN',\n    OUT = 'OUT'\n}\n\nexport class CBlockIO extends CBlockBase {\n    public static list: CBlockIO[] = [];\n\n    isDown: boolean;\n    vecs: NVector3[];\n    r: number;\n    typeIO: TYPE;\n    host: CBlockBase;\n    isConnected: boolean;\n    in: CBlockIO[];\n    out: CBlockIO[];\n    hasError: boolean;\n    name: string;\n\n    io: CBlockIO;\n\n    static FindAtPoint(x: number, y: number) {\n        for (var i = CBlockIO.list.length - 1; i >= 0; --i) {\n            if (CBlockIO.list[i].isHidden) { continue; }\n            if (CBlockIO.list[i].IsMouseInside(x, y)) {\n                return CBlockIO.list[i];\n            }\n        }\n        return undefined;\n    }\n    static Add(g: CBlockIO) {\n        CBlockIO.list.push(g);\n    }\n    static Remove(g: CBlockIO) {\n        CBlockIO.list.splice(CBlockIO.list.indexOf(g), 1);\n\n    }\n\n    constructor(host: CBlockBase, type: TYPE, name: string, x: number, y: number) {\n        super();\n        this.name = name;\n        this.title = host.title;\n        this.vec = new NVector3(x, y);\n        this.host = host;\n        this.typeIO = type;\n        this.r = 5;\n        this.isDown = false;\n        this.isConnected = false;\n        this.hasError = false;\n\n        this.in = [];\n        this.out = [];\n        this.vecs = [];\n        this.vecs.push(new NVector3(x, y, 0));\n        this.vecs.push(new NVector3(x, y, 0));\n        this.vecs.push(new NVector3(x, y, 0));\n        this.vecs.push(new NVector3(x, y, 0));\n        CBlockIO.Add(this);\n    }\n    Remove() {\n        if (this.in.length !== 0) {\n            for (let i = 0; i < this.in.length; ++i) {\n                this.in[i].RemoveLink(this);\n                console.log('in', this.in);\n            }\n        }\n        if (this.out.length !== 0) {\n            for (let i = 0; i < this.out.length; ++i) {\n                this.out[i].RemoveLink(this);\n                console.log('out', this.out);\n            }\n        }\n        CBlockIO.Remove(this);\n        CBlockRenderer.Remove(this);\n    }\n    Distance(x: number, y: number) { return Math.sqrt((this.vec.x - x) * (this.vec.x - x) + (this.vec.y - y) * (this.vec.y - y)); }\n    IsMouseInside(x: number, y: number) { return this.Distance(x, y) <= this.r + 3; }\n    Translate(e: MouseEventData): void { return; }\n    UpdatePosByHost(x: number, y: number) {\n        // this.Move(x, y);\n    }\n    UpdateWirePos() {\n        if (this.isConnected) {\n            /* */\n        } else {\n            for (let i = 0; i < this.vecs.length; ++i) { this.vecs[i] = this.vec; }\n        }\n\n    }\n    RemoveLink(ic: CBlockIO) {\n        this.isConnected = false;\n        if (this.in.length !== 0) { this.in.splice(this.in.indexOf(ic), 1); }\n        if (this.out.length !== 0) { this.out.splice(this.out.indexOf(ic), 1); }\n    }\n    SetLink(ic: CBlockIO) {\n        if (this.typeIO === TYPE.OUT) {\n            if (this.in.length === 0) { this.in = []; }\n            this.in.push(ic);\n            console.log(ic);\n        } else {\n            if (this.out.length === 0) { this.out = []; }\n            this.out.push(ic);\n            console.log(ic);\n        }\n        this.io = ic;\n\n    }\n    UpdateToOtherLinks(n: number) {\n        // console.log(this.title, n);\n        // console.log(this.io);\n        if (this.typeIO === TYPE.OUT) {\n            for (let i = 0; i < this.out.length; ++i) {\n                this.out.length[i].UpdateByinOut(n);\n            }\n            // console.log(n, this.host.title, this.out.length);\n        }\n        if (this.io) {\n            this.io.UpdateByinOut(n);\n        }\n    }\n    UpdateByinOut(n: number) {\n\n        console.log(this.host.title, n);\n    }\n    MouseDown(e: MouseEventData) {\n        this.isRender = true;\n        this.isDown = true;\n    }\n    MouseUp(e: MouseEventData) {\n\n        this.isDown = false;\n        let i = CBlockIO.FindAtPoint(e.x, e.y);\n        if (i !== undefined) {\n            i.SetLink(this);\n            i.isConnected = true;\n            this.isConnected = true;\n            this.isRender = true;\n        } else {\n            this.UpdateWirePos();\n            this.isRender = false;\n        }\n    }\n    MouseDrag(e: MouseEventData) {\n        if (this.isDown) {\n            if (this.typeIO === TYPE.IN) {\n                this.out = [];\n            } else {\n                this.in = [];\n            }\n            this.vecs[3] = new NVector3(e.x, e.y);\n        }\n    }\n    MouseDouble(e: MouseEventData) {\n        // this.IsPin = !this.IsPin;\n    }\n\n    RenderPost(ctx: CanvasRenderingContext2D) {\n        if (this.in.length !== 0) {\n            for (let i = 0; i < this.in.length; ++i) {\n                this.in[i].vecs[3] = this.vec;\n            }\n\n        } else {\n            this.vecs[0] = this.vec;\n            if (this.isRender) { this.RenderWire(ctx); }\n        }\n        if (this.out.length !== 0) {\n            for (let i = 0; i < this.out.length; ++i) {\n                this.out[i].vecs[3] = this.vec;\n            }\n\n        } else {\n            this.vecs[0] = this.vec;\n            if (this.isRender) { this.RenderWire(ctx); }\n        }\n\n        ctx.beginPath();\n        ctx.strokeStyle = 'rgba(255,255,255,0.2)';\n        if (this.isOver) {\n            ctx.fillStyle = 'white';\n            if (this.typeIO === TYPE.IN) {\n                ctx.arc(this.vec.x, this.vec.y, NumericalMotion.Scale(this.r + 3), 0.5 * 3.14, 3.14 * 1.5);\n            } else {\n                ctx.arc(this.vec.x, this.vec.y, NumericalMotion.Scale(this.r + 3), 1.5 * 3.14, 3.14 * 0.5);\n            }\n        } else {\n            ctx.fillStyle = '#333333';\n            if (this.typeIO === TYPE.IN) {\n                ctx.arc(this.vec.x, this.vec.y, this.r, 0.5 * 3.14, 3.14 * 1.5);\n            } else {\n                ctx.arc(this.vec.x, this.vec.y, this.r, 1.5 * 3.14, 3.14 * 0.5);\n            }\n        }\n        ctx.closePath();\n        ctx.shadowColor = 'rgba(0,0,0,0.3)';\n        ctx.shadowBlur = 2;\n        ctx.shadowOffsetX = 0;\n        ctx.shadowOffsetY = 2;\n        ctx.fill();\n        ctx.restore();\n        ctx.stroke();\n\n    }\n    RenderWire(ctx: CanvasRenderingContext2D) {\n        ctx.save();\n\n        ctx.strokeStyle = '#333333';\n        if (!this.isConnected) { ctx.setLineDash([2, 2]); }\n\n        ctx.lineWidth = 1;\n        let dis = Math.abs(this.vecs[3].y - this.vecs[0].y);\n\n        if (this.typeIO === TYPE.OUT) {\n            this.vecs[1] = new NVector3(this.vecs[0].x + dis, this.vecs[0].y); // NVector3.MidVec(vs[0], vs[1]);\n            this.vecs[2] = new NVector3(this.vecs[3].x - dis, this.vecs[3].y); // NVector3.MidVec(vs[2], vs[3]);\n        } else {\n            this.vecs[1] = new NVector3(this.vecs[0].x - dis, this.vecs[0].y); // NVector3.MidVec(vs[0], vs[1]);\n            this.vecs[2] = new NVector3(this.vecs[3].x + dis, this.vecs[3].y); // NVector3.MidVec(vs[2], vs[3]);              \n        }\n        ctx.beginPath();\n        ctx.moveTo(this.vecs[0].x, this.vecs[0].y);\n        ctx.bezierCurveTo(this.vecs[1].x, this.vecs[1].y, this.vecs[2].x, this.vecs[2].y, this.vecs[3].x, this.vecs[3].y);\n        ctx.stroke();\n        ctx.setLineDash([0, 0]);\n        ctx.restore();\n    }\n\n}","import { ColorUtility } from '../../lib/ColorUtility';\nimport { NVector3 } from '../../lib/NVector3';\n\nexport class CBlockPreset {\n    static styleStroke: string = 'white';\n    static styleFill: string = 'gray';\n    static stylefillSelected: string = 'red';\n\n    static RoundedRectFill(ctx: CanvasRenderingContext2D, s: number, vs: NVector3[], r: number, xOff: number = 0, isOver: boolean = false, isSel: Boolean = false) {\n        // let color = s.backgroundColor;\n        let radius = r; // parseFloat(s.borderRadius);\n        // console.log(color);\n        ctx.save();\n        ctx.beginPath();\n\n        ctx.moveTo(vs[0].x + xOff + radius, vs[0].y);\n        ctx.lineTo(vs[1].x - xOff - radius, vs[1].y);\n\n        ctx.arcTo(vs[1].x - xOff, vs[1].y, vs[1].x - xOff, vs[1].y + radius, radius);\n        ctx.lineTo(vs[2].x - xOff, vs[2].y - radius);\n\n        ctx.arcTo(vs[2].x - xOff, vs[2].y, vs[2].x - xOff - radius, vs[2].y, radius);\n        ctx.lineTo(vs[3].x + xOff + radius, vs[3].y);\n\n        ctx.arcTo(vs[3].x + xOff, vs[3].y, vs[3].x + xOff, vs[3].y - radius, radius);\n        ctx.lineTo(vs[0].x + xOff, vs[0].y + radius);\n        ctx.arcTo(vs[0].x + xOff, vs[0].y, vs[0].x + xOff + radius, vs[0].y, radius);\n        ctx.closePath();\n        ctx.fillStyle = CBlockPreset.styleFill;\n\n        if (isSel) { ctx.fillStyle = CBlockPreset.stylefillSelected; }\n        if (isOver) {\n            ctx.strokeStyle = CBlockPreset.styleStroke;\n            ctx.lineWidth = 1;\n            ctx.stroke();\n        }\n\n        ctx.shadowBlur = 4;\n        ctx.shadowColor = ColorUtility.ColorPreset.shadow;\n        ctx.shadowOffsetY = 2;\n        ctx.shadowOffsetX = 2;\n        ctx.fill();\n        ctx.restore();\n    }\n\n    static Title(ctx: CanvasRenderingContext2D, vec: NVector3, width: number, height: number, title: string, isOver: boolean) {\n        ctx.save();\n\n        if (isOver) {\n            ctx.fillStyle = 'white';\n        } else {\n            ctx.fillStyle = '#AFAFAF';\n        }\n        ctx.textBaseline = 'top';\n        ctx.textAlign = 'center';\n        ctx.font = '100 15px Sans-serif';\n        ctx.fillText(title, vec.x + (width * 0.5), vec.y + (height * 0.5) - 8);\n        ctx.restore();\n    }\n    constructor() {\n        /* */\n    }\n}","export class NumericalMotion {\n    static t: number = 0.0;\n\n    static Scale(r: number) { return (Math.sin(NumericalMotion.t) + 5.0) * 0.2 * r; }\n    static ScaleLocalT(r: number, t: number) { return (Math.sin(t) + 5.0) * 0.2 * r; }\n    static ScaleMin(r: number) { return ((Math.sin(NumericalMotion.t) + 5.0) * 0.02 + 0.9) * r; }\n    static ScaleMinOfMin(t: number) {\n        return Math.cos(t);\n    }\n    static ScaleMinLocalT(r: number, t: number) { return ((Math.sin(t) + 5.0) * 0.02 + 0.9) * r; }\n\n    // reference for easing motion.\n    // https://codepen.io/xerxesnoble/pen/JNgmJR?editors=0010\n    static linear(t: number) { return t; }\n    // accelerating from zero velocity\n    static EaseInQuad(t: number) { return t * t; }\n    // decelerating to zero velocity\n    static EaseOutQuad(t: number) { return t * (2 - t); }\n    // acceleration until halfway, then deceleration\n    static EaseInOutQuad(t: number) { return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t; }\n    // accelerating from zero velocity \n    static EaseInCubic(t: number) { return t * t * t; }\n    // decelerating to zero velocity \n    static EaseOutCubic(t: number) { return (--t) * t * t + 1; }\n    // acceleration until halfway, then deceleration \n    static EaseInOutCubic(t: number) { return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1; }\n    // accelerating from zero velocity \n    static EaseInQuart(t: number) { return t * t * t * t; }\n    // decelerating to zero velocity \n    static EaseOutQuart(t: number) { return 1 - (--t) * t * t * t; }\n    // acceleration until halfway, then deceleration\n    static EaseInOutQuart(t: number) { return t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t; }\n    // accelerating from zero velocity\n    static EaseInQuint(t: number) { return t * t * t * t * t; }\n    // decelerating to zero velocity\n    static EaseOutQuint(t: number) { return 1 + (--t) * t * t * t * t; }\n    // acceleration until halfway, then deceleration \n    static EaseInOutQuint(t: number) { return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t; }\n    // elastic bounce effect at the beginning\n    static EaseInElastic(t: number) { return (.04 - .04 / t) * Math.sin(25 * t) + 1; }\n    // elastic bounce effect at the end\n    static EaseOutElastic(t: number) { return .04 * t / (--t) * Math.sin(25 * t); }\n    // elastic bounce effect at the beginning and end\n    static EaseInOutElastic(t: number) { return (t -= .5) < 0 ? (.01 + .01 / t) * Math.sin(50 * t) : (.02 - .01 / t) * Math.sin(50 * t) + 1; }\n\n    // https://joshondesign.com/2013/03/01/improvedEasingEquations\n    static easeOutElastic2(t: number) { var p = 0.3; return Math.pow(2, -10 * t) * Math.sin((t - p / 4) * (2 * Math.PI) / p) + 1; }\n\n    // https://github.com/AndrewRayCode/easing-utils/blob/master/src/easing.js\n    // Slight acceleration from zero to full speed\n    static easeInSine(t: number) { return -1 * Math.cos(t * (Math.PI / 2)) + 1; }\n    // Slight deceleration at the end\n    static easeOutSine(t: number) { return Math.sin(t * (Math.PI / 2)); }\n    // Slight acceleration at beginning and slight deceleration at end\n    static easeInOutSine(t: number) { return -0.5 * (Math.cos(Math.PI * t) - 1); }\n    // Accelerating from zero velocity\n    static easeInQuad(t: number) { return t * t; }\n    // Decelerating to zero velocity\n    static easeOutQuad(t: number) { return t * (2 - t); }\n    // Acceleration until halfway, then deceleration\n    static easeInOutQuad(t: number) { return t < 0.5 ? 2 * t * t : - 1 + (4 - 2 * t) * t; }\n    // Accelerating from zero velocity\n    static easeInCubic(t: number) { return t * t * t; }\n    // Decelerating to zero velocity\n    static easeOutCubic(t: number) { const t1 = t - 1; return t1 * t1 * t1 + 1; }\n    // Acceleration until halfway, then deceleration\n    static easeInOutCubic(t: number) { return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1; }\n    // Accelerating from zero velocity\n    static easeInQuart(t: number) { return t * t * t * t; }\n    // Decelerating to zero velocity\n    static easeOutQuart(t: number) { const t1 = t - 1; return 1 - t1 * t1 * t1 * t1; }\n    // Acceleration until halfway, then deceleration\n    static easeInOutQuart(t: number) { const t1 = t - 1; return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * t1 * t1 * t1 * t1; }\n    // Accelerating from zero velocity\n    static easeInQuint(t: number) { return t * t * t * t * t; }\n    // Decelerating to zero velocity\n    static easeOutQuint(t: number) { const t1 = t - 1; return 1 + t1 * t1 * t1 * t1 * t1; }\n    // Acceleration until halfway, then deceleration\n    static easeInOutQuint(t: number) { const t1 = t - 1; return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * t1 * t1 * t1 * t1 * t1; }\n    // Accelerate exponentially until finish\n    static easeInExpo(t: number) { if (t === 0) { return 0; } return Math.pow(2, 10 * (t - 1)); }\n    // Initial exponential acceleration slowing to stop\n    static easeOutExpo(t: number) { if (t === 1) { return 1; } return (-Math.pow(2, -10 * t) + 1); }\n    // Exponential acceleration and deceleration\n    static easeInOutExpo(t: number) {\n        if (t === 0 || t === 1) { return t; }\n        const scaledTime = t * 2;\n        const scaledTime1 = scaledTime - 1;\n        if (scaledTime < 1) { return 0.5 * Math.pow(2, 10 * (scaledTime1)); } return 0.5 * (-Math.pow(2, -10 * scaledTime1) + 2);\n    }\n    // Increasing velocity until stop\n    static easeInCirc(t: number) { const scaledTime = t / 1; return -1 * (Math.sqrt(1 - scaledTime * t) - 1); }\n    // Start fast, decreasing velocity until stop\n    static easeOutCirc(t: number) { const t1 = t - 1; return Math.sqrt(1 - t1 * t1); }\n    // Fast increase in velocity, fast decrease in velocity\n    static easeInOutCirc(t: number) {\n        const scaledTime = t * 2;\n        const scaledTime1 = scaledTime - 2;\n        if (scaledTime < 1) { return -0.5 * (Math.sqrt(1 - scaledTime * scaledTime) - 1); }\n        return 0.5 * (Math.sqrt(1 - scaledTime1 * scaledTime1) + 1);\n    }\n    // Slow movement backwards then fast snap to finish\n    static easeInBack(t: number, magnitude: number = 1.70158) { return t * t * ((magnitude + 1) * t - magnitude); }\n    // Fast snap to backwards point then slow resolve to finish\n    static easeOutBack(t: number, magnitude: number = 1.70158) {\n        const scaledTime = (t / 1) - 1; return (scaledTime * scaledTime * ((magnitude + 1) * scaledTime + magnitude)) + 1;\n    }\n    // Slow movement backwards, fast snap to past finish, slow resolve to finish\n    static easeInOutBack(t: number, magnitude: number = 1.70158) {\n        const scaledTime = t * 2;\n        const scaledTime2 = scaledTime - 2;\n        const s = magnitude * 1.525;\n        if (scaledTime < 1) { return 0.5 * scaledTime * scaledTime * (((s + 1) * scaledTime) - s); }\n        return 0.5 * (scaledTime2 * scaledTime2 * ((s + 1) * scaledTime2 + s) + 2);\n    }\n    // Bounces slowly then quickly to finish\n    static easeInElastic(t: number, magnitude: number = 0.7) {\n        if (t === 0 || t === 1) { return t; }\n        const scaledTime = t / 1;\n        const scaledTime1 = scaledTime - 1;\n        const p = 1 - magnitude;\n        const s = p / (2 * Math.PI) * Math.asin(1);\n        return -(Math.pow(2, 10 * scaledTime1) * Math.sin((scaledTime1 - s) * (2 * Math.PI) / p));\n    }\n    // Fast acceleration, bounces to zero\n    static easeOutElastic(t: number, magnitude: number = 0.7) {\n        const p = 1 - magnitude;\n        const scaledTime = t * 2;\n        if (t === 0 || t === 1) { return t; }\n        const s = p / (2 * Math.PI) * Math.asin(1);\n        return (Math.pow(2, -10 * scaledTime) * Math.sin((scaledTime - s) * (2 * Math.PI) / p)) + 1;\n    }\n    // Slow start and end, two bounces sandwich a fast motion\n    static easeInOutElastic(t: number, magnitude: number = 0.65) {\n        const p = 1 - magnitude;\n        if (t === 0 || t === 1) { return t; }\n        const scaledTime = t * 2;\n        const scaledTime1 = scaledTime - 1;\n        const s = p / (2 * Math.PI) * Math.asin(1);\n        if (scaledTime < 1) {\n            return -0.5 * (Math.pow(2, 10 * scaledTime1) * Math.sin((scaledTime1 - s) * (2 * Math.PI) / p));\n        } else { return (Math.pow(2, -10 * scaledTime1) * Math.sin((scaledTime1 - s) * (2 * Math.PI) / p) * 0.5) + 1; }\n    }\n    // Bounce to completion\n    static easeOutBounce(t: number) {\n        const scaledTime = t / 1;\n        if (scaledTime < (1 / 2.75)) {\n            return 7.5625 * scaledTime * scaledTime;\n        } else if (scaledTime < (2 / 2.75)) {\n            const scaledTime2 = scaledTime - (1.5 / 2.75); return (7.5625 * scaledTime2 * scaledTime2) + 0.75;\n        } else if (scaledTime < (2.5 / 2.75)) {\n            const scaledTime2 = scaledTime - (2.25 / 2.75); return (7.5625 * scaledTime2 * scaledTime2) + 0.9375;\n        } else { const scaledTime2 = scaledTime - (2.625 / 2.75); return (7.5625 * scaledTime2 * scaledTime2) + 0.984375; }\n    }\n    // Bounce increasing in velocity until completion\n    static easeInBounce(t: number) { return 1 - NumericalMotion.easeOutBounce(1 - t); }\n    // Bounce in and bounce out\n    static easeInOutBounce(t: number) { if (t < 0.5) { return NumericalMotion.easeInBounce(t * 2) * 0.5; } return (NumericalMotion.easeOutBounce((t * 2) - 1) * 0.5) + 0.5; }\n    static Easing() {\n        // let r0 =0\n        // let r1 =0\n        // if(this.r <= this.rOrigin){\n        //     r0 = this.rOrigin;\n        //     r1 = this.rTaget;\n        // } else{\n        //     r1 = this.rOrigin;\n        //     r0 = this.rTaget;\n        // }\n        // this.vec * 0.95+(tVec * 0.05);\n        //     if(this.isAniScale){\n        //         r * 0.95+(rt * 0.05);\n        //         if(r >rt) {\n        //             this.isAniScale=!this.isAniScale;\n        //         }\n        //     }\n    }\n    static Update() {\n        NumericalMotion.t += 0.05;\n    }\n\n}","// import { MouseEventData } from '../../../AppCore/MouseInteraction';\nimport { GetUUID } from '../../lib/MathUtility';\nimport { NVector3 } from '../../lib/NVector3';\n\nimport { CBlockBase } from './Base/CBlockBase';\nimport { CBlockPreset } from './CBlockPreset';\nimport { CBlockIO, TYPE } from './Base/CBlockIO';\n// import { DBPanel } from './DBPanel';\n// import { CBlockRenderer } from '../../Core/CBlockRenderer';\n// import { BlockPointRgular } from '../../Block/BlockPointRgular';\n// import { BlockBase } from './Base/BlockBase';\n\nexport class DataParam {\n    cBlockBody: CBlockBody;\n    cBlockIO: CBlockIO[] = [];\n    type: TYPE;\n    constructor(cBlockBody: CBlockBody, type: TYPE) {\n        this.cBlockBody = cBlockBody;\n        this.type = type;\n    }\n    AddNumberParameter(title: string, min: number, max: number, val: number) {\n        this.cBlockIO.push(new CBlockIO(this.cBlockBody, this.type, title, this.cBlockBody.vec.x, this.cBlockBody.vec.y));\n    }\n    AddGeometryParameter() {\n        /* */\n    }\n}\nexport interface CBlockInitInterface {\n    title: string;\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\nexport class CBlockBody extends CBlockBase {\n\n    uuid: string;\n    in: CBlockIO[];\n    out: CBlockIO[];\n\n    // panel: DBPanel;\n    heightPanel: number;\n    vecsPanel: NVector3[];\n    // block: BlockBase;\n    inData: DataParam;\n    outData: DataParam;\n    constructor(title: string = 'header', x: number = 100, y: number = 100) {\n        super();\n        this.title = title;\n        this.width = 100;\n        this.height = 50;\n        this.heightPanel = 50;\n        this.uuid = GetUUID();\n        this.vec = new NVector3(x, y, 0);\n        this.in = [];\n        this.out = [];\n        this.inData = new DataParam(this, TYPE.IN);\n        this.outData = new DataParam(this, TYPE.OUT);\n        this.SetInput(this.inData);\n        this.SetOutPut(this.outData);\n    }\n    // Init() {\n    //     // this.panel = new DBPanel(this);\n    //     this.UpdateIOPos();\n    // }\n    // SetWidth(v: number) {\n    //     this.width = v;\n    //     for (let i = 0; i < this.out.length; ++i) {\n    //         this.out[i].vec = new NVector3(this.vec.x + this.width, this.vec.y + (this.height * 0.5));\n    //     }\n    //     this.UpdateIOPos();\n    // }\n    AddInput(name: string) {\n        this.in.push(new CBlockIO(this, TYPE.IN, name, this.vec.x, this.vec.y + (this.height * 0.5)));\n        this.UpdateIOPos();\n    }\n    AddOutput(name: string) {\n        this.out.push(new CBlockIO(this, TYPE.OUT, name, this.vec.x + this.width, this.vec.y + (this.height * 0.5)));\n        this.UpdateIOPos();\n    }\n    UpdateIOPos() {\n        let inLength = this.in.length; let outLength = this.out.length;\n        let theHeight = 0;\n\n        if (inLength < outLength) {\n            theHeight = 20 * outLength + 1;\n        } else { theHeight = 20 * inLength + 1; }\n\n        for (let i = 0; i < this.in.length; ++i) {\n            this.in[i].vec = new NVector3(this.vec.x, this.vec.y + i * 20 + 10);\n            this.in[i].UpdateWirePos();\n        }\n        for (let i = 0; i < this.out.length; ++i) {\n            this.out[i].vec = new NVector3(this.vec.x + this.width, this.vec.y + i * 20 + 10);\n            this.out[i].UpdateWirePos();\n        }\n        this.height = theHeight;\n    }\n    // Remove() {\n    //     for (let i = 0; i < this.in.length; ++i) {\n    //         this.in[i].Remove();\n    //     }\n    //     for (let i = 0; i < this.out.length; ++i) {\n    //         this.out[i].Remove();\n    //     }\n    //     CBlockRenderer.Remove(this);\n    // }\n    // MouseDouble(e: MouseEventData) {\n    //     this.Toggle = !this.Toggle;\n    // }\n    // Solver() {\n    //     /* */\n    // }\n    // Translate(e: MouseEventData): void {\n    //     if (!this.isMoveable) { return; }\n    //     let xo = e.x - e.preX;\n    //     let yo = e.y - e.preY;\n    //     this.vec.x += xo;\n    //     this.vec.y += yo;\n    //     for (let i = 0; i < this.boundarVecs.length; ++i) { this.boundarVecs[i].x += xo; this.boundarVecs[i].y += yo; }\n    //     // this.in.vec = new NVector3(this.vec.x, this.vec.y + (this.height * 0.5));\n    //     // this.out.vec = new NVector3(this.vec.x + this.width, this.vec.y + (this.height * 0.5));\n    //     // this.in.UpdateWirePos();\n    //     // this.out.UpdateWirePos();\n    //     // this.panel.UpdatePos();\n    //     this.UpdateIOPos();\n    // }\n    DeepCopy() {\n        // let db = new DBHeader(this.vec.x + 20, this.vec.y + 20, 0);\n        // db.title = this.title;\n        // db.width = this.width;\n        // db.uuid = MathUtility.GetUUID();\n    }\n    RenderPost(ctx: CanvasRenderingContext2D): void {\n        this.ComputeBoundary();\n        CBlockPreset.RoundedRectFill(ctx, this.style, this.boundarVecs, this.filletR, 0, this.isOver, this.isSelected);\n        CBlockPreset.Title(ctx, this.vec, this.width, this.height, this.title, this.isOver);\n        if (this.isSelected) { CBlockPreset.RoundedRectFill(ctx, this.style, this.GetBoundaryPanelVecs(), this.filletR); }\n    }\n    // ....................................................\n    Icon() {\n        /* */\n    }\n    SetInput(data: DataParam) {\n        data.AddNumberParameter('x', 0, 10, 5);\n    }\n    SetOutPut(data: DataParam) {\n        /* */\n    }\n    Solver() {\n        /* */\n    }\n}","import { MouseEventData, CLICKTYPE } from '../lib/MouseInteraction';\nimport { KeyboardEventData, PRESSTYPE } from '../lib/KeyboardInteraction';\n\nimport { AppDrawingBlock } from '../AppDrawingBlock';\n\n// import { GraphicApp } from '../../index';\n\nimport { CBlockRenderer } from './CBlockRenderer';\n\nimport { BlockArithmetic } from '../CUIBlock/Block/BlockArithmetic';\nimport { BlockPointRgular } from '../CUIBlock/Block/BlockPointRgular';\nimport { BlockCircle } from '../CUIBlock/Block/BlockCircle';\nimport { BlockSliderNumber } from '../CUIBlock/Block/BlockSliderNumber';\nimport { BlockColorPalette } from '../CUIBlock/Block/BlockColorPalette';\nimport { BlockNGon } from '../CUIBlock/Block/BlockNGon';\n\nimport { BlockACircle } from '../CUIBlock/Block/BlockACircle';\n\nimport { BlockColorRemap } from '../CUIBlock/Block/BlockColorRemap';\nimport { BlockTimeSlider } from '../CUIBlock/Block/BlockTimeSlider';\n\nimport { GraphChartFramerate } from '../CChart/GraphChartFramerate';\nimport { CHistogram } from '../CChart/CHistogram';\nimport { CDescribe } from '../CChart/CDescribe';\nimport { CScatter } from '../CChart/CScatter';\nimport { CPieChart } from '../CChart/CPieChart';\nimport { CLineChart } from '../CChart/CLineChart';\nimport { CBarChart } from '../CChart/CBarChart';\nimport { CAreaChart } from '../CChart/CAreaChart';\n\nimport { CBlockBody } from '../CBlock/Core/CBlockBody';\n\nimport { BlockFeatureLayer } from '../CUIBlock/Block/BlockFeatureLayer';\n\nexport class ActiveCommandDrawingBlock {\n    appDrawingBlock: AppDrawingBlock;\n\n    constructor(appDrawingBlock: AppDrawingBlock) {\n        this.appDrawingBlock = appDrawingBlock;\n    }\n    MouseEventControl(e: MouseEventData) {\n        // console.log(e.CLICKTYPE);\n        if (e.CLICKTYPE === CLICKTYPE.LEFT) {\n            this.MouseLeftClickPre(e); return;\n        } else if (e.CLICKTYPE === CLICKTYPE.MIDDLE) {\n            this.MouseMiddleClickPre(e); return;\n        } else if (e.CLICKTYPE === CLICKTYPE.RIGHT) {\n            this.MouseRightClickPre(e); return;\n        } else if (e.CLICKTYPE === CLICKTYPE.DOUBLE) {\n            this.MouseDoubleClickPre(e); return;\n        } else if (e.CLICKTYPE === CLICKTYPE.MOVE) {\n            this.MouseMovePre(e); return;\n        } else if (e.CLICKTYPE === CLICKTYPE.DRAG) {\n            this.MouseDragPre(e); return;\n        } else if (e.CLICKTYPE === CLICKTYPE.DOWN) {\n            this.MouseDownPre(e); return;\n        } else if (e.CLICKTYPE === CLICKTYPE.UP) { this.MouseUpPre(e); return; }\n    }\n    KeyboardEventControl(k: KeyboardEventData) {\n\n        if (k.PRESSTYPE === PRESSTYPE.DOWN) {\n            if (k.keyCode === 8) {\n                CBlockRenderer.RemoveAllCapturedBlock();\n            }\n            this.keydownPre(k);\n        } else if (k.PRESSTYPE === PRESSTYPE.UP) { this.keyUpPre(k); }\n    }\n    // ........................................................................\n    MouseLeftClick(e: MouseEventData) { /* */ }\n    MouseLeftClickPre(e: MouseEventData) {\n        CBlockRenderer.MouseLeft(e);\n        this.MouseLeftClick(e);\n    }\n    MouseMiddleClick(e: MouseEventData) { /* */ }\n    MouseMiddleClickPre(e: MouseEventData) {\n        // CBlockRenderer.MouseMiddle(e);\n        this.MouseMiddleClick(e);\n    }\n    MouseRightClick(e: MouseEventData) { /* */ }\n    MouseRightClickPre(e: MouseEventData) {\n        this.MouseRightClick(e);\n    }\n    MouseDoubleClick(e: MouseEventData) { /* */ }\n    MouseDoubleClickPre(e: MouseEventData) {\n        CBlockRenderer.MouseDouble(e);\n        this.MouseDoubleClick(e);\n    }\n    MouseMove(e: MouseEventData) { /* */ }\n    MouseMovePre(e: MouseEventData) {\n        CBlockRenderer.MouseMove(e);\n        this.MouseMove(e);\n    }\n    MouseDrag(e: MouseEventData) { /* */ }\n    MouseDragPre(e: MouseEventData) {\n        CBlockRenderer.MouseDrag(e);\n        this.MouseDrag(e);\n    }\n    MouseDown(e: MouseEventData) { /* */ }\n    MouseDownPre(e: MouseEventData) {\n        CBlockRenderer.MouseDown(e);\n        this.MouseDown(e);\n    }\n    MouseUp(e: MouseEventData) { /* */ }\n    MouseUpPre(e: MouseEventData) {\n        CBlockRenderer.MouseUp(e);\n        this.MouseUp(e);\n    }\n    // ........................................................................\n    keydown(k: KeyboardEventData) { /* */ }\n    keydownPre(k: KeyboardEventData) {\n        // ............................................... keyboard disable\n        if (!k.hasCtrlKey && !k.hasShiftKey) { return; }\n\n        this.keydown(k);\n    }\n    keyUp(k: KeyboardEventData) { /* */ }\n    keyUpPre(k: KeyboardEventData) {\n        // if (k.keyCode === 66) { this.acs.appDrawing.cBlockController.IsHidden = !this.acs.appDrawing.cBlockController.IsHidden; } // b for block menu\n        // if (k.keyCode === 70) { CBlockRenderer.isHidden = !CBlockRenderer.isHidden; }\n        this.keyUp(k);\n    }\n\n    GetColorRamp() { let d = new BlockColorRemap(100, 100); d.Dummy(); }\n    GetColorPalette() { let d = new BlockColorPalette(100, 100); d.Dummy(); }\n\n    GetTimeslider() { let d = new BlockTimeSlider(100, 100); d.Dummy(); }\n\n    GetFramerate() { let d = new GraphChartFramerate(100, 100); d.Dummy(); }\n\n    // ................................................................. chart\n    GetSeries() { let d = new CBlockBody('Series', 100, 100); d.Dummy(); }\n\n    // ................................................................. chart\n    GetChartSummary() { let d = new CDescribe(100, 100); d.Dummy(); }\n    GetChartHistogram() { let d = new CHistogram(100, 100); d.Dummy(); }\n    GetChartBar() { let d = new CBarChart(100, 100); d.Dummy(); }\n    GetChartArea() { let d = new CAreaChart(100, 100); d.Dummy(); }\n    GetChartLine() { let d = new CLineChart(100, 100); d.Dummy(); }\n    GetChartPie() { let d = new CPieChart(100, 100); d.Dummy(); }\n    GetChartScatter() { let d = new CScatter(100, 100); d.Dummy(); }\n\n    // ................................................................. data processing\n    GetDataFeatureLayer() { let d = new BlockFeatureLayer(); d.Dummy(); }\n    // GetChartHistogram() { let d = new CHistogram(100, 100); d.Dummy(); }\n    // GetChartBar() { let d = new CBarChart(100, 100); d.Dummy(); }\n    // GetChartArea() { let d = new CAreaChart(100, 100); d.Dummy(); }\n    // GetChartLine() { let d = new CLineChart(100, 100); d.Dummy(); }\n    // GetChartPie() { let d = new CPieChart(100, 100); d.Dummy(); }\n    // GetChartScatter() { let d = new CScatter(100, 100); d.Dummy(); }\n\n    // // ................................................................. Math\n    // GetMathPlus() { let d = new BlockArithmetic(GraphicApp.app.width * 0.5, GraphicApp.app.height * 0.5, '+'); d.Dummy(); }\n    // GetMathMinus() { let d = new BlockArithmetic(GraphicApp.app.width * 0.5, GraphicApp.app.height * 0.5, '-'); d.Dummy(); }\n    // GetMathMultply() { let d = new BlockArithmetic(GraphicApp.app.width * 0.5, GraphicApp.app.height * 0.5, 'X'); d.Dummy(); }\n    // GetMathDivision() { let d = new BlockArithmetic(GraphicApp.app.width * 0.5, GraphicApp.app.height * 0.5, '/'); d.Dummy(); }\n\n    // // ................................................................. Drawing \n    // GetGeometryACircle() { let d = new BlockACircle(GraphicApp.app.width * 0.5, GraphicApp.app.height * 0.5); d.Dummy(); }\n\n    // // ................................................................. Drawing\n    // GetGeometryRPoint() { let d = new BlockPointRgular(GraphicApp.app.width * 0.5, GraphicApp.app.height * 0.5); d.Dummy(); }\n    // GetGeometryCircle() { let d = new BlockCircle(GraphicApp.app.width * 0.5, GraphicApp.app.height * 0.5); d.Dummy(); }\n    // GetGeometryNGon() { let d = new BlockNGon(GraphicApp.app.width * 0.5, GraphicApp.app.height * 0.5); d.Dummy(); }\n\n    // // ................................................................. params\n    // GetParamsSlider() { let d = new BlockSliderNumber(GraphicApp.app.width * 0.5, GraphicApp.app.height * 0.5); d.Dummy(); }\n\n}","\nimport { NVector3 } from '../lib/NVector3';\n\nimport { Solution } from '../AppDrawingBlock';\nimport { CBlockRenderer } from './CBlockRenderer';\n// import { CVisualizationCommon } from '../CVisualization/CVisCommon';\n\n// import { COLORBLENDING } from '../../AppCore/Color/ColorUtility';\n// // import { CPoint } from './CGeometry/CPoint';\n\nexport class CBCanvas {\n    appDrawingBlock: Solution;\n    t: number;\n    canvasDynamic: HTMLCanvasElement;\n    canvasStatic: HTMLCanvasElement;\n    hostDiv: HTMLElement;\n    id: string;\n    ctxDynamic: CanvasRenderingContext2D;\n    ctxStatic: CanvasRenderingContext2D;\n    xOff: number;\n    yOff: number;\n    xOffCurrent: number;\n    yOffCurrent: number;\n    xOffPre: number;\n    yOffPre: number;\n    anchor: NVector3;\n    zoomFactor: number;\n    zoomFactorPre: number;\n    zoomFactorCurrent: number;\n    // theContext: CanvasRenderingContext2D;\n    // cGeometryRender: CGeometryRender;\n    div3d: HTMLDivElement;\n    smoothingEnabled: boolean = true;\n\n    cBlockRenderer: CBlockRenderer;\n\n    constructor(appDrawingBlock: Solution) {\n        this.appDrawingBlock = appDrawingBlock;\n        this.t = 0.0;\n        this.xOff = 0;\n        this.yOff = 0;\n        this.xOffCurrent = 0;\n        this.yOffCurrent = 0;\n        this.xOffPre = 0;\n        this.yOffPre = 0;\n        this.anchor = new NVector3(0, 0, 0);\n        this.Init(this.appDrawingBlock.divHost);\n    }\n    Init(hostDiv: HTMLElement) { //  esri-view-surface\n        this.hostDiv = hostDiv;\n        this.canvasDynamic = document.createElement('canvas');\n        this.canvasDynamic.id = 'CanvasBlock';\n        this.canvasDynamic.style.zIndex = '7';\n        this.canvasDynamic.style.position = 'absolute';\n        this.canvasDynamic.className = 'esri-display-object';\n        // this.canvasDynamic.style[`mixBlendMode`] = COLORBLENDING.HARD_LIGHT;\n        this.ctxDynamic = this.canvasDynamic.getContext('2d') as CanvasRenderingContext2D;\n        this.hostDiv.appendChild(this.canvasDynamic);\n        // this.canvasDynamic.width = this.appDrawingBlock.graphicApp.width;\n        // this.canvasDynamic.height = this.appDrawingBlock.graphicApp.height;\n\n        this.InitPost();\n    }\n    InitWithCustomContext(ctx: CanvasRenderingContext2D) { //  esri-view-surface\n        // this.canvas = document.createElement('canvas');\n        // this.context = ctx\n        // this.context.globalCompositeOperation = 'source-over';\n        this.InitPost();\n    }\n    InitPost() {\n        window.onresize = event => {\n            // this.canvasDynamic.width = this.appDrawingBlock.graphicApp.width;\n            // this.canvasDynamic.height = this.appDrawingBlock.graphicApp.height;\n\n            // this.canvasStatic.width = this.hostDiv.clientWidth;\n            // this.canvasStatic.height = this.hostDiv.clientHeight;\n        };\n\n        this.cBlockRenderer = new CBlockRenderer(this);\n        // this.cVisualization = new CVisualization(this);\n        this.Start(this.ctxDynamic);\n        this.Draw(this);\n        // setInterval(function () { self.Draw(self); }, this.frameRate);\n        // setInterval(() => { this.Draw(this); }, this.frameRate);\n    }\n    Draw(self: CBCanvas) {\n        console.log('rendering...');\n        // this.ctxDynamic.clearRect(0, 0, this.appDrawingBlock.graphicApp.width, this.appDrawingBlock.graphicApp.height);\n        this.Update(this.ctxDynamic);\n        this.cBlockRenderer.Render(this.ctxDynamic);\n        requestAnimationFrame(() => { this.Draw(this); });\n    }\n    Start(ctx: CanvasRenderingContext2D) {\n        // console.log('canvas start')\n        /* */\n    }\n    Update(ctx: CanvasRenderingContext2D) {\n        // /* sample!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n          ctx.globalAlpha=0.8;\n          ctx.fillStyle='red';\n        //   ctx.fillRect(20+self.t,20,75,50);\n          // Turn transparency on\n        //   ctx.opacity =0.2;\n          ctx.fillStyle='blue';\n          ctx.fillRect(500+this.t,500+this.t,750,500);\n          ctx.fillStyle='green';\n          ctx.fillRect(80,80,75+this.t,50);\n        //   for(let i = 0; i < CPoint.list.length; ++i){\n        //       CPoint.list[i].Render(ctx);\n        //   }\n        //   CDrawing.PointGrid(this);\n          //CDrawing.PanBG(self);\n          this.t+=0.001;\n        //   */\n    }\n    //   OnMouseDown(e) {}\n    //   OnMouseUp(e) {}\n    //   OnMouseMove(e) {}\n    // ................................................ static\n    Destroy() {\n        console.log('destroy')\n        CBlockRenderer.list = [];\n        if (this.canvasDynamic.parentNode) { this.canvasDynamic.parentNode.removeChild(this.canvasDynamic); }\n    }\n}","// import { GraphicApp } from '../index';\nimport { ACControllerInterface } from './lib/ACController';\nimport { MouseInteraction, MouseEventData } from './EventInteraction/MouseInteraction';\nimport { KeyboardInteraction, KeyboardEventData } from './EventInteraction/KeyboardInteraction';\n\nimport { ActiveCommandDrawingBlock } from './Core/ActiveCommandDrawingBlock';\n\nimport { CBCanvas } from './Core/CBCanvas';\n\nimport { CBlockRenderer } from './Core/CBlockRenderer';\n\nexport interface AppDrawingBlockInterface {\n    // static app: AppDrawing;\n    // graphicApp: GraphicApp;\n    mouseInteraction: MouseInteraction;\n    keyboardInteraction: KeyboardInteraction;\n    activeCommandDrawingBlock: ActiveCommandDrawingBlock;\n\n    MouseInteraction(m: MouseEventData): void;\n    KeyboardInteraction(k: KeyboardEventData): void;\n    Destroy(): void;\n}\n\nexport class Solution implements ACControllerInterface, AppDrawingBlockInterface {\n    static app: Solution;\n\n    divHost: HTMLDivElement;\n    // graphicApp: GraphicApp;\n    mouseInteraction: MouseInteraction;\n    keyboardInteraction: KeyboardInteraction;\n    activeCommandDrawingBlock: ActiveCommandDrawingBlock;\n\n    canvasDB: CBCanvas;\n    cBlockRenderer: CBlockRenderer;\n    // .................................................. this is the app instance\n    static Init(div: HTMLDivElement) {\n        Solution.app = new Solution(div);\n    }\n    // .................................................. end the app instance\n\n    constructor(div: HTMLDivElement) {\n        this.divHost = div;\n        // this.graphicApp = graphicApp;\n        // this.graphicApp.appDrawingBlock = this;\n        this.canvasDB = new CBCanvas(this);\n        this.activeCommandDrawingBlock = new ActiveCommandDrawingBlock(this);\n        // this.graphicApp.ACController.AddController(this);\n        console.log('done');\n\n    }\n    Render(ctx: CanvasRenderingContext2D) {\n        this.cBlockRenderer.Render(ctx);\n    }\n    MouseInteraction(m: MouseEventData): void {\n        this.activeCommandDrawingBlock.MouseEventControl(m);\n    }\n    KeyboardInteraction(k: KeyboardEventData): void {\n        this.activeCommandDrawingBlock.KeyboardEventControl(k);\n    }\n    Destroy() {\n        // this.graphicApp.ACController.RemoveController(this);\n        \n    }\n    public destroy() {\n        // window.removeEventListener('resize', this.resize);\n        this.canvasDB.Destroy();\n        try {\n            while (this.divHost !== undefined && this.divHost.lastElementChild !== undefined) {\n                this.divHost.removeChild(this.divHost.lastElementChild);\n            }\n        } catch (error) { }\n    }\n}"],"names":["CLICKTYPE","PRESSTYPE","EVENT_LISTENER_TYPE","BLOCK_TYPE","MouseEventData","constructor","x","y","z","preX","preY","preZ","yGLPicking","MOVE","isDown","isDoubleClick","isMove","pressedShift","pressedAlt","pressedCtrl","lat","long","wheel","preWheel","premEvent","native","MouseInteraction","static","mouseEventData","isEnable","click","prevent","delay","timer","down","e","mouseEventDataPre","InitNativeMouseWheelEvent","div","InitNativeMouseEvent","undefined","document","onclick","this","setTimeout","MouseClick","ondblclick","clearTimeout","MouseDoubleClick","onmousedown","MouseDown","onmouseup","MouseUp","onmousemove","MouseMove","mEvent","CommonEventBuilder","DOWN","MouseEvent","button","LEFT","MIDDLE","RIGHT","DOUBLE","MouseDrag","DRAG","buttons","DRAG_MIDDLE","DRAG_RIGHT","UP","MouseWheel","v","WHEEL","AppendDownEvent","AppendUpEvent","shiftKey","altKey","ctrlKey","offsetX","offsetY","MouseEventListener","mouseDown","mouseClick","mouseDoubleClick","mouseDrag","mouseMove","mouseUp","KeyboardEventData","preEvent","key","hasAltKey","hasCtrlKey","hasShiftKey","hasMetaCommand","code","keyCode","KeyboardInteraction","keyboardEventData","isUp","Init","MouseEventDataPre","onkeydown","k","KeyDown","onkeypress","KeyPress","onkeyup","KeyUp","kEventData","KeyEvent","KeyUpJSAPI4X","kEvent","metaKey","type","NVector3","ele","proX","proY","proZ","a","b","s","out","v0","v1","DeepCopy","v2","Math","sqrt","len","vs","area","i","length","abs","n","xOff","yOff","zOff","j","push","gV0","gV1","dLat","PI","dLon","sin","cos","atan2","addition","dis","KMeterFromGPSPos","lng","Get1KM_Long_ByGeoUnit","la","Get1KM_lat_ByGeoUnit","pt","attractor","strength","falloff","dist","Sub","Length","exp","Unitize","Mult","Explosion","rotor","Origin","DotProduct","Normalize","acos","GetCosAngleByTwoVectors","GetAngleByTwoVectorsRadian","origin","GetAngleByTwoVectors","m","boundary","GetBoundingVecs","vec","GetCloseVec","Distance","p0","p1","vecsBound","OnLine","pp1","cp","Add","IsInsideOfVecs","listOfVec","nv0","nv1","width","height","boundarVecsSub","xMin","Number","MAX_SAFE_INTEGER","yMin","zMin","xMax","MIN_SAFE_INTEGER","yMax","zMax","minX","MAX_VALUE","minY","minZ","maxX","MIN_VALUE","maxY","maxZ","tor","vecs","d","inside","xi","yi","xj","yj","ConvexHull","sort","lower","Cross","pop","upper","O","A","B","ax","ay","az","bx","by","bz","p2","p3","denominator","numerator1","numerator2","onLine0","onLine1","result","p","u","res","tmp","newres","dir","temp","MoveVec","angle","cptToLocal","GetCenterVecFromVecs","cptToWorld","MoveVecs","RotateVecs","RotateVec","nv","c","newVes","CheckLineIntersection","eps","v3","isNaN","between","w","alt","isModified","Set","Scale","Div","Negate","Equals","Clone","Distance2","CrossProduct","SquareLength","FadeExp","attr","dVal","GetAngle","GetAngleDegree","ToJSON","ToString","toFixed","toString","ToFloat32Array","Float32Array","CBlockRenderer","g","list","splice","indexOf","capture","CONTROL_PANEL","Remove","RemovePanel","IsMouseInside","IsHover","isHidden","ui","FindAtPoint","MouseLeft","MouseRight","MouseDouble","CheckOvered","cBCanvas","Render","ctx","GetUUID","Date","getTime","replace","r","random","floor","GetIndexBySort","indices","Array","Remap","CValue","OldMin","OldMax","NewMin","NewMax","GetDomain","doubleList","Min","Max","COLORBLENDING","ColorUtility","num","modeListGL","console","log","h","visibility","toHex","decimalValue","places","hex","next","hexidecimal","hi","f","q","t","round","RGBToHex","color","map","join","thecol","isGray","parseInt","substring","substr","toUpperCase","visiblity","col","split","max","min","l","hue2rgb","pp","qq","colA","colB","factor","cA","cB","steps","step","interpolatedColors","InterpolateColor","rgb0","rgb1","RBGToArray","rgb","match","vA","vB","blend","val","modeList","ColorPreset","shadow","CChartPreset","title","isShadow","radius","save","lineWidth","beginPath","moveTo","lineTo","arcTo","closePath","strokeStyle","fillStyle","shadowBlur","shadowColor","shadowOffsetY","shadowOffsetX","fill","restore","isDark","HexToCanvasColor","BaseColor","stroke","text","rect","textBaseline","textAlign","font","fillText","ChartBase","value","boundarVecs","HeadHeight","divID","isSelected","isOver","isMoveable","style","filletR","colorBase","colorOver","colorText","isRender","transparent","Dummy","IsHidden","IsSelected","GetBoundaryVecs","theHeight","theWidth","ComputeBoundary","Translate","xo","yo","Move","HideToogle","Hide","RenderPost","GraphChartFramerate","super","data","datatSet","yOffForChart","isFillChart","RoundedRectFill","shift","RenderContinuousChart","ceil","RenderTitle","dataSet","newDset","ChartSubElementBase","colHover","colNormal","isHover","Popup","PopupForBin","Bin","cHistogram","xInterval","offSet","RenderBar","CHistogram","bins","numBin","hasBin","InitTop","InitHist","dLengthSet","InitBin","BinOffset","dataSetNorm","valueOut","domain","ReMapNomalize","xx","yy","RenderHead","RenderHeadTitle","TopRoundedRectFill","dHist","CDescribe","dDescribe","Dot","cScatter","size","dotHover","arc","CScatter","vertA","vertB","vertC","dots","InitScatter","dA","dB","dC","aMin","bMin","cMin","aMax","bMax","cMax","ComputeDots","isDothover","RenderChart","Arc","cPieChart","start","end","vsCollision","InitCollisionVec","circleVer","sAngle","eAngle","iter","GetArcVec","arcHover","globalAlpha","lineDashOffset","setLineDash","CPieChart","cVec","offsetCircle","colorSet","arcs","InitPieChart","ParseData","dSet","AddDatatSet","ComputeCenter","GetRandomColor","isArchover","RenderPieChart","CLineChart","dX","dY","dXIndex","skipNum","InitLineChart","skipNumber","CBarChart","CAreaChart","dT","dX01","dX02","dX03","tMin","tMax","TYPE","CBlockBase","id","toggle","heightPanel","vecsPanel","Toggle","GetBoundaryPanelVecs","CBlockPreset","isSel","styleFill","stylefillSelected","styleStroke","NumericalMotion","pow","t1","scaledTime","scaledTime1","magnitude","scaledTime2","asin","easeOutBounce","easeInBounce","CBlockIO","host","name","typeIO","isConnected","in","hasError","io","RemoveLink","UpdatePosByHost","UpdateWirePos","ic","SetLink","OUT","UpdateToOtherLinks","UpdateByinOut","IN","RenderWire","bezierCurveTo","DataParam","cBlockBody","cBlockIO","AddNumberParameter","AddGeometryParameter","CBlockBody","uuid","inData","outData","SetInput","SetOutPut","AddInput","UpdateIOPos","AddOutput","inLength","outLength","Title","Icon","Solver","ActiveCommandDrawingBlock","appDrawingBlock","MouseEventControl","MouseUpPre","MouseDownPre","MouseDragPre","MouseMovePre","MouseDoubleClickPre","MouseRightClickPre","MouseMiddleClickPre","MouseLeftClickPre","KeyboardEventControl","keydownPre","keyUpPre","MouseLeftClick","MouseMiddleClick","MouseRightClick","keydown","keyUp","GetColorRamp","BlockColorRemap","GetColorPalette","BlockColorPalette","GetTimeslider","BlockTimeSlider","GetFramerate","GetSeries","GetChartSummary","GetChartHistogram","GetChartBar","GetChartArea","GetChartLine","GetChartPie","GetChartScatter","GetDataFeatureLayer","BlockFeatureLayer","CBCanvas","canvasDynamic","canvasStatic","hostDiv","ctxDynamic","ctxStatic","xOffCurrent","yOffCurrent","xOffPre","yOffPre","anchor","zoomFactor","zoomFactorPre","zoomFactorCurrent","div3d","smoothingEnabled","cBlockRenderer","divHost","createElement","zIndex","position","className","getContext","appendChild","InitPost","InitWithCustomContext","window","onresize","event","Start","Draw","self","Update","requestAnimationFrame","fillRect","Destroy","parentNode","removeChild","Solution","app","mouseInteraction","keyboardInteraction","activeCommandDrawingBlock","canvasDB","destroy","lastElementChild","error"],"sourceRoot":""}