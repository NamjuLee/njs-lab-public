"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[2284],{72284:function(e,t,o){o.r(t),o.d(t,{Solution:function(){return u}});var n=o(15671),s=o(43144),r=o(60136),a=o(29388),i=o(51207),l=o(87968),u=function(e){(0,r.Z)(o,e);var t=(0,a.Z)(o);function o(e){var s;(0,n.Z)(this,o),(s=t.call(this,e)).pts=[],s.routesMain=[],s.routesTreated=[],s.routesControl=[];var r=document.createElement("canvas");r.id="layer",r.width=s.mView.container.clientWidth,r.height=s.mView.container.clientHeight,r.style.background="rgba(0, 15, 0, 0.6)",r.style.position="absolute",r.style.pointerEvents="none",s.mView.container.appendChild(r);var a="/static/research/slow-zone/";return(0,l.getCSVFromURL)("/njslabs"+a+"high_low_connectedness_user.csv").then((function(e){var t=e.split(/\r\n|\r|\n/g);console.log(t);for(var o=1;o<t.length;++o){var n=t[o].split(","),r=+n[3],a=+n[4];0===r&&0===a||s.pts.push([r,a])}console.log(s.pts),s.center(2.3375387,48.8606701),s.zoom(12)})),(0,l.getJSONFromURL)("/njslabs"+a+"Paris-main-st.geojson").then((function(e){for(var t=0;t<e.features.length;++t)s.routesMain.push(e.features[t].geometry.coordinates)})),(0,l.getJSONFromURL)("/njslabs"+a+"treated-st.geojson").then((function(e){for(var t=0;t<e.features.length;++t)s.routesTreated.push(e.features[t].geometry.coordinates)})),(0,l.getJSONFromURL)("/njslabs"+a+"control-st.geojson").then((function(e){for(var t=0;t<e.features.length;++t)s.routesControl.push(e.features[t].geometry.coordinates)})),s.start(),s}return(0,s.Z)(o,[{key:"render",value:function(e){e.globalCompositeOperation="screen",h(e,this.routesMain,"#00FFFF",.5,this.toScreen),h(e,this.routesControl,"#ff0000",.5,this.toScreen),h(e,this.routesTreated,"#00ff00",.5,this.toScreen);for(var t=0;t<this.pts.length;++t){var o=this.toScreen(this.pts[t][0],this.pts[t][1]);c(e,o[0],o[1],this.time+3,"rgba(255, 0, 0, 0.85)")}}},{key:"keyDown",value:function(e){console.log("key pressed",e)}},{key:"mouseDown",value:function(e,t){console.log("mouse down")}},{key:"mouseUp",value:function(e,t){console.log("mouse up")}},{key:"mouseClick",value:function(e,t){console.log(e,t);var o=this.toMap(e,t);this.pts.push(o)}},{key:"mouseMove",value:function(e,t){}}]),o}(i.J0),c=function(e,t,o,n,s){e.fillStyle=s,e.beginPath(),e.arc(t,o,2*(Math.sin(.8*n)+4),0,2*Math.PI),e.closePath(),e.fill()},h=function(e,t,o,n,s){e.strokeStyle=o;for(var r=0;r<t.length;++r)for(var a=t[r],i=0;i<a.length;++i){var l=s(a[i][0][0],a[i][0][1]),u=new Path2D;u.moveTo(l[0],l[1]);for(var c=1;c<a[i].length;++c)l=s(a[i][c][0],a[i][c][1]),u.lineTo(l[0],l[1]);e.lineWidth=n,e.stroke(u)}}}}]);
//# sourceMappingURL=2284.6579b3eb.chunk.js.map