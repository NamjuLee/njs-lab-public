"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[35261],{35261:(t,i,s)=>{s.r(i),s.d(i,{Solution:()=>h});var e=s(17760),n=s(55913),o=s(81412);class h extends n.TF{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main"),this.pointLight=void 0,this.raycaster=new e.iMs,this.mouse=new e.FM8,this.m=new e.Pa4,this.sphere=void 0,this.obj=[],this.points=[],this.delaunay=void 0,this.geometry=void 0,this.material=void 0,this.mesh=void 0,this.pointGeometry=void 0,this.pointMaterial=void 0,this.dummy=void 0,this.pointsMesh=void 0,this.gui=void 0,this.params=void 0;const t=new e.Mig(5592405);this.scene.add(t),this.pointLight=new e.cek(16777215,100),this.pointLight.position.x=10,this.pointLight.castShadow=!0,this.scene.add(this.pointLight);const i=new e.y8_(5);i.position.y=.001,this.scene.add(i),this.scene.add(new e.VLJ(10,10)),this.gui=new o.ZP.GUI,this.params={numPoints:100,k:2},this.gui.add(this.params,"numPoints",10,500).step(1).name("Number of Points"),this.gui.add(this.params,"k",3,20).step(1).name("K (Concavity)"),this.initPost(),this.start()}initPost(){let t,i;(()=>{t&&this.scene.remove(t),i&&this.scene.remove(i);const s=(n=this.params.numPoints,o=2,h=2,r=2,Array.from({length:n},(()=>new a(Math.random()*o-o/2,Math.random()*h-h/2,Math.random()*r-r/2))));var n,o,h,r;const m=function(t,i){if(t.length<4)return t;let s=t.reduce(((t,i)=>i.z<t.z?i:t)),e=[s],n=s,o=new a(n.x-1,n.y,n.z);do{let h=d(n,t,i),a=h[0];for(let t=1;t<h.length;t++){p(o,n,h[t])>p(o,n,a)&&(a=h[t])}if(a===s)break;e.push(a),o=n,n=a}while(n!==s);return e}(s,this.params.k),c=new e.u9r,l=new Float32Array(3*s.length);s.forEach(((t,i)=>{l[3*i]=t.x,l[3*i+1]=t.y,l[3*i+2]=t.z})),c.setAttribute("position",new e.TlE(l,3));const u=new e.UY4({color:255,size:.1});t=new e.woe(c,u),this.scene.add(t);const y=new e.u9r,w=new Float32Array(3*m.length);m.forEach(((t,i)=>{w[3*i]=t.x,w[3*i+1]=t.y,w[3*i+2]=t.z})),y.setAttribute("position",new e.TlE(w,3));const g=new e.nls({color:16711680});i=new e.blk(y,g),this.scene.add(i)})()}createPointsMesh(){this.pointsMesh=new e.SPe(this.pointGeometry,this.pointMaterial,this.points.length),this.updatePointsMesh()}updatePointsMesh(){for(let t=0;t<this.points.length;t++)this.dummy.position.copy(this.points[t]),this.dummy.updateMatrix(),this.pointsMesh.setMatrixAt(t,this.dummy.matrix);this.pointsMesh.instanceMatrix.needsUpdate=!0}generatePoints(){for(let t=0;t<50;t++)this.points.push(new e.Pa4(4*Math.random()-2,4*Math.random()-2,1*Math.random()-.5))}updatePoints(){for(let t of this.points)t.x+=.01*(Math.random()-.5),t.y+=.01*(Math.random()-.5),t.z+=.01*(Math.random()-.5)}add(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.scene.add(t),i&&this.obj.push(t)}mouseMove(t){this.picking(t)}picking(t){this.mouse.x=t.offsetX/this.renderer.domElement.clientWidth*2-1,this.mouse.y=-t.offsetY/this.renderer.domElement.clientHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);const i=this.raycaster.intersectObjects(this.obj);if(i.length>0)return this.m.set(i[0].point.x,i[0].point.y,i[0].point.z),i[0].object!==this.sphere&&this.sphere.position.set(i[0].point.x,i[0].point.y,i[0].point.z),i}mouseClick(t){this.picking(t)}update(t){}destroy(){for(this.gui.destroy();this.hostDiv.lastElementChild;)this.hostDiv.removeChild(this.hostDiv.lastElementChild)}}class a{constructor(t,i,s){this.x=t,this.y=i,this.z=s}}function r(t,i){return Math.sqrt((t.x-i.x)**2+(t.y-i.y)**2+(t.z-i.z)**2)}function d(t,i,s){return i.filter((i=>i!==t)).sort(((i,s)=>r(t,i)-r(t,s))).slice(0,s)}function p(t,i,s){const n=new e.Pa4(i.x-t.x,i.y-t.y,i.z-t.z),o=new e.Pa4(s.x-i.x,s.y-i.y,s.z-i.z);return n.angleTo(o)}}}]);
//# sourceMappingURL=35261.e6352736.chunk.js.map