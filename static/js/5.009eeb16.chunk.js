"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[5],{20005:function(e,t,n){n.r(t),n.d(t,{Solution:function(){return u}});var i=n(74165),s=n(15861),a=n(37762),o=n(15671),r=n(43144),h=n(60136),l=n(29388),c=n(61250),f=(n(64355),n(38966)),u=function(e){(0,h.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;(0,o.Z)(this,n);var s=document.getElementById(e),r=document.createElement("div");return(i=t.call(this,r)).t=0,i.xpos=100,i.ypos=100,i.xspeed=10,i.yspeed=10,i.xdirection=1,i.ydirection=1,i.rad=50,i.vs=[],i.selVec=void 0,i.col=["#ff0000","#00ff00","#0000ff","#00fff0","#ff0000","#fff000","#0fff00"],i.tfLinearRegression=[],i.container=void 0,s.appendChild(r),r.id="container-lab",r.style.alignItems="center",r.style.marginTop="50px",r.style.marginLeft="auto",r.style.marginRight="auto",r.style.width="600px",r.style.height="600px",i.container=r,i.canvas.width=600,i.canvas.height=600,i.tfLinearRegression.push(new f.PE(1)),i.tfLinearRegression.push(new f.PE(2)),i.tfLinearRegression.push(new f.PE(3)),i.tfLinearRegression.push(new f.PE(4)),v().then((function(e){var t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;e.map((function(e){var i=e.horsepower;i>n&&(n=i),i<t&&(t=i);var a=e.mpg;a>o&&(o=a),a<s&&(s=a)}));var r,h=(0,a.Z)(e);try{for(h.s();!(r=h.n()).done;){var l=r.value,c=l.horsepower,u=l.mpg;i.vs.push(new f.P((0,f.a2)(c,t,n,-.9,.9),(0,f.a2)(u,s,o,-.9,.9)))}}catch(v){h.e(v)}finally{h.f()}})),i.initUI(),i.start(),i}return(0,r.Z)(n,[{key:"destroy",value:function(){this.isStatic=!0;try{for(;this.container.parentElement;)this.container.parentElement.removeChild(this.container);for(;void 0!==this.divHost&&void 0!==this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}catch(e){}}},{key:"render",value:function(e){this.RenderIndependentCanvas(e)}},{key:"mouseDown",value:function(e,t){for(var n=new f.P(this.mapX(e),this.mapY(t)),i=0;i<this.vs.length;++i)if(f.P.distanceTo(n,this.vs[i])<.05)return void(this.selVec=this.vs[i]);this.vs.push(new f.P(this.mapX(e),this.mapY(t)))}},{key:"mouseUp",value:function(e,t){}},{key:"mouseDrag",value:function(e,t){this.selVec&&(this.selVec.x=this.mapX(e),this.selVec.y=this.mapY(t))}},{key:"mouseClick",value:function(e,t){var n=new f.P(this.mapX(e),this.mapY(t));this.vs.push(new f.P(n.x,n.y))}},{key:"mouseMove",value:function(e,t){for(var n=void 0,i=new f.P(this.mapX(e),this.mapY(t)),s=0;s<this.vs.length;++s){f.P.distanceTo(i,this.vs[s])<.05&&(n=this.vs[s])}this.selVec=n||void 0}},{key:"keyDown",value:function(e){}},{key:"mapX",value:function(e){return(0,f.a2)(e,0,this.canvas.width,-1,1)}},{key:"mapY",value:function(e){return(0,f.a2)(e,0,this.canvas.height,1,-1)}},{key:"GridLine",value:function(e){e.strokeStyle="#555555";for(var t=this.canvas.width/20-1,n=this.canvas.height/20-1,i=0;i<20;i+=1){e.lineWidth=10===i?3:1;var s=t*i,a=0,o=s,r=this.canvas.height;e.beginPath(),e.moveTo(s,a),e.lineTo(o,r),e.stroke(),s=0,a=n*i,o=this.canvas.width,r=a,e.beginPath(),e.moveTo(s,a),e.lineTo(o,r),e.stroke()}}},{key:"RenderIndependentCanvas",value:function(e){this.t+=5;var t=Math.floor(this.t)<this.vs.length?Math.floor(this.t):this.vs.length;if(e.fillStyle="#222",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),this.GridLine(e),this.vs.length>1)for(var n=0;n<this.tfLinearRegression.length;++n){for(var i=[],s=[],a=0;a<this.vs.length;++a)i.push(this.vs[a].x),s.push(this.vs[a].y);this.tfLinearRegression[n].train(i,s),this.RenderLine(e)}e.fillStyle="#00ff00";for(var o=0;o<t;++o)e.beginPath(),e.arc((0,f.a2)(this.vs[o].x,-1,1,0,this.canvas.width),(0,f.a2)(this.vs[o].y,-1,1,this.canvas.height,0),5,0,2*Math.PI),e.closePath(),e.fill();this.selVec&&(e.fillStyle="#ffffff",e.font="15px Arial",e.textAlign="center",e.fillText("x:".concat(this.selVec.x.toFixed(3),", y").concat(this.selVec.y.toFixed(3)),(0,f.a2)(this.selVec.x,-1,1,0,this.canvas.width),(0,f.a2)(this.selVec.y,-1,1,this.canvas.height,0)-9))}},{key:"RenderLine",value:function(e){for(var t=this,n=function(n){for(var i=[],s=-1;s<=1;s+=.08)i.push(s);var a=c.lub((function(){return t.tfLinearRegression[n].predict(c.RRF(i))})),o=a.dataSync();a.dispose(),e.lineWidth=1,e.strokeStyle=t.col[n],e.beginPath(),e.moveTo((0,f.a2)(i[0],-1,1,0,t.canvas.width),(0,f.a2)(o[0],-1,1,t.canvas.height,0));for(var r=1;r<i.length;++r)e.lineTo((0,f.a2)(i[r],-1,1,0,t.canvas.width),(0,f.a2)(o[r],-1,1,t.canvas.height,0));e.stroke()},i=0;i<this.tfLinearRegression.length;++i)n(i)}},{key:"initUI",value:function(){var e=document.createElement("div");e.style.position="absolute",e.style.marginTop="600px",e.style.color="#ffffff";var t=document.createElement("p");t.textContent="click on this screen to add data",e.append(t),(t=document.createElement("p")).textContent="LinearRegression",t.style.marginTop="0px",t.style.marginBottom="0px",t.style.color=this.col[0],e.append(t),(t=document.createElement("p")).style.marginTop="0px",t.style.marginBottom="0px",t.style.color=this.col[1],t.textContent="Degree of polynomial - 2",e.append(t),(t=document.createElement("p")).style.marginTop="0px",t.style.marginBottom="0px",t.style.color=this.col[2],t.textContent="Degree of polynomial - 3",e.append(t),(t=document.createElement("p")).style.marginTop="0px",t.style.marginBottom="0px",t.style.color=this.col[3],t.textContent="Degree of polynomial - 4",e.append(t),this.divHost.append(e)}}]),n}(f.bb),v=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,n,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://storage.googleapis.com/tfjs-tutorials/carsData.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,s=n.map((function(e){return{mpg:e.Miles_per_Gallon,horsepower:e.Horsepower}})).filter((function(e){return null!=e.mpg&&null!=e.horsepower})),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=5.009eeb16.chunk.js.map