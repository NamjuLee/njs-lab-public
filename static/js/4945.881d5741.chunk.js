"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[4945],{94945:function(t,i,s){s.r(i),s.d(i,{Renderer:function(){return n},Solution:function(){return h}});var e=s(55913);class h{constructor(t){this.divHost=void 0,this.renderer=void 0,this.divHost=t,this.divHost.style.display="flex",this.divHost.style.alignItems="center";const i=document.createElement("div");i.style.marginLeft="auto",i.style.marginRight="auto",i.style.backgroundColor="#555",i.style.width="500px",i.style.height="500px",this.divHost.appendChild(i),this.renderer=new n(i)}destroy(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}class n extends e.bb{constructor(t){super(t),this.p0=void 0,this.p1=void 0,this.p2=void 0,this.p3=void 0,this.N=2,this.m=new o(0,0),this.down=!1,this.capture=void 0,this.ptsList=[],this.t=0,this.text=void 0,this.canvas.style.position="relative",this.canvas.style.width="100%",this.canvas.style.height="100%";const i=100;this.p0=new o(i,400),this.p1=new o(200,300),this.p2=new o(300,200),this.p3=new o(400,i),this.ptsList=[this.p1,this.p2];const s=a("N",1,10);s.slider.value="3",this.divHost.appendChild(s.div),s.slider.oninput=()=>{this.N=+s.slider.value,s.text.innerText="N: "+this.N},this.text=s.text,this.start()}mouseDown(t,i){this.m.x=t,this.m.y=i;for(let s=0;s<this.ptsList.length;++s){this.ptsList[s].distanceTo(this.m)<10&&(this.capture=this.ptsList[s])}}mouseUp(t,i){this.capture=void 0}mouseDrag(t,i){this.capture&&(this.capture.x=t,this.capture.y=i)}render(t){t.clearRect(0,0,t.canvas.width,t.canvas.height),this.p0.draw(t),this.p1.draw(t),this.p2.draw(t),this.p3.draw(t),t.beginPath(),t.rect(100,100,300,300),t.strokeStyle="#000",t.lineWidth=1,t.stroke();let i=[];for(let e=0;e<=20;++e){let t=l(this.p0,this.p1,this.p2,this.p3,.05*e);i.push(t)}t.strokeStyle="#00ffff",t.lineWidth=3,t.beginPath();for(let e=0;e<i.length-1;++e)t.moveTo(i[e].x,i[e].y),t.lineTo(i[1+e].x,i[1+e].y);t.stroke(),t.strokeStyle="#000",t.lineWidth=1,t.beginPath(),t.moveTo(this.p0.x,this.p0.y),t.lineTo(this.p1.x,this.p1.y),t.stroke(),t.beginPath(),t.moveTo(this.p2.x,this.p2.y),t.lineTo(this.p3.x,this.p3.y),t.stroke(),this.t++;const s=this.t*this.N*.02;if(s<1){let i=l(this.p0,this.p1,this.p2,this.p3,s);this.text.textContent="".concat(s),t.beginPath(),t.arc(50+s,i.y,5,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(100+300*s,450,5,0,2*Math.PI),t.fill()}else this.t=0}}class o{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=0,this.y=0,this.x=t,this.y=i}distanceTo(t){return Math.sqrt((t.x-this.x)*(t.x-this.x)+(t.y-this.y)*(t.y-this.y))}draw(t){t.fillStyle="#ffffff",t.beginPath(),t.arc(this.x,this.y,5,0,6.28318),t.closePath(),t.fill()}}const r=(t,i,s,e)=>new o(e*t.x+s*i.x,e*t.y+s*i.y),l=(t,i,s,e,h)=>{let n=1-h,o=r(t,i,h,n),l=r(i,s,h,n),a=r(s,e,h,n),d=r(o,l,h,n),p=r(l,a,h,n);return r(d,p,h,n)},a=(t,i,s)=>{const e=document.createElement("div");e.style.display="flex";const h=document.createElement("input");h.type="range",h.min="".concat(i),h.max="".concat(s);const n=document.createElement("div");return n.innerText=t,n.style.color="#aaa",e.appendChild(h),e.appendChild(n),{div:e,slider:h,text:n}}}}]);
//# sourceMappingURL=4945.881d5741.chunk.js.map