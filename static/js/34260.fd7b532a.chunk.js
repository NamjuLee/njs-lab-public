"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[34260],{34260:(e,t,s)=>{s.d(t,{ZP:()=>$s});var n={};s.r(n),s.d(n,{APIConnectionError:()=>E,APIConnectionTimeoutError:()=>P,APIError:()=>b,APIUserAbortError:()=>A,AuthenticationError:()=>R,BadRequestError:()=>S,ConflictError:()=>C,InternalServerError:()=>k,NotFoundError:()=>I,OpenAIError:()=>y,PermissionDeniedError:()=>x,RateLimitError:()=>O,UnprocessableEntityError:()=>T});const r="4.47.1";let i,o,a,l,c,d,h,u,f,p=!1,m=null,v=null,g=null,w=null;class _{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}i||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(p)throw new Error("you must `import 'openai/shims/".concat(e.kind,"'` before importing anything else from openai"));if(i)throw new Error("can't `import 'openai/shims/".concat(e.kind,"'` after `import 'openai/shims/").concat(i,"'`"));p=t.auto,i=e.kind,o=e.fetch,m=e.Request,v=e.Response,g=e.Headers,a=e.FormData,w=e.Blob,l=e.File,c=e.ReadableStream,d=e.getMultipartRequestOptions,h=e.getDefaultAgent,u=e.fileFromPath,f=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let s,n,r,i;try{s=fetch,n=Request,r=Response,i=Headers}catch(o){throw new Error("this environment is missing the following Web Fetch API type: ".concat(o.message,". ").concat(t))}return{kind:"web",fetch:s,Request:n,Response:r,Headers:i,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'FormData' is undefined. ".concat(t))}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'Blob' is undefined. ".concat(t))}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is undefined. ".concat(t))}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error("streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ".concat(t))}},getMultipartRequestOptions:async(e,t)=>({...t,body:new _(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class y extends Error{}class b extends y{constructor(e,t,s,n){super("".concat(b.makeMessage(e,t,s))),this.status=e,this.headers=n,this.request_id=null===n||void 0===n?void 0:n["x-request-id"];const r=t;this.error=r,this.code=null===r||void 0===r?void 0:r.code,this.param=null===r||void 0===r?void 0:r.param,this.type=null===r||void 0===r?void 0:r.type}static makeMessage(e,t,s){const n=null!==t&&void 0!==t&&t.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):s;return e&&n?"".concat(e," ").concat(n):e?"".concat(e," status code (no body)"):n||"(no status code or body)"}static generate(e,t,s,n){if(!e)return new E({cause:ve(t)});const r=null===t||void 0===t?void 0:t.error;return 400===e?new S(e,r,s,n):401===e?new R(e,r,s,n):403===e?new x(e,r,s,n):404===e?new I(e,r,s,n):409===e?new C(e,r,s,n):422===e?new T(e,r,s,n):429===e?new O(e,r,s,n):e>=500?new k(e,r,s,n):new b(e,r,s,n)}}class A extends b{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class E extends b{constructor(e){let{message:t,cause:s}=e;super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,s&&(this.cause=s)}}class P extends E{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:null!==e&&void 0!==e?e:"Request timed out."})}}class S extends b{constructor(){super(...arguments),this.status=400}}class R extends b{constructor(){super(...arguments),this.status=401}}class x extends b{constructor(){super(...arguments),this.status=403}}class I extends b{constructor(){super(...arguments),this.status=404}}class C extends b{constructor(){super(...arguments),this.status=409}}class T extends b{constructor(){super(...arguments),this.status=422}}class O extends b{constructor(){super(...arguments),this.status=429}}class k extends b{}class M{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let s=!1;return new M((async function*(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let n=!1;try{for await(const s of async function*(e,t){if(!e.body)throw t.abort(),new y("Attempted to iterate over a response with no body");const s=new B,n=new F,r=N(e.body);for await(const i of async function*(e){let t=new Uint8Array;for await(const s of e){if(null==s)continue;const e=s instanceof ArrayBuffer?new Uint8Array(s):"string"===typeof s?(new TextEncoder).encode(s):s;let n,r=new Uint8Array(t.length+e.length);for(r.set(t),r.set(e,t.length),t=r;-1!==(n=j(t));)yield t.slice(0,n),t=t.slice(n)}t.length>0&&(yield t)}(r))for(const e of n.decode(i)){const t=s.decode(e);t&&(yield t)}for(const i of n.flush()){const e=s.decode(i);e&&(yield e)}}(e,t))if(!n)if(s.data.startsWith("[DONE]"))n=!0;else if(null===s.event){let e;try{e=JSON.parse(s.data)}catch(r){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),r}if(e&&e.error)throw new b(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(s.data)}catch(r){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),r}if("error"==s.event)throw new b(void 0,e.error,e.message,void 0);yield{event:s.event,data:e}}n=!0}catch(r){if(r instanceof Error&&"AbortError"===r.name)return;throw r}finally{n||t.abort()}}),t)}static fromReadableStream(e,t){let s=!1;return new M((async function*(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let n=!1;try{for await(const t of async function*(){const t=new F,s=N(e);for await(const e of s)for(const s of t.decode(e))yield s;for(const e of t.flush())yield e}())n||t&&(yield JSON.parse(t));n=!0}catch(r){if(r instanceof Error&&"AbortError"===r.name)return;throw r}finally{n||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],s=this.iterator(),n=n=>({next:()=>{if(0===n.length){const n=s.next();e.push(n),t.push(n)}return n.shift()}});return[new M((()=>n(e)),this.controller),new M((()=>n(t)),this.controller)]}toReadableStream(){const e=this;let t;const s=new TextEncoder;return new c({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const i=s.encode(JSON.stringify(n)+"\n");e.enqueue(i)}catch(n){e.error(n)}},async cancel(){var e,s;await(null===(e=(s=t).return)||void 0===e?void 0:e.call(s))}})}}function j(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}class B{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,s,n]=function(e,t){const s=e.indexOf(t);if(-1!==s)return[e.substring(0,s),t,e.substring(s+t.length)];return[e,"",""]}(e,":");return n.startsWith(" ")&&(n=n.substring(1)),"event"===t?this.event=n:"data"===t&&this.data.push(n),null}}class F{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const s=F.NEWLINE_CHARS.has(t[t.length-1]||"");let n=t.split(F.NEWLINE_REGEXP);return s&&n.pop(),1!==n.length||s?(this.buffer.length>0&&(n=[this.buffer.join("")+n[0],...n.slice(1)],this.buffer=[]),s||(this.buffer=[n.pop()||""]),n):(this.buffer.push(n[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new y("Unexpected: received non-Uint8Array (".concat(e.constructor.name,') stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.'))}if("undefined"!==typeof TextDecoder){var t;if(e instanceof Uint8Array||e instanceof ArrayBuffer)return null!==(t=this.textDecoder)&&void 0!==t||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new y("Unexpected: received non-Uint8Array/ArrayBuffer (".concat(e.constructor.name,") in a web platform. Please report this error."))}throw new y("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function N(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return null!==e&&void 0!==e&&e.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}F.NEWLINE_CHARS=new Set(["\n","\r"]),F.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const D=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,L=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&W(e),W=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,q=e=>L(e)||D(e)||f(e);async function U(e,t,s){var n,r;if(e=await e,null!==(n=s)&&void 0!==n||(s=L(e)?{lastModified:e.lastModified,type:e.type}:{}),D(e)){var i;const n=await e.blob();return t||(t=null!==(i=new URL(e.url).pathname.split(/[\\/]/).pop())&&void 0!==i?i:"unknown_file"),new l([n],t,s)}const o=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(W(e))t.push(await e.arrayBuffer());else{var s;if(!J(e))throw new Error("Unexpected data type: ".concat(typeof e,"; constructor: ").concat(null===e||void 0===e||null===(s=e.constructor)||void 0===s?void 0:s.name,"; props: ").concat(function(e){const t=Object.getOwnPropertyNames(e);return"[".concat(t.map((e=>'"'.concat(e,'"'))).join(", "),"]")}(e)));for await(const s of e)t.push(s)}return t}(e);if(t||(t=null!==(r=function(e){var t;return X(e.name)||X(e.filename)||(null===(t=X(e.path))||void 0===t?void 0:t.split(/[\\/]/).pop())}(e))&&void 0!==r?r:"unknown_file"),!s.type){var a;const e=null===(a=o[0])||void 0===a?void 0:a.type;"string"===typeof e&&(s={...s,type:e})}return new l(o,t,s)}const X=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,J=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],H=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],K=async e=>{const t=await V(e.body);return d(t,e)},V=async e=>{const t=new a;return await Promise.all(Object.entries(e||{}).map((e=>{let[s,n]=e;return Y(t,s,n)}))),t},Y=async(e,t,s)=>{if(void 0!==s){if(null==s)throw new TypeError('Received null for "'.concat(t,"\"; to pass null in FormData, you must use the string 'null'"));if("string"===typeof s||"number"===typeof s||"boolean"===typeof s)e.append(t,String(s));else if(q(s)){const n=await U(s);e.append(t,n)}else if(Array.isArray(s))await Promise.all(s.map((s=>Y(e,t+"[]",s))));else{if("object"!==typeof s)throw new TypeError("Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ".concat(s," instead"));await Promise.all(Object.entries(s).map((s=>{let[n,r]=s;return Y(e,"".concat(t,"[").concat(n,"]"),r)})))}}};var G,z=function(e,t,s,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,s):r?r.value=s:t.set(e,s),s},Q=function(e,t,s,n){if("a"===s&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?n:"a"===s?n.call(e):n?n.value:t.get(e)};async function Z(e){const{response:t}=e;if(e.options.stream)return be("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):M.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const s=t.headers.get("content-type");if((null===s||void 0===s?void 0:s.includes("application/json"))||(null===s||void 0===s?void 0:s.includes("application/vnd.api+json"))){const e=await t.json();return be("response",t.status,t.url,t.headers,e),e}const n=await t.text();return be("response",t.status,t.url,t.headers,n),n}class $ extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new $(this.responsePromise,(async t=>e(await this.parseResponse(t))))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class ee{constructor(e){let{baseURL:t,maxRetries:s=2,timeout:n=6e5,httpAgent:r,fetch:i}=e;this.baseURL=t,this.maxRetries=me("maxRetries",s),this.timeout=me("timeout",n),this.httpAgent=r,this.fetch=null!==i&&void 0!==i?i:o}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...de(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return"stainless-node-retry-".concat(Ae())}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,s){return this.request(Promise.resolve(s).then((s=>({method:e,path:t,...s}))))}getAPIList(e,t,s){return this.requestAPIList(t,{method:"get",path:e,...s})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}return null}buildRequest(e){var t,s,n,r,i,o;const{method:a,path:l,query:c,headers:d={}}=e,u=H(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,f=this.calculateContentLength(u),p=this.buildURL(l,c);"timeout"in e&&me("timeout",e.timeout);const m=null!==(t=e.timeout)&&void 0!==t?t:this.timeout,v=null!==(s=null!==(n=e.httpAgent)&&void 0!==n?n:this.httpAgent)&&void 0!==s?s:h(p),g=m+1e3;"number"===typeof(null===v||void 0===v||null===(r=v.options)||void 0===r?void 0:r.timeout)&&g>(null!==(i=v.options.timeout)&&void 0!==i?i:0)&&(v.options.timeout=g),this.idempotencyHeader&&"get"!==a&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:a,...u&&{body:u},headers:this.buildHeaders({options:e,headers:d,contentLength:f}),...v&&{agent:v},signal:null!==(o=e.signal)&&void 0!==o?o:null},url:p,timeout:m}}buildHeaders(e){let{options:t,headers:s,contentLength:n}=e;const r={};n&&(r["content-length"]=n);return ye(r,this.defaultHeaders(t)),ye(r,s),H(t.body)&&"node"!==i&&delete r["content-type"],this.validateHeaders(r,s),r}async prepareOptions(e){}async prepareRequest(e,t){let{url:s,options:n}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,s,n){return b.generate(e,t,s,n)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new $(this.makeRequest(e,t))}async makeRequest(e,t){var s;const n=await e;var r;null==t&&(t=null!==(r=n.maxRetries)&&void 0!==r?r:this.maxRetries);await this.prepareOptions(n);const{req:i,url:o,timeout:a}=this.buildRequest(n);if(await this.prepareRequest(i,{url:o,options:n}),be("request",o,n,i.headers),null!==(s=n.signal)&&void 0!==s&&s.aborted)throw new A;const l=new AbortController,c=await this.fetchWithTimeout(o,i,a,l).catch(ve);if(c instanceof Error){var d;if(null!==(d=n.signal)&&void 0!==d&&d.aborted)throw new A;if(t)return this.retryRequest(n,t);if("AbortError"===c.name)throw new P;throw new E({cause:c})}const h=ne(c.headers);if(!c.ok){if(t&&this.shouldRetry(c)){const e="retrying, ".concat(t," attempts remaining");return be("response (error; ".concat(e,")"),c.status,o,h),this.retryRequest(n,t,h)}const e=await c.text().catch((e=>ve(e).message)),s=he(e),r=s?void 0:e;be("response (error; ".concat(t?"(error; no more retries left)":"(error; not retryable)",")"),c.status,o,h,r);throw this.makeStatusError(c.status,s,r,h)}return{response:c,options:n,controller:l}}requestAPIList(e,t){const s=this.makeRequest(t,null);return new se(this,s,e)}buildURL(e,t){const s=fe(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),n=this.defaultQuery();return we(n)||(t={...n,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,s]=e;return"undefined"!==typeof s})).map((e=>{let[t,s]=e;if("string"===typeof s||"number"===typeof s||"boolean"===typeof s)return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(s));if(null===s)return"".concat(encodeURIComponent(t),"=");throw new y("Cannot stringify type ".concat(typeof s,"; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case."))})).join("&")}async fetchWithTimeout(e,t,s,n){const{signal:r,...i}=t||{};r&&r.addEventListener("abort",(()=>n.abort()));const o=setTimeout((()=>n.abort()),s);return this.getRequestClient().fetch.call(void 0,e,{signal:n.signal,...i}).finally((()=>{clearTimeout(o)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,s){let n;const r=null===s||void 0===s?void 0:s["retry-after-ms"];if(r){const e=parseFloat(r);Number.isNaN(e)||(n=e)}const i=null===s||void 0===s?void 0:s["retry-after"];if(i&&!n){const e=parseFloat(i);n=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(n&&0<=n&&n<6e4)){var o;const s=null!==(o=e.maxRetries)&&void 0!==o?o:this.maxRetries;n=this.calculateDefaultRetryTimeoutMillis(t,s)}return await pe(n),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const s=t-e;return Math.min(.5*Math.pow(2,s),8)*(1-.25*Math.random())*1e3}getUserAgent(){return"".concat(this.constructor.name,"/JS ").concat(r)}}class te{constructor(e,t,s,n){G.set(this,void 0),z(this,G,e,"f"),this.options=n,this.response=t,this.body=s}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new y("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"===typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const s=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,n]of s)e.url.searchParams.set(t,n);t.query=void 0,t.path=e.url.toString()}return await Q(this,G,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(G=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class se extends ${constructor(e,t,s){super(t,(async t=>new s(e,t.response,await Z(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const ne=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const s=t.toString();return e[s.toLowerCase()]||e[s]}}),re={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryResponse:!0,__streamClass:!0},ie=e=>"object"===typeof e&&null!==e&&!we(e)&&Object.keys(e).every((e=>_e(re,e))),oe=()=>{var e,t;if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r,"X-Stainless-OS":le(Deno.build.os),"X-Stainless-Arch":ae(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:null!==(e=null===(t=Deno.version)||void 0===t?void 0:t.deno)&&void 0!==e?e:"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r,"X-Stainless-OS":le(process.platform),"X-Stainless-Arch":ae(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const s=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:s}of e){const e=s.exec(navigator.userAgent);if(e){const s=e[1]||0,n=e[2]||0,r=e[3]||0;return{browser:t,version:"".concat(s,".").concat(n,".").concat(r)}}}return null}();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(s.browser),"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const ae=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?"other:".concat(e):"unknown",le=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?"Other:".concat(e):"Unknown";let ce;const de=()=>{var e;return null!==(e=ce)&&void 0!==e?e:ce=oe()},he=e=>{try{return JSON.parse(e)}catch(t){return}},ue=new RegExp("^(?:[a-z]+:)?//","i"),fe=e=>ue.test(e),pe=e=>new Promise((t=>setTimeout(t,e))),me=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new y("".concat(e," must be an integer"));if(t<0)throw new y("".concat(e," must be a positive integer"));return t},ve=e=>e instanceof Error?e:new Error(e),ge=e=>{var t,s,n,r,i,o;return"undefined"!==typeof process?null!==(t=null===(s={NODE_ENV:"production",PUBLIC_URL:"/njs-lab-public",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_OPEN_WEATHER_MAP_API_KEY:"bd30a8d327da510a2972cbbec887a1e2",REACT_APP_YOUTUBE_API_KEY:"AIzaSyAJmm-IhVl-84KQ0CSAK5Ka03dFBV2hhCs",REACT_APP_FIREBASE_API_KEY:"AIzaSyAsGNHXVPsIjOJA5eY5XY8sLEF11ispMJg",REACT_APP_FIREBASE_DOMAIN:"njs-lab.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"njs-lab",REACT_APP_FIREBASE_STORAGE_BUCKET:"njs-lab.appspot.com",REACT_APP_FIREBASE_MEASUREMENT_SENDER_ID:"438027774199",REACT_APP_FIREBASE_APP_ID:"1:438027774199:web:d12c3a33744a9d411a8bf2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-VH51C7700D",REACT_APP_MAPBOX:"pk.eyJ1IjoiZGVzaWduanUiLCJhIjoiY2xhNGU0YWo4MDlhYzNwdHBwenVvang4eiJ9.P3sX4l_3KjdPeRRbVS1VVg",REACT_APP_GOOGLE_AI_STUDIO_KEY:"AIzaSyAC1CnqJgLitf9SkJpECyYT4-t7OqeL_hw",REACT_APP_OPEN_AI_CHAT_GPT:"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",REACT_APP_DEEP_L:"b5fccb05-709f-43fd-9d40-ed692abab4fa:fx"})||void 0===s||null===(n=s[e])||void 0===n?void 0:n.trim())&&void 0!==t?t:void 0:"undefined"!==typeof Deno?null===(r=Deno.env)||void 0===r||null===(i=r.get)||void 0===i||null===(o=i.call(r,e))||void 0===o?void 0:o.trim():void 0};function we(e){if(!e)return!0;for(const t in e)return!1;return!0}function _e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ye(e,t){for(const s in t){if(!_e(t,s))continue;const n=s.toLowerCase();if(!n)continue;const r=t[s];null===r?delete e[n]:void 0!==r&&(e[n]=r)}}function be(e){var t,s;if("undefined"!==typeof process&&"true"===(null===(t=process)||void 0===t||null===(s={NODE_ENV:"production",PUBLIC_URL:"/njs-lab-public",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_OPEN_WEATHER_MAP_API_KEY:"bd30a8d327da510a2972cbbec887a1e2",REACT_APP_YOUTUBE_API_KEY:"AIzaSyAJmm-IhVl-84KQ0CSAK5Ka03dFBV2hhCs",REACT_APP_FIREBASE_API_KEY:"AIzaSyAsGNHXVPsIjOJA5eY5XY8sLEF11ispMJg",REACT_APP_FIREBASE_DOMAIN:"njs-lab.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"njs-lab",REACT_APP_FIREBASE_STORAGE_BUCKET:"njs-lab.appspot.com",REACT_APP_FIREBASE_MEASUREMENT_SENDER_ID:"438027774199",REACT_APP_FIREBASE_APP_ID:"1:438027774199:web:d12c3a33744a9d411a8bf2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-VH51C7700D",REACT_APP_MAPBOX:"pk.eyJ1IjoiZGVzaWduanUiLCJhIjoiY2xhNGU0YWo4MDlhYzNwdHBwenVvang4eiJ9.P3sX4l_3KjdPeRRbVS1VVg",REACT_APP_GOOGLE_AI_STUDIO_KEY:"AIzaSyAC1CnqJgLitf9SkJpECyYT4-t7OqeL_hw",REACT_APP_OPEN_AI_CHAT_GPT:"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",REACT_APP_DEEP_L:"b5fccb05-709f-43fd-9d40-ed692abab4fa:fx"})||void 0===s?void 0:s.DEBUG)){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console.log("OpenAI:DEBUG:".concat(e),...r)}}const Ae=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));function Ee(e){return null!=e&&"object"===typeof e&&!Array.isArray(e)}class Pe extends te{constructor(e,t,s,n){super(e,t,s,n),this.data=s.data||[],this.object=s.object}getPaginatedItems(){var e;return null!==(e=this.data)&&void 0!==e?e:[]}nextPageParams(){return null}nextPageInfo(){return null}}class Se extends te{constructor(e,t,s,n){super(e,t,s,n),this.data=s.data||[]}getPaginatedItems(){var e;return null!==(e=this.data)&&void 0!==e?e:[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var e;const t=this.getPaginatedItems();if(!t.length)return null;const s=null===(e=t[t.length-1])||void 0===e?void 0:e.id;return s?{params:{after:s}}:null}}class Re{constructor(e){this._client=e}}class xe extends Re{create(e,t){var s;return this._client.post("/completions",{body:e,...t,stream:null!==(s=e.stream)&&void 0!==s&&s})}}xe||(xe={});class Ie extends Re{create(e,t){var s;return this._client.post("/chat/completions",{body:e,...t,stream:null!==(s=e.stream)&&void 0!==s&&s})}}Ie||(Ie={});class Ce extends Re{constructor(){super(...arguments),this.completions=new Ie(this._client)}}!function(e){e.Completions=Ie}(Ce||(Ce={}));class Te extends Re{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}Te||(Te={});class Oe extends Re{create(e,t){return this._client.post("/files",K({body:e,...t}))}retrieve(e,t){return this._client.get("/files/".concat(e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ie(e)?this.list({},e):this._client.getAPIList("/files",ke,{query:e,...t})}del(e,t){return this._client.delete("/files/".concat(e),t)}content(e,t){return this._client.get("/files/".concat(e,"/content"),{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get("/files/".concat(e,"/content"),{...t,headers:{Accept:"application/json",...null===t||void 0===t?void 0:t.headers}})}async waitForProcessing(e){let{pollInterval:t=5e3,maxWait:s=18e5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Set(["processed","error","deleted"]),r=Date.now();let i=await this.retrieve(e);for(;!i.status||!n.has(i.status);)if(await pe(t),i=await this.retrieve(e),Date.now()-r>s)throw new P({message:"Giving up on waiting for file ".concat(e," to finish processing after ").concat(s," milliseconds.")});return i}}class ke extends Pe{}!function(e){e.FileObjectsPage=ke}(Oe||(Oe={}));class Me extends Re{createVariation(e,t){return this._client.post("/images/variations",K({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",K({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}Me||(Me={});class je extends Re{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}je||(je={});class Be extends Re{create(e,t){return this._client.post("/audio/transcriptions",K({body:e,...t}))}}Be||(Be={});class Fe extends Re{create(e,t){return this._client.post("/audio/translations",K({body:e,...t}))}}Fe||(Fe={});class Ne extends Re{constructor(){super(...arguments),this.transcriptions=new Be(this._client),this.translations=new Fe(this._client),this.speech=new je(this._client)}}!function(e){e.Transcriptions=Be,e.Translations=Fe,e.Speech=je}(Ne||(Ne={}));class De extends Re{create(e,t){return this._client.post("/moderations",{body:e,...t})}}De||(De={});class Le extends Re{retrieve(e,t){return this._client.get("/models/".concat(e),t)}list(e){return this._client.getAPIList("/models",We,e)}del(e,t){return this._client.delete("/models/".concat(e),t)}}class We extends Pe{}!function(e){e.ModelsPage=We}(Le||(Le={}));class qe extends Re{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return ie(t)?this.list(e,{},t):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/checkpoints"),Ue,{query:t,...s})}}class Ue extends Se{}!function(e){e.FineTuningJobCheckpointsPage=Ue}(qe||(qe={}));class Xe extends Re{constructor(){super(...arguments),this.checkpoints=new qe(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get("/fine_tuning/jobs/".concat(e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ie(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Je,{query:e,...t})}cancel(e,t){return this._client.post("/fine_tuning/jobs/".concat(e,"/cancel"),t)}listEvents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return ie(t)?this.listEvents(e,{},t):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/events"),He,{query:t,...s})}}class Je extends Se{}class He extends Se{}!function(e){e.FineTuningJobsPage=Je,e.FineTuningJobEventsPage=He,e.Checkpoints=qe,e.FineTuningJobCheckpointsPage=Ue}(Xe||(Xe={}));class Ke extends Re{constructor(){super(...arguments),this.jobs=new Xe(this._client)}}!function(e){e.Jobs=Xe,e.FineTuningJobsPage=Je,e.FineTuningJobEventsPage=He}(Ke||(Ke={}));class Ve extends Re{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}retrieve(e,t){return this._client.get("/assistants/".concat(e),{...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}update(e,t,s){return this._client.post("/assistants/".concat(e),{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ie(e)?this.list({},e):this._client.getAPIList("/assistants",Ye,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}del(e,t){return this._client.delete("/assistants/".concat(e),{...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}}class Ye extends Se{}function Ge(e){return"function"===typeof e.parse}!function(e){e.AssistantsPage=Ye}(Ve||(Ve={}));const ze=e=>"assistant"===(null===e||void 0===e?void 0:e.role),Qe=e=>"function"===(null===e||void 0===e?void 0:e.role),Ze=e=>"tool"===(null===e||void 0===e?void 0:e.role);var $e,et,tt,st,nt,rt,it,ot,at,lt,ct,dt,ht,ut,ft,pt,mt,vt,gt,wt,_t=function(e,t,s,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,s):r?r.value=s:t.set(e,s),s},yt=function(e,t,s,n){if("a"===s&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?n:"a"===s?n.call(e):n?n.value:t.get(e)};const bt=10;class At{constructor(){$e.add(this),this.controller=new AbortController,et.set(this,void 0),tt.set(this,(()=>{})),st.set(this,(()=>{})),nt.set(this,void 0),rt.set(this,(()=>{})),it.set(this,(()=>{})),ot.set(this,{}),this._chatCompletions=[],this.messages=[],at.set(this,!1),lt.set(this,!1),ct.set(this,!1),dt.set(this,!1),vt.set(this,(e=>{if(_t(this,lt,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new A),e instanceof A)return _t(this,ct,!0,"f"),this._emit("abort",e);if(e instanceof y)return this._emit("error",e);if(e instanceof Error){const t=new y(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new y(String(e)))})),_t(this,et,new Promise(((e,t)=>{_t(this,tt,e,"f"),_t(this,st,t,"f")})),"f"),_t(this,nt,new Promise(((e,t)=>{_t(this,rt,e,"f"),_t(this,it,t,"f")})),"f"),yt(this,et,"f").catch((()=>{})),yt(this,nt,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),yt(this,vt,"f"))}),0)}_addChatCompletion(e){var t;this._chatCompletions.push(e),this._emit("chatCompletion",e);const s=null===(t=e.choices[0])||void 0===t?void 0:t.message;return s&&this._addMessage(s),e}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(Qe(e)||Ze(e))&&e.content)this._emit("functionCallResult",e.content);else if(ze(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(ze(e)&&e.tool_calls)for(const s of e.tool_calls)"function"===s.type&&this._emit("functionCall",s.function)}_connected(){this.ended||(yt(this,tt,"f").call(this),this._emit("connect"))}get ended(){return yt(this,at,"f")}get errored(){return yt(this,lt,"f")}get aborted(){return yt(this,ct,"f")}abort(){this.controller.abort()}on(e,t){return(yt(this,ot,"f")[e]||(yt(this,ot,"f")[e]=[])).push({listener:t}),this}off(e,t){const s=yt(this,ot,"f")[e];if(!s)return this;const n=s.findIndex((e=>e.listener===t));return n>=0&&s.splice(n,1),this}once(e,t){return(yt(this,ot,"f")[e]||(yt(this,ot,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,s)=>{_t(this,dt,!0,"f"),"error"!==e&&this.once("error",s),this.once(e,t)}))}async done(){_t(this,dt,!0,"f"),await yt(this,nt,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new y("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),yt(this,$e,"m",ht).call(this)}async finalMessage(){return await this.done(),yt(this,$e,"m",ut).call(this)}async finalFunctionCall(){return await this.done(),yt(this,$e,"m",ft).call(this)}async finalFunctionCallResult(){return await this.done(),yt(this,$e,"m",pt).call(this)}async totalUsage(){return await this.done(),yt(this,$e,"m",mt).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];if(yt(this,at,"f"))return;"end"===e&&(_t(this,at,!0,"f"),yt(this,rt,"f").call(this));const r=yt(this,ot,"f")[e];if(r&&(yt(this,ot,"f")[e]=r.filter((e=>!e.once)),r.forEach((e=>{let{listener:t}=e;return t(...s)}))),"abort"===e){const e=s[0];return yt(this,dt,"f")||null!==r&&void 0!==r&&r.length||Promise.reject(e),yt(this,st,"f").call(this,e),yt(this,it,"f").call(this,e),void this._emit("end")}if("error"===e){const e=s[0];yt(this,dt,"f")||null!==r&&void 0!==r&&r.length||Promise.reject(e),yt(this,st,"f").call(this,e),yt(this,it,"f").call(this,e),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=yt(this,$e,"m",ut).call(this);t&&this._emit("finalMessage",t);const s=yt(this,$e,"m",ht).call(this);s&&this._emit("finalContent",s);const n=yt(this,$e,"m",ft).call(this);n&&this._emit("finalFunctionCall",n);const r=yt(this,$e,"m",pt).call(this);null!=r&&this._emit("finalFunctionCallResult",r),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",yt(this,$e,"m",mt).call(this))}async _createChatCompletion(e,t,s){const n=null===s||void 0===s?void 0:s.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),yt(this,$e,"m",gt).call(this,t);const r=await e.create({...t,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(r)}async _runChatCompletion(e,t,s){for(const n of t.messages)this._addMessage(n,!1);return await this._createChatCompletion(e,t,s)}async _runFunctions(e,t,s){const n="function",{function_call:r="auto",stream:i,...o}=t,a="string"!==typeof r&&(null===r||void 0===r?void 0:r.name),{maxChatCompletions:l=bt}=s||{},c={};for(const f of t.functions)c[f.name||f.function.name]=f;const d=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const f of t.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){var h;const t=null===(h=(await this._createChatCompletion(e,{...o,function_call:r,functions:d,messages:[...this.messages]},s)).choices[0])||void 0===h?void 0:h.message;if(!t)throw new y("missing message in ChatCompletion response");if(!t.function_call)return;const{name:i,arguments:l}=t.function_call,f=c[i];if(!f){const e="Invalid function_call: ".concat(JSON.stringify(i),". Available options are: ").concat(d.map((e=>JSON.stringify(e.name))).join(", "),". Please try again");this._addMessage({role:n,name:i,content:e});continue}if(a&&a!==i){const e="Invalid function_call: ".concat(JSON.stringify(i),". ").concat(JSON.stringify(a)," requested. Please try again");this._addMessage({role:n,name:i,content:e});continue}let p;try{p=Ge(f)?await f.parse(l):l}catch(u){this._addMessage({role:n,name:i,content:u instanceof Error?u.message:String(u)});continue}const m=await f.function(p,this),v=yt(this,$e,"m",wt).call(this,m);if(this._addMessage({role:n,name:i,content:v}),a)return}}async _runTools(e,t,s){var n;const r="tool",{tool_choice:i="auto",stream:o,...a}=t,l="string"!==typeof i&&(null===i||void 0===i||null===(n=i.function)||void 0===n?void 0:n.name),{maxChatCompletions:c=bt}=s||{},d={};for(const p of t.tools)"function"===p.type&&(d[p.function.name||p.function.function.name]=p.function);const h="tools"in t?t.tools.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description}}:e)):void 0;for(const p of t.messages)this._addMessage(p,!1);for(let p=0;p<c;++p){var u;const t=null===(u=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:h,messages:[...this.messages]},s)).choices[0])||void 0===u?void 0:u.message;if(!t)throw new y("missing message in ChatCompletion response");if(!t.tool_calls)return;for(const e of t.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:s,arguments:n}=e.function,i=d[s];if(!i){const e="Invalid tool_call: ".concat(JSON.stringify(s),". Available options are: ").concat(h.map((e=>JSON.stringify(e.function.name))).join(", "),". Please try again");this._addMessage({role:r,tool_call_id:t,content:e});continue}if(l&&l!==s){const e="Invalid tool_call: ".concat(JSON.stringify(s),". ").concat(JSON.stringify(l)," requested. Please try again");this._addMessage({role:r,tool_call_id:t,content:e});continue}let o;try{o=Ge(i)?await i.parse(n):n}catch(f){const e=f instanceof Error?f.message:String(f);this._addMessage({role:r,tool_call_id:t,content:e});continue}const a=await i.function(o,this),c=yt(this,$e,"m",wt).call(this,a);if(this._addMessage({role:r,tool_call_id:t,content:c}),l)return}}}}et=new WeakMap,tt=new WeakMap,st=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,ot=new WeakMap,at=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakMap,vt=new WeakMap,$e=new WeakSet,ht=function(){var e;return null!==(e=yt(this,$e,"m",ut).call(this).content)&&void 0!==e?e:null},ut=function(){let e=this.messages.length;for(;e-- >0;){const s=this.messages[e];var t;if(ze(s))return{...s,content:null!==(t=s.content)&&void 0!==t?t:null}}throw new y("stream ended without producing a ChatCompletionMessage with role=assistant")},ft=function(){for(let s=this.messages.length-1;s>=0;s--){var e;const n=this.messages[s];if(ze(n)&&null!==n&&void 0!==n&&n.function_call)return n.function_call;var t;if(ze(n)&&null!==n&&void 0!==n&&null!==(e=n.tool_calls)&&void 0!==e&&e.length)return null===(t=n.tool_calls.at(-1))||void 0===t?void 0:t.function}},pt=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Qe(t)&&null!=t.content)return t.content;if(Ze(t)&&null!=t.content&&this.messages.some((e=>{var s;return"assistant"===e.role&&(null===(s=e.tool_calls)||void 0===s?void 0:s.some((e=>"function"===e.type&&e.id===t.tool_call_id)))})))return t.content}},mt=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},gt=function(e){if(null!=e.n&&e.n>1)throw new y("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},wt=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class Et extends At{static runFunctions(e,t,s){const n=new Et,r={...s,headers:{...null===s||void 0===s?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run((()=>n._runFunctions(e,t,r))),n}static runTools(e,t,s){const n=new Et,r={...s,headers:{...null===s||void 0===s?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run((()=>n._runTools(e,t,r))),n}_addMessage(e){super._addMessage(e),ze(e)&&e.content&&this._emit("content",e.content)}}var Pt,St,Rt,xt,It,Ct,Tt=function(e,t,s,n){if("a"===s&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?n:"a"===s?n.call(e):n?n.value:t.get(e)},Ot=function(e,t,s,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,s):r?r.value=s:t.set(e,s),s};class kt extends At{constructor(){super(...arguments),Pt.add(this),St.set(this,void 0)}get currentChatCompletionSnapshot(){return Tt(this,St,"f")}static fromReadableStream(e){const t=new kt;return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,s){const n=new kt;return n._run((()=>n._runChatCompletion(e,{...t,stream:!0},{...s,headers:{...null===s||void 0===s?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}}))),n}async _createChatCompletion(e,t,s){var n;const r=null===s||void 0===s?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Tt(this,Pt,"m",Rt).call(this);const i=await e.create({...t,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const o of i)Tt(this,Pt,"m",xt).call(this,o);if(null!==(n=i.controller.signal)&&void 0!==n&&n.aborted)throw new A;return this._addChatCompletion(Tt(this,Pt,"m",It).call(this))}async _fromReadableStream(e,t){var s;const n=null===t||void 0===t?void 0:t.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),Tt(this,Pt,"m",Rt).call(this),this._connected();const r=M.fromReadableStream(e,this.controller);let i;for await(const o of r)i&&i!==o.id&&this._addChatCompletion(Tt(this,Pt,"m",It).call(this)),Tt(this,Pt,"m",xt).call(this,o),i=o.id;if(null!==(s=r.controller.signal)&&void 0!==s&&s.aborted)throw new A;return this._addChatCompletion(Tt(this,Pt,"m",It).call(this))}[(St=new WeakMap,Pt=new WeakSet,Rt=function(){this.ended||Ot(this,St,void 0,"f")},xt=function(e){var t,s,n;if(this.ended)return;const r=Tt(this,Pt,"m",Ct).call(this,e);this._emit("chunk",e,r);const i=null===(t=e.choices[0])||void 0===t||null===(s=t.delta)||void 0===s?void 0:s.content,o=null===(n=r.choices[0])||void 0===n?void 0:n.message;null!=i&&"assistant"===(null===o||void 0===o?void 0:o.role)&&null!==o&&void 0!==o&&o.content&&this._emit("content",i,o.content)},It=function(){if(this.ended)throw new y("stream has ended, this shouldn't happen");const e=Tt(this,St,"f");if(!e)throw new y("request ended without sending any chunks");return Ot(this,St,void 0,"f"),function(e){const{id:t,choices:s,created:n,model:r,system_fingerprint:i,...o}=e;return{...o,id:t,choices:s.map((t=>{let{message:s,finish_reason:n,index:r,logprobs:i,...o}=t;if(!n)throw new y("missing finish_reason for choice ".concat(r));const{content:a=null,function_call:l,tool_calls:c,...d}=s,h=s.role;if(!h)throw new y("missing role for choice ".concat(r));if(l){const{arguments:e,name:t}=l;if(null==e)throw new y("missing function_call.arguments for choice ".concat(r));if(!t)throw new y("missing function_call.name for choice ".concat(r));return{...o,message:{content:a,function_call:{arguments:e,name:t},role:h},finish_reason:n,index:r,logprobs:i}}return c?{...o,index:r,finish_reason:n,logprobs:i,message:{...d,role:h,content:a,tool_calls:c.map(((t,s)=>{const{function:n,type:i,id:o,...a}=t,{arguments:l,name:c,...d}=n||{};if(null==o)throw new y("missing choices[".concat(r,"].tool_calls[").concat(s,"].id\n").concat(Mt(e)));if(null==i)throw new y("missing choices[".concat(r,"].tool_calls[").concat(s,"].type\n").concat(Mt(e)));if(null==c)throw new y("missing choices[".concat(r,"].tool_calls[").concat(s,"].function.name\n").concat(Mt(e)));if(null==l)throw new y("missing choices[".concat(r,"].tool_calls[").concat(s,"].function.arguments\n").concat(Mt(e)));return{...a,id:o,type:i,function:{...d,name:c,arguments:l}}}))}}:{...o,message:{...d,content:a,role:h},finish_reason:n,index:r,logprobs:i}})),created:n,model:r,object:"chat.completion",...i?{system_fingerprint:i}:{}}}(e)},Ct=function(e){var t,s,n;let r=Tt(this,St,"f");const{choices:i,...o}=e;r?Object.assign(r,o):r=Ot(this,St,{...o,choices:[]},"f");for(const{delta:h,finish_reason:u,index:f,logprobs:p=null,...m}of e.choices){let e=r.choices[f];if(e||(e=r.choices[f]={finish_reason:u,index:f,message:{},logprobs:p,...m}),p)if(e.logprobs){const{content:s,...n}=p;var a;if(Object.assign(e.logprobs,n),s)null!==(a=(t=e.logprobs).content)&&void 0!==a||(t.content=[]),e.logprobs.content.push(...s)}else e.logprobs=Object.assign({},p);if(u&&(e.finish_reason=u),Object.assign(e,m),!h)continue;const{content:i,function_call:o,role:v,tool_calls:g,...w}=h;var l;if(Object.assign(e.message,w),i&&(e.message.content=(e.message.content||"")+i),v&&(e.message.role=v),o)if(e.message.function_call){if(o.name&&(e.message.function_call.name=o.name),o.arguments)null!==(l=(s=e.message.function_call).arguments)&&void 0!==l||(s.arguments=""),e.message.function_call.arguments+=o.arguments}else e.message.function_call=o;if(g){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:s,type:r,function:i,...o}of g){var c,d;const a=null!==(c=(n=e.message.tool_calls)[t])&&void 0!==c?c:n[t]={};Object.assign(a,o),s&&(a.id=s),r&&(a.type=r),i&&(null!==(d=a.function)&&void 0!==d||(a.function={arguments:""})),null!==i&&void 0!==i&&i.name&&(a.function.name=i.name),null!==i&&void 0!==i&&i.arguments&&(a.function.arguments+=i.arguments)}}}return r},Symbol.asyncIterator)](){const e=[],t=[];let s=!1;return this.on("chunk",(s=>{const n=t.shift();n?n.resolve(s):e.push(s)})),this.on("end",(()=>{s=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{s=!0;for(const s of t)s.reject(e);t.length=0})),this.on("error",(e=>{s=!0;for(const s of t)s.reject(e);t.length=0})),{next:async()=>{if(!e.length)return s?{value:void 0,done:!0}:new Promise(((e,s)=>t.push({resolve:e,reject:s}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new M(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Mt(e){return JSON.stringify(e)}class jt extends kt{static fromReadableStream(e){const t=new jt;return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,s){const n=new jt,r={...s,headers:{...null===s||void 0===s?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run((()=>n._runFunctions(e,t,r))),n}static runTools(e,t,s){const n=new jt,r={...s,headers:{...null===s||void 0===s?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run((()=>n._runTools(e,t,r))),n}}class Bt extends Re{runFunctions(e,t){return e.stream?jt.runFunctions(this._client.chat.completions,e,t):Et.runFunctions(this._client.chat.completions,e,t)}runTools(e,t){return e.stream?jt.runTools(this._client.chat.completions,e,t):Et.runTools(this._client.chat.completions,e,t)}stream(e,t){return kt.createChatCompletion(this._client.chat.completions,e,t)}}class Ft extends Re{constructor(){super(...arguments),this.completions=new Bt(this._client)}}!function(e){e.Completions=Bt}(Ft||(Ft={}));var Nt,Dt,Lt,Wt,qt,Ut,Xt,Jt,Ht,Kt,Vt,Yt,Gt=function(e,t,s,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,s):r?r.value=s:t.set(e,s),s},zt=function(e,t,s,n){if("a"===s&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?n:"a"===s?n.call(e):n?n.value:t.get(e)};class Qt{constructor(){this.controller=new AbortController,Nt.set(this,void 0),Dt.set(this,(()=>{})),Lt.set(this,(()=>{})),Wt.set(this,void 0),qt.set(this,(()=>{})),Ut.set(this,(()=>{})),Xt.set(this,{}),Jt.set(this,!1),Ht.set(this,!1),Kt.set(this,!1),Vt.set(this,!1),Yt.set(this,(e=>{if(Gt(this,Ht,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new A),e instanceof A)return Gt(this,Kt,!0,"f"),this._emit("abort",e);if(e instanceof y)return this._emit("error",e);if(e instanceof Error){const t=new y(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new y(String(e)))})),Gt(this,Nt,new Promise(((e,t)=>{Gt(this,Dt,e,"f"),Gt(this,Lt,t,"f")})),"f"),Gt(this,Wt,new Promise(((e,t)=>{Gt(this,qt,e,"f"),Gt(this,Ut,t,"f")})),"f"),zt(this,Nt,"f").catch((()=>{})),zt(this,Wt,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emit("end")}),zt(this,Yt,"f"))}),0)}_addRun(e){return e}_connected(){this.ended||(zt(this,Dt,"f").call(this),this._emit("connect"))}get ended(){return zt(this,Jt,"f")}get errored(){return zt(this,Ht,"f")}get aborted(){return zt(this,Kt,"f")}abort(){this.controller.abort()}on(e,t){return(zt(this,Xt,"f")[e]||(zt(this,Xt,"f")[e]=[])).push({listener:t}),this}off(e,t){const s=zt(this,Xt,"f")[e];if(!s)return this;const n=s.findIndex((e=>e.listener===t));return n>=0&&s.splice(n,1),this}once(e,t){return(zt(this,Xt,"f")[e]||(zt(this,Xt,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,s)=>{Gt(this,Vt,!0,"f"),"error"!==e&&this.once("error",s),this.once(e,t)}))}async done(){Gt(this,Vt,!0,"f"),await zt(this,Wt,"f")}_emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];if(zt(this,Jt,"f"))return;"end"===e&&(Gt(this,Jt,!0,"f"),zt(this,qt,"f").call(this));const r=zt(this,Xt,"f")[e];if(r&&(zt(this,Xt,"f")[e]=r.filter((e=>!e.once)),r.forEach((e=>{let{listener:t}=e;return t(...s)}))),"abort"===e){const e=s[0];return zt(this,Vt,"f")||null!==r&&void 0!==r&&r.length||Promise.reject(e),zt(this,Lt,"f").call(this,e),zt(this,Ut,"f").call(this,e),void this._emit("end")}if("error"===e){const e=s[0];zt(this,Vt,"f")||null!==r&&void 0!==r&&r.length||Promise.reject(e),zt(this,Lt,"f").call(this,e),zt(this,Ut,"f").call(this,e),this._emit("end")}}async _threadAssistantStream(e,t,s){return await this._createThreadAssistantStream(t,e,s)}async _runAssistantStream(e,t,s,n){return await this._createAssistantStream(t,e,s,n)}async _runToolAssistantStream(e,t,s,n,r){return await this._createToolAssistantStream(s,e,t,n,r)}async _createThreadAssistantStream(e,t,s){const n=null===s||void 0===s?void 0:s.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort())));const r=await e.createAndRun({...t,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addRun(r)}async _createToolAssistantStream(e,t,s,n,r){const i=null===r||void 0===r?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const o=await e.submitToolOutputs(t,s,{...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addRun(o)}async _createAssistantStream(e,t,s,n){const r=null===n||void 0===n?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const i=await e.create(t,{...s,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addRun(i)}}Nt=new WeakMap,Dt=new WeakMap,Lt=new WeakMap,Wt=new WeakMap,qt=new WeakMap,Ut=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,Ht=new WeakMap,Kt=new WeakMap,Vt=new WeakMap,Yt=new WeakMap;var Zt,$t,es,ts,ss,ns,rs,is,os,as,ls,cs,ds,hs,us,fs,ps,ms,vs,gs,ws,_s,ys=function(e,t,s,n){if("a"===s&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?n:"a"===s?n.call(e):n?n.value:t.get(e)},bs=function(e,t,s,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,s):r?r.value=s:t.set(e,s),s};class As extends Qt{constructor(){super(...arguments),Zt.add(this),$t.set(this,[]),es.set(this,{}),ts.set(this,{}),ss.set(this,void 0),ns.set(this,void 0),rs.set(this,void 0),is.set(this,void 0),os.set(this,void 0),as.set(this,void 0),ls.set(this,void 0),cs.set(this,void 0),ds.set(this,void 0)}[($t=new WeakMap,es=new WeakMap,ts=new WeakMap,ss=new WeakMap,ns=new WeakMap,rs=new WeakMap,is=new WeakMap,os=new WeakMap,as=new WeakMap,ls=new WeakMap,cs=new WeakMap,ds=new WeakMap,Zt=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let s=!1;return this.on("event",(s=>{const n=t.shift();n?n.resolve(s):e.push(s)})),this.on("end",(()=>{s=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{s=!0;for(const s of t)s.reject(e);t.length=0})),this.on("error",(e=>{s=!0;for(const s of t)s.reject(e);t.length=0})),{next:async()=>{if(!e.length)return s?{value:void 0,done:!0}:new Promise(((e,s)=>t.push({resolve:e,reject:s}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new As;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){var s;const n=null===t||void 0===t?void 0:t.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const r=M.fromReadableStream(e,this.controller);for await(const i of r)ys(this,Zt,"m",hs).call(this,i);if(null!==(s=r.controller.signal)&&void 0!==s&&s.aborted)throw new A;return this._addRun(ys(this,Zt,"m",us).call(this))}toReadableStream(){return new M(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,s,n,r){const i=new As;return i._run((()=>i._runToolAssistantStream(e,t,s,n,{...r,headers:{...null===r||void 0===r?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}}))),i}async _createToolAssistantStream(e,t,s,n,r){var i;const o=null===r||void 0===r?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const a={...n,stream:!0},l=await e.submitToolOutputs(t,s,a,{...r,signal:this.controller.signal});this._connected();for await(const c of l)ys(this,Zt,"m",hs).call(this,c);if(null!==(i=l.controller.signal)&&void 0!==i&&i.aborted)throw new A;return this._addRun(ys(this,Zt,"m",us).call(this))}static createThreadAssistantStream(e,t,s){const n=new As;return n._run((()=>n._threadAssistantStream(e,t,{...s,headers:{...null===s||void 0===s?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}}))),n}static createAssistantStream(e,t,s,n){const r=new As;return r._run((()=>r._runAssistantStream(e,t,s,{...n,headers:{...null===n||void 0===n?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}}))),r}currentEvent(){return ys(this,ls,"f")}currentRun(){return ys(this,cs,"f")}currentMessageSnapshot(){return ys(this,ss,"f")}currentRunStepSnapshot(){return ys(this,ds,"f")}async finalRunSteps(){return await this.done(),Object.values(ys(this,es,"f"))}async finalMessages(){return await this.done(),Object.values(ys(this,ts,"f"))}async finalRun(){if(await this.done(),!ys(this,ns,"f"))throw Error("Final run was not received.");return ys(this,ns,"f")}async _createThreadAssistantStream(e,t,s){var n;const r=null===s||void 0===s?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const i={...t,stream:!0},o=await e.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const a of o)ys(this,Zt,"m",hs).call(this,a);if(null!==(n=o.controller.signal)&&void 0!==n&&n.aborted)throw new A;return this._addRun(ys(this,Zt,"m",us).call(this))}async _createAssistantStream(e,t,s,n){var r;const i=null===n||void 0===n?void 0:n.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const o={...s,stream:!0},a=await e.create(t,o,{...n,signal:this.controller.signal});this._connected();for await(const l of a)ys(this,Zt,"m",hs).call(this,l);if(null!==(r=a.controller.signal)&&void 0!==r&&r.aborted)throw new A;return this._addRun(ys(this,Zt,"m",us).call(this))}static accumulateDelta(e,t){for(const[s,n]of Object.entries(t)){if(!e.hasOwnProperty(s)){e[s]=n;continue}let t=e[s];if(null!==t&&void 0!==t)if("index"!==s&&"type"!==s){if("string"===typeof t&&"string"===typeof n)t+=n;else if("number"===typeof t&&"number"===typeof n)t+=n;else if(Ee(t)&&Ee(n))t=this.accumulateDelta(t,n);else{if(!Array.isArray(t)||!Array.isArray(n))throw Error("Unhandled record type: ".concat(s,", deltaValue: ").concat(n,", accValue: ").concat(t));if(t.every((e=>"string"===typeof e||"number"===typeof e))){t.push(...n);continue}}e[s]=t}else e[s]=n;else e[s]=n}return e}}hs=function(e){if(!this.ended)switch(bs(this,ls,e,"f"),ys(this,Zt,"m",ms).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":ys(this,Zt,"m",_s).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ys(this,Zt,"m",ps).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":ys(this,Zt,"m",fs).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},us=function(){if(this.ended)throw new y("stream has ended, this shouldn't happen");if(!ys(this,ns,"f"))throw Error("Final run has not been received");return ys(this,ns,"f")},fs=function(e){const[t,s]=ys(this,Zt,"m",gs).call(this,e,ys(this,ss,"f"));bs(this,ss,t,"f"),ys(this,ts,"f")[t.id]=t;for(const n of s){const e=t.content[n.index];"text"==(null===e||void 0===e?void 0:e.type)&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const s of e.data.delta.content){if("text"==s.type&&s.text){let e=s.text,n=t.content[s.index];if(!n||"text"!=n.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,n.text)}if(s.index!=ys(this,rs,"f")){if(ys(this,is,"f"))switch(ys(this,is,"f").type){case"text":this._emit("textDone",ys(this,is,"f").text,ys(this,ss,"f"));break;case"image_file":this._emit("imageFileDone",ys(this,is,"f").image_file,ys(this,ss,"f"))}bs(this,rs,s.index,"f")}bs(this,is,t.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==ys(this,rs,"f")){const t=e.data.content[ys(this,rs,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,ys(this,ss,"f"));break;case"text":this._emit("textDone",t.text,ys(this,ss,"f"))}}ys(this,ss,"f")&&this._emit("messageDone",e.data),bs(this,ss,void 0,"f")}},ps=function(e){const t=ys(this,Zt,"m",vs).call(this,e);switch(bs(this,ds,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&"tool_calls"==s.step_details.type&&s.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of s.step_details.tool_calls)e.index==ys(this,os,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(ys(this,as,"f")&&this._emit("toolCallDone",ys(this,as,"f")),bs(this,os,e.index,"f"),bs(this,as,t.step_details.tool_calls[e.index],"f"),ys(this,as,"f")&&this._emit("toolCallCreated",ys(this,as,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":bs(this,ds,void 0,"f");"tool_calls"==e.data.step_details.type&&ys(this,as,"f")&&(this._emit("toolCallDone",ys(this,as,"f")),bs(this,as,void 0,"f")),this._emit("runStepDone",e.data,t)}},ms=function(e){ys(this,$t,"f").push(e),this._emit("event",e)},vs=function(e){switch(e.event){case"thread.run.step.created":return ys(this,es,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=ys(this,es,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const n=As.accumulateDelta(t,s.delta);ys(this,es,"f")[e.data.id]=n}return ys(this,es,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":ys(this,es,"f")[e.data.id]=e.data}if(ys(this,es,"f")[e.data.id])return ys(this,es,"f")[e.data.id];throw new Error("No snapshot available")},gs=function(e,t){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let n=e.data;if(n.delta.content)for(const e of n.delta.content)if(e.index in t.content){let s=t.content[e.index];t.content[e.index]=ys(this,Zt,"m",ws).call(this,e,s)}else t.content[e.index]=e,s.push(e);return[t,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},ws=function(e,t){return As.accumulateDelta(t,e)},_s=function(e){switch(bs(this,cs,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":bs(this,ns,e.data,"f"),ys(this,as,"f")&&(this._emit("toolCallDone",ys(this,as,"f")),bs(this,as,void 0,"f"))}};class Es extends Re{create(e,t,s){return this._client.post("/threads/".concat(e,"/messages"),{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}retrieve(e,t,s){return this._client.get("/threads/".concat(e,"/messages/").concat(t),{...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}update(e,t,s,n){return this._client.post("/threads/".concat(e,"/messages/").concat(t),{body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...null===n||void 0===n?void 0:n.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return ie(t)?this.list(e,{},t):this._client.getAPIList("/threads/".concat(e,"/messages"),Ps,{query:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}del(e,t,s){return this._client.delete("/threads/".concat(e,"/messages/").concat(t),{...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}}class Ps extends Se{}!function(e){e.MessagesPage=Ps}(Es||(Es={}));class Ss extends Re{retrieve(e,t,s,n){return this._client.get("/threads/".concat(e,"/runs/").concat(t,"/steps/").concat(s),{...n,headers:{"OpenAI-Beta":"assistants=v2",...null===n||void 0===n?void 0:n.headers}})}list(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return ie(s)?this.list(e,t,{},s):this._client.getAPIList("/threads/".concat(e,"/runs/").concat(t,"/steps"),Rs,{query:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...null===n||void 0===n?void 0:n.headers}})}}class Rs extends Se{}!function(e){e.RunStepsPage=Rs}(Ss||(Ss={}));class xs extends Re{constructor(){super(...arguments),this.steps=new Ss(this._client)}create(e,t,s){var n;return this._client.post("/threads/".concat(e,"/runs"),{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers},stream:null!==(n=t.stream)&&void 0!==n&&n})}retrieve(e,t,s){return this._client.get("/threads/".concat(e,"/runs/").concat(t),{...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}update(e,t,s,n){return this._client.post("/threads/".concat(e,"/runs/").concat(t),{body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...null===n||void 0===n?void 0:n.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return ie(t)?this.list(e,{},t):this._client.getAPIList("/threads/".concat(e,"/runs"),Is,{query:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}cancel(e,t,s){return this._client.post("/threads/".concat(e,"/runs/").concat(t,"/cancel"),{...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}async createAndPoll(e,t,s){const n=await this.create(e,t,s);return await this.poll(e,n.id,s)}createAndStream(e,t,s){return As.createAssistantStream(e,this._client.beta.threads.runs,t,s)}async poll(e,t,s){const n={...null===s||void 0===s?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(null!==s&&void 0!==s&&s.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:r,response:i}=await this.retrieve(e,t,{...s,headers:{...null===s||void 0===s?void 0:s.headers,...n}}).withResponse();switch(r.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(null!==s&&void 0!==s&&s.pollIntervalMs)e=s.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const s=parseInt(t);isNaN(s)||(e=s)}}await pe(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return r}}}stream(e,t,s){return As.createAssistantStream(e,this._client.beta.threads.runs,t,s)}submitToolOutputs(e,t,s,n){var r;return this._client.post("/threads/".concat(e,"/runs/").concat(t,"/submit_tool_outputs"),{body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...null===n||void 0===n?void 0:n.headers},stream:null!==(r=s.stream)&&void 0!==r&&r})}async submitToolOutputsAndPoll(e,t,s,n){const r=await this.submitToolOutputs(e,t,s,n);return await this.poll(e,r.id,n)}submitToolOutputsStream(e,t,s,n){return As.createToolAssistantStream(e,t,this._client.beta.threads.runs,s,n)}}class Is extends Se{}!function(e){e.RunsPage=Is,e.Steps=Ss,e.RunStepsPage=Rs}(xs||(xs={}));class Cs extends Re{constructor(){super(...arguments),this.runs=new xs(this._client),this.messages=new Es(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ie(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}retrieve(e,t){return this._client.get("/threads/".concat(e),{...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}update(e,t,s){return this._client.post("/threads/".concat(e),{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}del(e,t){return this._client.delete("/threads/".concat(e),{...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}createAndRun(e,t){var s;return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers},stream:null!==(s=e.stream)&&void 0!==s&&s})}async createAndRunPoll(e,t){const s=await this.createAndRun(e,t);return await this.runs.poll(s.thread_id,s.id,t)}createAndRunStream(e,t){return As.createThreadAssistantStream(e,this._client.beta.threads,t)}}!function(e){e.Runs=xs,e.RunsPage=Is,e.Messages=Es,e.MessagesPage=Ps}(Cs||(Cs={}));class Ts extends Re{create(e,t,s){return this._client.post("/vector_stores/".concat(e,"/files"),{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}retrieve(e,t,s){return this._client.get("/vector_stores/".concat(e,"/files/").concat(t),{...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return ie(t)?this.list(e,{},t):this._client.getAPIList("/vector_stores/".concat(e,"/files"),Os,{query:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}del(e,t,s){return this._client.delete("/vector_stores/".concat(e,"/files/").concat(t),{...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}async createAndPoll(e,t,s){const n=await this.create(e,t,s);return await this.poll(e,n.id,s)}async poll(e,t,s){const n={...null===s||void 0===s?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(null!==s&&void 0!==s&&s.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const r=await this.retrieve(e,t,{...s,headers:n}).withResponse(),i=r.data;switch(i.status){case"in_progress":let e=5e3;if(null!==s&&void 0!==s&&s.pollIntervalMs)e=s.pollIntervalMs;else{const t=r.response.headers.get("openai-poll-after-ms");if(t){const s=parseInt(t);isNaN(s)||(e=s)}}await pe(e);break;case"failed":case"completed":return i}}}async upload(e,t,s){const n=await this._client.files.create({file:t,purpose:"assistants"},s);return this.create(e,{file_id:n.id},s)}async uploadAndPoll(e,t,s){const n=await this.upload(e,t,s);return await this.poll(e,n.id,s)}}class Os extends Se{}!function(e){e.VectorStoreFilesPage=Os}(Ts||(Ts={}));class ks extends Re{create(e,t,s){return this._client.post("/vector_stores/".concat(e,"/file_batches"),{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}retrieve(e,t,s){return this._client.get("/vector_stores/".concat(e,"/file_batches/").concat(t),{...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}cancel(e,t,s){return this._client.post("/vector_stores/".concat(e,"/file_batches/").concat(t,"/cancel"),{...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}async createAndPoll(e,t,s){const n=await this.create(e,t);return await this.poll(e,n.id,s)}listFiles(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return ie(s)?this.listFiles(e,t,{},s):this._client.getAPIList("/vector_stores/".concat(e,"/file_batches/").concat(t,"/files"),Os,{query:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...null===n||void 0===n?void 0:n.headers}})}async poll(e,t,s){const n={...null===s||void 0===s?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(null!==s&&void 0!==s&&s.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:r,response:i}=await this.retrieve(e,t,{...s,headers:n}).withResponse();switch(r.status){case"in_progress":let e=5e3;if(null!==s&&void 0!==s&&s.pollIntervalMs)e=s.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const s=parseInt(t);isNaN(s)||(e=s)}}await pe(e);break;case"failed":case"cancelled":case"completed":return r}}}async uploadAndPoll(e,t,s){var n;let{files:r,fileIds:i=[]}=t;if(null===r||0==r.length)throw new Error("No files provided to process.");const o=null!==(n=null===s||void 0===s?void 0:s.maxConcurrency)&&void 0!==n?n:5,a=Math.min(o,r.length),l=this._client,c=r.values(),d=[...i];const h=Array(a).fill(c).map((async function(e){for(let t of e){const e=await l.files.create({file:t,purpose:"assistants"},s);d.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),s=t.filter((e=>"rejected"===e.status));if(s.length){for(const e of s)console.error(e.reason);throw new Error("".concat(s.length," promise(s) failed - see the above errors"))}const n=[];for(const r of t)"fulfilled"===r.status&&n.push(r.value);return n})(h),await this.createAndPoll(e,{file_ids:d})}}ks||(ks={});class Ms extends Re{constructor(){super(...arguments),this.files=new Ts(this._client),this.fileBatches=new ks(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}retrieve(e,t){return this._client.get("/vector_stores/".concat(e),{...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}update(e,t,s){return this._client.post("/vector_stores/".concat(e),{body:t,...s,headers:{"OpenAI-Beta":"assistants=v2",...null===s||void 0===s?void 0:s.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ie(e)?this.list({},e):this._client.getAPIList("/vector_stores",js,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}del(e,t){return this._client.delete("/vector_stores/".concat(e),{...t,headers:{"OpenAI-Beta":"assistants=v2",...null===t||void 0===t?void 0:t.headers}})}}class js extends Se{}!function(e){e.VectorStoresPage=js,e.Files=Ts,e.VectorStoreFilesPage=Os,e.FileBatches=ks}(Ms||(Ms={}));class Bs extends Re{constructor(){super(...arguments),this.vectorStores=new Ms(this._client),this.chat=new Ft(this._client),this.assistants=new Ve(this._client),this.threads=new Cs(this._client)}}!function(e){e.VectorStores=Ms,e.VectorStoresPage=js,e.Chat=Ft,e.Assistants=Ve,e.AssistantsPage=Ye,e.Threads=Cs}(Bs||(Bs={}));class Fs extends Re{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get("/batches/".concat(e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ie(e)?this.list({},e):this._client.getAPIList("/batches",Ns,{query:e,...t})}cancel(e,t){return this._client.post("/batches/".concat(e,"/cancel"),t)}}class Ns extends Se{}var Ds;!function(e){e.BatchesPage=Ns}(Fs||(Fs={}));class Ls extends ee{constructor(){var e,t,s;let{baseURL:n=ge("OPENAI_BASE_URL"),apiKey:r=ge("OPENAI_API_KEY"),organization:i=(null!==(e=ge("OPENAI_ORG_ID"))&&void 0!==e?e:null),project:o=(null!==(t=ge("OPENAI_PROJECT_ID"))&&void 0!==t?t:null),...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===r)throw new y("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const l={apiKey:r,organization:i,project:o,...a,baseURL:n||"https://api.openai.com/v1"};if(!l.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new y("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:l.baseURL,timeout:null!==(s=l.timeout)&&void 0!==s?s:6e5,httpAgent:l.httpAgent,maxRetries:l.maxRetries,fetch:l.fetch}),this.completions=new xe(this),this.chat=new Ce(this),this.embeddings=new Te(this),this.files=new Oe(this),this.images=new Me(this),this.audio=new Ne(this),this.moderations=new De(this),this.models=new Le(this),this.fineTuning=new Ke(this),this.beta=new Bs(this),this.batches=new Fs(this),this._options=l,this.apiKey=r,this.organization=i,this.project=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:"Bearer ".concat(this.apiKey)}}}Ds=Ls,Ls.OpenAI=Ds,Ls.OpenAIError=y,Ls.APIError=b,Ls.APIConnectionError=E,Ls.APIConnectionTimeoutError=P,Ls.APIUserAbortError=A,Ls.NotFoundError=I,Ls.ConflictError=C,Ls.RateLimitError=O,Ls.BadRequestError=S,Ls.AuthenticationError=R,Ls.InternalServerError=k,Ls.PermissionDeniedError=x,Ls.UnprocessableEntityError=T,Ls.toFile=U,Ls.fileFromPath=u;const{OpenAIError:Ws,APIError:qs,APIConnectionError:Us,APIConnectionTimeoutError:Xs,APIUserAbortError:Js,NotFoundError:Hs,ConflictError:Ks,RateLimitError:Vs,BadRequestError:Ys,AuthenticationError:Gs,InternalServerError:zs,PermissionDeniedError:Qs,UnprocessableEntityError:Zs}=n;!function(e){e.Page=Pe,e.CursorPage=Se,e.Completions=xe,e.Chat=Ce,e.Embeddings=Te,e.Files=Oe,e.FileObjectsPage=ke,e.Images=Me,e.Audio=Ne,e.Moderations=De,e.Models=Le,e.ModelsPage=We,e.FineTuning=Ke,e.Beta=Bs,e.Batches=Fs,e.BatchesPage=Ns}(Ls||(Ls={}));new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches"]);const $s=Ls}}]);
//# sourceMappingURL=34260.fd7b532a.chunk.js.map