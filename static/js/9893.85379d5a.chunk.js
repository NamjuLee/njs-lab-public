"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[9893],{19893:function(t,e,i){i.r(e),i.d(e,{Renderer:function(){return d},Solution:function(){return u},getSlider:function(){return p}});var n=i(97326),s=i(60136),a=i(29388),o=i(15671),r=i(43144),c=i(38966),h=i(87968),l=function(){function t(e,i,n,s,a){(0,o.Z)(this,t),this.renderer=void 0,this.x=void 0,this.y=void 0,this.radiusX=50,this.radiusY=50,this.blur=20,this.opacity=.85,this._isHover=!1,this._isCaptured=!1,this.mPre=[0,0],this.rgb=[255,255,255],this.globalCompositeOperation="lighten",this.renderer=e,this.x=i,this.y=n,this.globalCompositeOperation=s,this.rgb=a}return(0,r.Z)(t,[{key:"isHover",value:function(t,e){return(0,h.distanceTo)(this.x,this.y,0,t,e,0)<.5*(this.radiusX+this.radiusY)?this._isHover=!0:this._isHover=!1,this._isHover}},{key:"translation",value:function(t,e){this.x=t,this.y=e}},{key:"render",value:function(t){t.globalCompositeOperation=this.globalCompositeOperation,t.filter="blur(".concat(this.blur,"px)"),t.beginPath(),t.ellipse(this.x,this.y,this.radiusX,this.radiusY,0,0,2*Math.PI),t.fillStyle="rgba(".concat(this.rgb[0],", ").concat(this.rgb[1],", ").concat(this.rgb[2],", ").concat(this.opacity,")"),t.fill(),t.filter="none",t.globalCompositeOperation="source-over",(this._isHover||this._isCaptured)&&(console.log(this._isHover,this._isCaptured),t.beginPath(),t.ellipse(this.x,this.y,this.radiusX,this.radiusY,0,0,2*Math.PI),t.stroke())}}]),t}(),u=function(){function t(e){(0,o.Z)(this,t),this.divHost=void 0,this.renderer=void 0,this.divHost=e,this.divHost.style.display="flex",this.divHost.style.alignItems="center";var i=document.createElement("div");i.style.marginLeft="auto",i.style.marginRight="auto",i.style.backgroundColor="#555",i.style.width="1000px",i.style.height="600px",this.divHost.appendChild(i),this.renderer=new d(i)}return(0,r.Z)(t,[{key:"destroy",value:function(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}]),t}(),d=function(t){(0,s.Z)(i,t);var e=(0,a.Z)(i);function i(t){var s;(0,o.Z)(this,i),(s=e.call(this,t)).img=void 0,s.rotation=0,s.m=[0,0],s.switch=!0,s.capture=void 0,s.tints=[],s.canvas.style.position="relative",s.canvas.style.width="100%",s.canvas.style.height="100%",(0,c.t4)("https://www.glenstone.org/wp-content/uploads/2018/07/AV_Landscape-Hero-Contour-2993-1276x800.jpg").then((function(t){s.img=t}));var a=document.createElement("input");a.value="https://raw.githubusercontent.com/NamjuLee/data/master/img/person/HaminHaram.jpg",a.addEventListener("keydown",(function(t){console.log(t),"Enter"===t.code&&(0,c.t4)(a.value).then((function(t){console.log(t),s.img=t,s.tints=[],s.capture=void 0}))})),s.divHost.appendChild(a);var r=document.createElement("div");r.style.display="flex";var h=document.createElement("div");r.appendChild(h),h.textContent="Lighten  ",h.style.paddingRight="100px",h.style.color="aqua",h.onclick=function(){s.tints.push(new l((0,n.Z)(s),.5*s.divHost.clientWidth,.5*s.divHost.clientHeight,c.vb.COLOR_DODGE,[125,125,125]))};var u=document.createElement("div");r.appendChild(u),u.style.paddingRight="100px",u.textContent="Darken",u.style.color="aqua",u.onclick=function(){s.tints.push(new l((0,n.Z)(s),.5*s.divHost.clientWidth,.5*s.divHost.clientHeight,c.vb.OVERLAY,[0,0,0]))};var d=document.createElement("div");r.appendChild(d),d.textContent="Toggle",d.style.color="aqua",d.onclick=function(){s.switch=!s.switch},s.divHost.appendChild(r);var v=document.createElement("div");v.style.display="flex",s.divHost.appendChild(v);var m=p("R1",20,400);v.appendChild(m.div),m.slider.onchange=function(){s.capture&&(s.capture.radiusX=+m.slider.value)};var g=p("R2",20,400);v.appendChild(g.div),g.slider.onchange=function(){s.capture&&(s.capture.radiusY=+g.slider.value)};var f=p("Feather",4,50);s.divHost.appendChild(f.div),f.slider.onchange=function(){s.capture&&(s.capture.blur=+f.slider.value)};var y=p("Intensity",1,100);s.divHost.appendChild(y.div),y.slider.onchange=function(){s.capture&&(s.capture.opacity=.01*+y.slider.value)};var C=document.createElement("input");C.type="color",C.onchange=function(){if(console.log(C.value),s.capture){var t=(0,c.Oo)(C.value);s.capture.rgb=t,console.log(t)}},s.divHost.appendChild(C);var H=document.createElement("input");return H.onchange=function(){s.capture&&(s.capture.globalCompositeOperation=H.value)},s.divHost.appendChild(H),s.start(),s}return(0,r.Z)(i,[{key:"render",value:function(t){this.ctx.save(),this.ctx.translate(.5*this.canvas.width,.5*this.canvas.height),this.ctx.rotate(this.rotation),this.img&&this.ctx.drawImage(this.img,.5*-this.img.width,.5*-this.img.height),this.ctx.restore(),t.beginPath(),t.arc(this.m[0],this.m[1],5,0,2*Math.PI),t.closePath(),t.fill(),this.switch&&this.tints.forEach((function(e,i){e.render(t)}))}},{key:"mouseDown",value:function(t,e){var i=this;this.m=[t,e],void 0!==this.capture&&(this.capture._isCaptured=!1),this.tints.forEach((function(n,s){n.isHover(t,e)&&(i.capture=n)}))}},{key:"mouseUp",value:function(t,e){}},{key:"mouseDrag",value:function(t,e){this.m=[t,e],this.capture&&this.capture.translation(t,e)}},{key:"mouseClick",value:function(t,e){var i=this;this.m=[t,e],void 0!==this.capture&&(this.capture._isCaptured=!1),this.capture=void 0,this.tints.forEach((function(n,s){n.isHover(t,e)&&(i.capture=n,i.capture._isCaptured=!0)}))}},{key:"mouseMove",value:function(t,e){this.m=[t,e],this.tints.forEach((function(i,n){i.isHover(t,e)}))}},{key:"keyDown",value:function(t){}}]),i}(c.bb),p=function(t,e,i){var n=document.createElement("div");n.style.display="flex";var s=document.createElement("input");s.type="range",s.min="".concat(e),s.max="".concat(i);var a=document.createElement("div");return a.textContent=t,a.style.color="#aaa",n.appendChild(s),n.appendChild(a),{div:n,slider:s}}}}]);
//# sourceMappingURL=9893.85379d5a.chunk.js.map