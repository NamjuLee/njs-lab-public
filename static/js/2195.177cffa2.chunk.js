"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[2195],{72195:function(e,t,s){s.r(t),s.d(t,{Solution:function(){return i}});var o=s(55913);class i extends o.bb{constructor(e){super(e),this.graph=void 0,this.m=new d(0,0,0),this.needPopulate=!1,this.init();const t=document.createElement("button");t.textContent="run",t.style.position="absolute",t.onclick=()=>{this.needPopulate=!this.needPopulate},e.appendChild(t),this.canvas.style.position="absolute"}init(){this.graph=new n,this.mouseClick(100,100),this.start()}populate(){const e=Math.random()*this.canvas.width,t=Math.random()*this.canvas.height;this.mouseClick(e,t)}render(e){this.needPopulate&&this.populate(),this.graph.render(e),e.beginPath(),e.arc(this.m.x,this.m.y,2,0,6.28),e.closePath(),e.fillStyle="#888",e.fill()}mouseClick(e,t){this.graph.addNode(e,t,0)}mouseDown(e,t){const s=this.graph.getNode(e,t);this.graph.captured=s}mouseMove(e,t){this.m.x=e,this.m.y=t}mouseDrag(e,t){this.graph.captured&&(this.graph.captured.vec.x=e,this.graph.captured.vec.y=t)}}class n{constructor(){this.captured=void 0,this.nodes=[]}addNode(e,t,s){const o=new h(e,t,0);this.nodes.push(o),this.computeEdge(o)}getNode(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=Number.MAX_VALUE,i=-1;const n=new d(e,t);for(let h=0;h<this.nodes.length;++h){const e=this.nodes[h].vec,t=r(e,n);o>t&&(o=t,i=h)}if(i>-1&&o<s)return this.nodes[i]}computeEdge(e){let t,s=Number.MAX_VALUE,o=e;for(let i=0;i<this.nodes.length;++i){let e=this.nodes[i];if(o!==e){let i=r(o.vec,e.vec);s>i&&(s=i,t=e)}}if(o&&t){console.log("=====");for(let e=this.nodes.length-1;e>-1;--e){let s=this.nodes[e];if(console.log(e),t!==s)for(let e=0;e<s.nNode.length;++e){if(t===s.nNode[e])continue;const i=a(o,t,s,s.nNode[e]);if(i){console.log(i);const e=new h(i[0],i[1]);o.removeNeighborNode(t),e.addNode(o),t.removeNeighborNode(o),e.addNode(t),this.nodes.push(e)}}}o.addNode(t)}}render(e){this.nodes.forEach((t=>{t.render(e)}))}}class h{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.vec=void 0,this.r=5,this.nNode=[],this.vec=new d(e,t,s)}addNode(e){void 0===this.findNeighborNode(e)&&this.nNode.push(e)}findNeighborNode(e){this.nNode.forEach((t=>{if(t===e)return e}))}render(e){this.nNode.forEach((t=>{e.beginPath(),e.moveTo(this.vec.x,this.vec.y),e.lineTo(t.vec.x,t.vec.y),e.strokeStyle="#0f0",e.stroke()})),e.beginPath(),e.arc(this.vec.x,this.vec.y,this.r,0,6.28),e.closePath(),e.fillStyle="#ff0000",e.fill()}removeNeighborNode(e){const t=this.nNode.indexOf(e);t>-1&&(this.nNode=this.nNode.splice(t,1))}}class d{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=void 0,this.y=void 0,this.z=void 0,this.x=e,this.y=t,this.z=s}}const r=(e,t)=>Math.sqrt(c(e,t)),c=(e,t)=>(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z),a=(e,t,s,o)=>l(e.vec.x,e.vec.y,t.vec.x,t.vec.y,s.vec.x,s.vec.y,o.vec.x,o.vec.y),l=(e,t,s,o,i,n,h,d)=>{if(e===s&&t===o||i===h&&n===d)return;const r=(d-n)*(s-e)-(h-i)*(o-t);if(0===r)return;const c=((h-i)*(t-n)-(d-n)*(e-i))/r,a=((s-e)*(t-n)-(o-t)*(e-i))/r;if(c<0||c>1||a<0||a>1)return;return[e+c*(s-e),t+c*(o-t)]}}}]);
//# sourceMappingURL=2195.177cffa2.chunk.js.map