"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[67001,75975],{97795:(e,i,t)=>{t.r(i),t.d(i,{DefinitionIndeCanvasCore:()=>n});var s=t(12850);class n{constructor(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:650,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:350;this.scene=void 0,this.indeCanvas=void 0,this.mOffX=-12,this.mOffY=-12,this.scene=e,this.scene.definitions.push(this),this.InitIndeCanvas(i,t)}InitIndeCanvas(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:650,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350;this.scene.implementation.app.needUI?this.indeCanvas=new s.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,50,50,e,i,!0):this.indeCanvas=new s.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,1,-25,e,i,!0),this.indeCanvas.title="TF Env",this.indeCanvas.btnHam.isHidden=!0,this.indeCanvas.btnMini.isHidden=!0,this.indeCanvas.RenderIndependentCanvas=e=>this.RenderIndependentCanvas(e)}get width(){return this.indeCanvas.canvas.width}get height(){return this.indeCanvas.canvas.height}Init(e){}RenderIndependentCanvas(e){}MouseMove(e,i){}MouseMovePre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseMove(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDown(e,i){}MouseDownPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDown(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseUp(e,i){}MouseUpPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseUp(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDrag(e,i){}MouseDragPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDrag(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseLeftClick(e,i){}MouseLeftClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseLeftClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseMiddleClick(e,i){}MouseMiddleClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseMiddleClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseRightClick(e,i){}MouseRightClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseRightClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDoubleClick(e,i){}MouseDoubleClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDoubleClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseWheel(e,i,t){}MouseWheelPre(e,i,t){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseWheel(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY,t)}}},67001:(e,i,t)=>{t.r(i),t.d(i,{TFLinearRegressionGradientDescent01:()=>d});var s=t(65812),n=t(97795),a=t(75975),h=t(83797);class d extends n.DefinitionIndeCanvasCore{constructor(e){super(e),this.xpos=100,this.ypos=100,this.xspeed=10,this.yspeed=10,this.xdirection=1,this.ydirection=1,this.rad=50,this.vs=[],this.vsTemp=[],this.tfLinearRegression=void 0,this.t=0,this.indeCanvas.title="TF LinearRegression GradientDescent 01",this.Init()}Init(){this.tfLinearRegression=new o,this.InitData(),this.InitUI()}InitUI(){const e=document.createElement("div");e.style.position="absolute",e.style.left="400px",e.style.color="#ffffff";const i=document.createElement("p");i.textContent="click on this screen to add data",e.append(i);const t=document.getElementById("indePanel");t&&t.append(e)}InitData(){h.fK.getData().then((e=>{let i=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER;e.map((e=>{let a=e.horsepower;a>t&&(t=a),a<i&&(i=a);let h=e.mpg;return h>n&&(n=h),h<s&&(s=h),0}));for(let h of e){let e=h.horsepower,d=h.mpg;this.vsTemp.push(new a.NVector3(a.MathUtility.Remap(e,i,t,.1,.9),a.MathUtility.Remap(d,s,n,.1,.9)))}}))}MouseDown(e,i){this.vs.push(new a.NVector3(this.MapX(e),this.MapY(i)))}MapX(e){return a.MathUtility.Remap(e,0,this.width,0,1)}MapY(e){return a.MathUtility.Remap(e,0,this.height,1,0)}RenderIndependentCanvas(e){if(e.fillStyle="#000000",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),0===(2&this.t)){const e=this.vsTemp.pop();e&&this.vs.push(e)}if(this.vs.length>1){const i=[],t=[];for(let e=0;e<this.vs.length;++e)i.push(this.vs[e].x),t.push(this.vs[e].y);this.tfLinearRegression.train(i,t),this.RenderLine(e)}e.fillStyle="#00ff00";for(let i=0;i<this.vs.length;++i)e.beginPath(),e.arc(a.MathUtility.Remap(this.vs[i].x,0,1,0,this.width),a.MathUtility.Remap(this.vs[i].y,0,1,this.height,0),5,0,2*Math.PI),e.closePath(),e.fill();this.t+=.3}RenderLine(e){const i=[0,1],t=s.tidy((()=>this.tfLinearRegression.predict(s.tensor1d(i))));let n=t.dataSync();t.dispose();let h=n[0],d=n[1];e.lineWidth=3,e.strokeStyle="#00fff0",e.beginPath(),e.moveTo(a.MathUtility.Remap(0,0,1,0,this.width),a.MathUtility.Remap(h,0,1,this.height,0)),e.lineTo(a.MathUtility.Remap(1,0,1,0,this.width),a.MathUtility.Remap(d,0,1,this.height,0)),e.stroke()}}class o{constructor(){this.weight=void 0,this.bias=void 0,this.leraningRate=.5,this.optimizer=void 0,this.weight=s.variable(s.scalar(Math.random())),this.bias=s.variable(s.scalar(Math.random())),this.optimizer=s.train.sgd(this.leraningRate)}predict(e){return e.mul(this.weight).add(this.bias)}loss(e,i){return e.sub(i).square().mean()}train(e,i){s.tidy((()=>{const t=s.tensor1d(e),n=s.tensor1d(i);this.optimizer.minimize((()=>this.loss(this.predict(t),n)))}))}}},75975:(e,i,t)=>{t.r(i),t.d(i,{ACTION_TYPE:()=>s.KW,ACTIVECOMMAND_MODE:()=>s.AG,ActiveCommandBase:()=>s.wm,AppAccessibility:()=>s.Wv,AppProperties:()=>s.gj,ArrayUtility:()=>s.R3,BrowserUtility:()=>s.R7,CLICK_TYPE:()=>s.uh,CLOGTYPE:()=>s.g6,COMPILE_MODE:()=>s.Iq,ColorUtility:()=>s.mK,Deltatime:()=>s.gk,EVENT_LISTENER_TYPE:()=>s.GZ,FHTYPE:()=>s.OH,GTYPE:()=>s.OB,GeometryBase:()=>s.bx,INTERACTION_MODE:()=>s.WU,LINECAP:()=>s.EQ,MathUtility:()=>s.$H,NDataUtility:()=>s.eu,NUI:()=>s.Fc,NVector3:()=>s.h9,NumericalMotion:()=>s.aX,OPTIMIZER:()=>s.sg,PRESS_TYPE:()=>s.dc,TEXTALIGN:()=>s.mH,TEXTBOX:()=>s.SE,TOUCH_TYPE:()=>s.KV,UNIT:()=>s.iI});var s=t(4842)}}]);
//# sourceMappingURL=67001.402f67b9.chunk.js.map