"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[3177],{13177:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var i=s(27366),r=s(92026),a=s(94172),n=(s(32718),s(25243),s(63780),s(10064),s(93169),s(69912)),l=s(18661),u=s(50244);let o=class extends u.default{initialize(){this.handles.add([(0,a.YP)((()=>{var e;return null===(e=this.view)||void 0===e?void 0:e.viewpoint}),(()=>this._update()),a.nn)])}_injectOverrides(e){let t=super._injectOverrides(e);const s=this.view.scale,i=this.layer.sublayers.filter((e=>function(e,t){return!e.visible||0!==e.minScale&&t>e.minScale||0!==e.maxScale&&t<e.maxScale}(e,s))).map((e=>e.subtypeCode));if(!i.length)return t;t=(0,r.pC)(t)?t:(new l.Z).toJSON();const a="NOT ".concat(this.layer.subtypeField," IN (").concat(i.join(","),")");return t.where=t.where?"(".concat(t.where,") AND (").concat(a,")"):a,t}_setLayersForFeature(e){const t=this.layer.fieldsIndex.get(this.layer.subtypeField),s=e.attributes[t.name],i=this.layer.sublayers.find((e=>e.subtypeCode===s));e.layer=i,e.sourceLayer=this.layer}_createSchemaConfig(){const e={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((e=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:e.labelingInfo,labelsVisible:e.labelsVisible,renderer:e.renderer,subtypeCode:e.subtypeCode,orderBy:null})))},t=this.layer.sublayers.map((e=>e.subtypeCode)).join(","),s=this.layer.sublayers.length?"".concat(this.layer.subtypeField," IN (").concat(t,")"):"1=2";let i=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return i+=s,{...super._createSchemaConfig(),...e,definitionExpression:i}}};o=(0,i._)([(0,n.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],o);const y=o}}]);
//# sourceMappingURL=3177.f43be03f.chunk.js.map