"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[39964],{39964:(t,i,s)=>{s.r(i),s.d(i,{Solution:()=>n});var e=s(17760),h=s(55913),o=s(6088);class n extends h.TF{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main"),this.pointLight=void 0,this.raycaster=new e.iMs,this.mouse=new e.FM8,this.m=new e.Pa4,this.sphere=void 0,this.obj=[],this.points=[],this.delaunay=void 0,this.geometry=void 0,this.material=void 0,this.mesh=void 0,this.pointGeometry=void 0,this.pointMaterial=void 0,this.dummy=void 0,this.pointsMesh=void 0;const t=new e.Mig(5592405);this.scene.add(t),this.pointLight=new e.cek(16777215,100),this.pointLight.position.x=10,this.pointLight.castShadow=!0,this.scene.add(this.pointLight);const i=new e.y8_(5);i.position.y=.001,this.scene.add(i),this.scene.add(new e.VLJ(10,10)),this.initPost(),this.start()}initPost(){this.delaunay=o.Z.from([]),this.geometry=new e.u9r,this.material=new e.vBJ({color:16777215,emissive:65280,emissiveIntensity:1,wireframe:!0}),this.mesh=new e.Kj0(this.geometry,this.material),this.pointGeometry=new e.xo$(.05),this.pointMaterial=new e.vBJ({color:16711680}),this.dummy=new e.Tme,this.generatePoints(),this.createPointsMesh(),this.scene.add(this.mesh),this.scene.add(this.pointsMesh);const t=new e.yGw;t.makeRotationX(Math.PI/2),this.pointLight.position.applyMatrix4(t),this.mesh.applyMatrix4(t),this.pointsMesh.applyMatrix4(t)}createPointsMesh(){this.pointsMesh=new e.SPe(this.pointGeometry,this.pointMaterial,this.points.length),this.updatePointsMesh()}updatePointsMesh(){for(let t=0;t<this.points.length;t++)this.dummy.position.copy(this.points[t]),this.dummy.updateMatrix(),this.pointsMesh.setMatrixAt(t,this.dummy.matrix);this.pointsMesh.instanceMatrix.needsUpdate=!0}generatePoints(){for(let t=0;t<50;t++)this.points.push(new e.Pa4(4*Math.random()-2,4*Math.random()-2,1*Math.random()-.5))}updatePoints(){for(let t of this.points)t.x+=.01*(Math.random()-.5),t.y+=.01*(Math.random()-.5),t.z+=.01*(Math.random()-.5)}add(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.scene.add(t),i&&this.obj.push(t)}mouseMove(t){this.picking(t)}picking(t){this.mouse.x=t.offsetX/this.renderer.domElement.clientWidth*2-1,this.mouse.y=-t.offsetY/this.renderer.domElement.clientHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);const i=this.raycaster.intersectObjects(this.obj);if(i.length>0)return this.m.set(i[0].point.x,i[0].point.y,i[0].point.z),i[0].object!==this.sphere&&this.sphere.position.set(i[0].point.x,i[0].point.y,i[0].point.z),i}mouseClick(t){this.picking(t)}update(t){this.updatePoints(),this.updatePointsMesh(),this.delaunay=a(this.points,this.delaunay),r(this.geometry,this.points,this.delaunay)}destroy(){for(;this.hostDiv.lastElementChild;)this.hostDiv.removeChild(this.hostDiv.lastElementChild)}}const a=(t,i)=>{const s=t.map((t=>[t.x,t.y,t.z]));return o.Z.from(s)},r=(t,i,s)=>{const h=[],o=[];for(let e=0;e<i.length;e++)h.push(i[e].x,i[e].y,i[e].z);for(let e=0;e<s.triangles.length;e+=3)o.push(s.triangles[e],s.triangles[e+1],s.triangles[e+2]);s.voronoi([0,0,640,480]);t.setAttribute("position",new e.a$l(h,3)),t.setIndex(o)}}}]);
//# sourceMappingURL=39964.c3aca87d.chunk.js.map