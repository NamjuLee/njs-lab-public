"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[86],{10086:function(t,e,i){i.r(e),i.d(e,{execution:function(){return p}});var r=i(74165),n=i(15861),s=i(15671),a=i(43144),u=i(61250),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,s.Z)(this,t),this.weights=[],this.bias=void 0,this.degree=3,this.leraningRate=.02,this.optimizer=void 0,this.degree=e;for(var i=0;i<5;++i){var r=u.VD$(u.iD$(2*Math.random()-1));this.weights.push(r)}this.bias=u.VD$(u.iD$(2*Math.random()-1)),this.optimizer=u.p_j.adam(this.leraningRate)}return(0,a.Z)(t,[{key:"predict1d",value:function(t){return t.mul(this.weights[0]).add(this.bias)}},{key:"predict2d",value:function(t){return t.square().mul(this.weights[1]).add(t.mul(this.weights[0])).add(this.bias)}},{key:"predict3d",value:function(t){return t.pow(u.iD$(3)).mul(this.weights[2]).add(t.square().mul(this.weights[1])).add(t.mul(this.weights[0])).add(this.bias)}},{key:"predict4d",value:function(t){return t.pow(u.iD$(4)).mul(this.weights[3]).add(t.pow(u.iD$(3)).mul(this.weights[2])).add(t.square().mul(this.weights[1])).add(t.mul(this.weights[0])).add(this.bias)}},{key:"predict5d",value:function(t){return t.pow(u.iD$(5)).mul(this.weights[4]).add(t.pow(u.iD$(4)).mul(this.weights[3])).add(t.pow(u.iD$(3)).mul(this.weights[2])).add(t.square().mul(this.weights[1])).add(t.mul(this.weights[0])).add(this.bias)}},{key:"predictResult",value:function(t){return 5===this.degree?this.predict5d(t):4===this.degree?this.predict4d(t):3===this.degree?this.predict3d(t):2===this.degree?this.predict2d(t):(this.degree,this.predict1d(t))}},{key:"loss",value:function(t,e){return t.sub(e).square().mean()}},{key:"predict",value:function(){var t=(0,n.Z)((0,r.Z)().mark((function t(e){var i,n,s=this;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.lub((function(){return s.predictResult(u.RRF(e))})),n=i.dataSync(),i.dispose(),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"train",value:function(t,e){var i=this;u.lub((function(){var r=u.RRF(t),n=u.RRF(e);i.optimizer.minimize((function(){return i.loss(i.predictResult(r),n)}))}))}}]),t}(),c=function(){function t(){(0,s.Z)(this,t),this.a=1,this.bias=0}return(0,a.Z)(t,[{key:"predict",value:function(t){for(var e=[],i=0;i<t.length;++i)e.push(this.predictByNum(t[i]));return e}},{key:"predictByNum",value:function(t){return this.a*t+this.bias}},{key:"fit",value:function(t,e){for(var i=0,r=0,n=0;n<t.length;++n)i+=t[n],r+=e[n];for(var s=i/t.length,a=r/t.length,u=0,h=0,c=0;c<t.length;++c)u+=(t[c]-s)*(e[c]-a),h+=(t[c]-s)*(t[c]-s);this.a=u/h,this.bias=a-this.a*s}}]),t}(),d=function(){function t(){(0,s.Z)(this,t),this.learningRate=.02,this.error=Number.MAX_SAFE_INTEGER,this.weight=1,this.bias=0}return(0,a.Z)(t,[{key:"predict",value:function(t){for(var e=[],i=0;i<t.length;++i)e.push(this.predictByNum(t[i]));return e}},{key:"predictByNum",value:function(t){return this.weight*t+this.bias}},{key:"train",value:function(t,e){for(var i=0;i<t.length;++i){var r=t[i],n=e[i],s=this.weight*r+this.bias;this.error=n-s,this.weight=this.weight+this.error*r*this.learningRate,this.bias=this.bias+this.error*this.learningRate}}}]),t}(),o=i(37762),l=function(t){var e,i=[],r=f(t),n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var s=e.value;i.push((s-r[0])/(r[1]-r[0]))}}catch(a){n.e(a)}finally{n.f()}return i},f=function(t){var e,i=Number.MAX_VALUE,r=Number.MIN_VALUE,n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var s=e.value;i>s&&(i=s),r<s&&(r=s)}}catch(a){n.e(a)}finally{n.f()}return[i,r]},p=function(){var t=(0,n.Z)((0,r.Z)().mark((function t(e){var i,n,s,a,u,o,f;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=l([1,3,5]),n=l([10,11.5,12]),s=l([1,3,5]),(new c).fit(i,n),a=new d,u=0;case 7:if(!(u<1e4)){t.next=16;break}if(a.train(i,n),u%1e3!==0){t.next=13;break}return t.next=12,a.predict(s);case 12:t.sent;case 13:++u,t.next=7;break;case 16:o=new h(1),f=0;case 18:if(!(f<2e3)){t.next=27;break}if(o.train(i,n),f%400!==0){t.next=24;break}return t.next=23,o.predict(s);case 23:t.sent;case 24:++f,t.next=18;break;case 27:return t.next=29,o.predict(s);case 29:t.sent;case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=86.d096244c.chunk.js.map