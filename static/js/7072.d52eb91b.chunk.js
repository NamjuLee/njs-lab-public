"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[7072],{93388:function(t,e,i){i.r(e),i.d(e,{AppThreeGlobeNetwork:function(){return p}});var s=i(15671),n=i(43144),o=i(17760),h=function(){function t(e){(0,s.Z)(this,t),this.canvas=void 0,this.host=void 0,this.ctx=void 0,this.t=0,this.camera=void 0,this.scene=void 0,this.renderer=void 0,this.radius=5,this.angle=0,this.InitCanvas(e)}return(0,n.Z)(t,[{key:"InitCanvas",value:function(t){var e=document.getElementById(t);e&&(this.host=e),this.scene=new o.xsS,this.scene.background=new o.Ilk(0,0,0),this.scene.castShadow=!0,this.camera=new o.cPb(30,window.innerWidth/window.innerHeight,1,5e3),this.camera.position.set(0,0,this.radius);var i=new o.Mig(13421772,.4);i.castShadow=!0,this.scene.add(i);var s=new o.cek(16777215,.8);s.castShadow=!0,this.scene.add(s),this.renderer=new o.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.host.clientWidth/this.host.clientHeight),this.renderer.domElement.id="Three",this.renderer.setSize(this.host.clientWidth,this.host.clientHeight),this.host.appendChild(this.renderer.domElement),this.Init()}},{key:"Init",value:function(){this.EventBind(),this.Loop()}},{key:"EventBind",value:function(){var t=this;this.renderer.domElement.onmousedown=function(e){return t.MouseDown(e)},this.renderer.domElement.onmouseup=function(e){return t.MouseUp(e)},this.renderer.domElement.onmousemove=function(e){return t.MouseMove(e)}}},{key:"MouseDown",value:function(t){console.log(t)}},{key:"MouseUp",value:function(t){console.log(t)}},{key:"MouseMove",value:function(t){console.log(t)}},{key:"Loop",value:function(){var t=this;requestAnimationFrame((function(){t.Loop()})),this.Render(),this.renderer.render(this.scene,this.camera),this.t+=.01}},{key:"Render",value:function(){}}]),t}(),r=i(74165),a=i(15861),d=i(16795),u=function(){function t(e){(0,s.Z)(this,t),this.shaderVert="\n    attribute float size;\n    attribute vec3 customColor;\n    varying vec3 vColor;\n\n    void main() {\n        vColor = customColor;\n        vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n        gl_PointSize = size * ( 300.0 / -mvPosition.z );\n        gl_Position = projectionMatrix * mvPosition;\n    }\n    ",this.shaderFrag="\n    uniform vec3 color;\n    uniform sampler2D texture;\n    varying vec3 vColor;\n\n\tvoid main() {\n        gl_FragColor = vec4(color * vColor, 1.0);\n        // gl_FragColor = gl_FragColor * texture2D(texture, gl_PointCoord);\n        // if (gl_FragColor.a < ALPHATEST) discard;\n    }\n    ",this.attributePositions=void 0,this.attributeColors=void 0,this.attributeSize=void 0,this.currentHex=void 0,this.globe=void 0,this.particles=void 0,this.nodes=void 0,this.edges=void 0,this.vecs=void 0,this.nVecs=void 0,this.PARTICLE_SIZE=void 0,this.DOT_COLOR=void 0,this.SPEED_ROTATION=void 0,this.t=0,this.I_STEP_ANI=10,this.lineSegments=void 0,this.lineSegGeo=void 0,this.box=void 0,this.mouse=void 0,this.geometry=void 0,this.mesh=void 0,this.material=void 0,this.uuid=void 0,this.isHover=!1,this.isLeave=!1,this.isSelected=!1,this.isDrag=!1,this.isMove=!1,this.hasPopup=!1,this.vec=new d.h9(0,0,0),this.scale=new d.h9(1,1,1),this.tOver=0,this.tDown1=0,this.tDown2=0,this.tUp=0,this.geometryCoreWrapper=void 0,this.geometryCoreWrapper=e,this.vec=new d.h9(0,0,0),this.scale=new d.h9(1,1,1),this.currentHex="0xff0000",this.DOT_COLOR=d.mK.GetRandomHex(),this.PARTICLE_SIZE=.105,this.I_STEP_ANI=2*Math.floor(2*Math.random()),this.SPEED_ROTATION=5e-4+.1*Math.random(),this.mouse=new o.FM8,this.Init()}return(0,n.Z)(t,[{key:"Init",value:function(){this.InitVec();var t=this.InitNode();this.InitBuffer(t[0],t[1],t[2]),this.InitGeometry(),this.InitMaterial(),this.InitMesh(),this.Add()}},{key:"InitVec",value:function(){this.nVecs=d.m3.GetSpherecVecs3dRandomWithThicknessOffset(1500,1,.15),this.vecs=[];for(var t=0;t<this.nVecs.length;++t)this.vecs.push(new o.Pa4(this.nVecs[t].x,this.nVecs[t].y,this.nVecs[t].z))}},{key:"InitNode",value:function(){var t=[],e=[],i=[];this.nodes=[];for(var s=0;s<this.vecs.length;++s){t.push(this.vecs[s].x,this.vecs[s].y,this.vecs[s].z);var n=d.mK.GetRandomColorByLightness(this.DOT_COLOR,.2+.7*Math.random());e.push(n[0]/255,n[1]/255,n[2]/255,n[3]);var o=1e-4*s;i.push(o);var h=new v(this,s,this.vecs[s],n,o);this.nodes.push(h)}return[t,e,i]}},{key:"InitBuffer",value:function(t,e,i){this.attributePositions=new o.TlE(new Float32Array(t),3),this.attributeColors=new o.TlE(new Float32Array(e),4),this.attributeSize=new o.TlE(new Float32Array(i),1)}},{key:"InitGeometry",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e,i,s,n,h,a,d,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.globe=new o.ZAu,this.geometry=new o.u9r,this.geometry.setAttribute("position",this.attributePositions),this.geometry.setAttribute("customColor",this.attributeColors),this.geometry.setAttribute("size",this.attributeSize),"dotTexture.png",e="njslabSandboxStatic/three/img/".concat("dotTexture.png"),(i=new o.jyz({uniforms:{color:{value:new o.Ilk(16777215)},texture:{value:(new o.dpR).load(e)}},vertexShader:this.shaderVert,fragmentShader:this.shaderFrag,alphaTest:.9})).transparent=!0,this.mesh=new o.woe(this.geometry,i),this.geometryCoreWrapper.threeCore.scene.add(this.mesh),this.lineSegGeo=new o.u9r,s=new o.nls({color:16777215,transparent:!0,opacity:.3}),n=[],this.edges=[],h=0,a=[],[],d=0;d<this.nodes.length-1;++d)for(u=d;u<this.nodes.length;++u)this.vecs[d].distanceTo(this.vecs[u])<.15&&(n.push(this.vecs[d],this.vecs[u]),a.push(this.vecs[d].x,this.vecs[d].y,this.vecs[d].z),a.push(this.vecs[u].x,this.vecs[u].y,this.vecs[u].z),this.edges.push(new c(this,h,this.nodes[d],this.nodes[u],.01)),h++);this.lineSegGeo.setAttribute("position",new o.TlE(new Float32Array(a),3)),this.lineSegments=new o.ejS(this.lineSegGeo,s),this.globe.add(this.lineSegments),this.geometryCoreWrapper.threeCore.scene.add(this.lineSegments);case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"InitMaterial",value:function(){this.material=new o.RSm}},{key:"InitMesh",value:function(){}},{key:"Add",value:function(){this.uuid=this.mesh.uuid,this.mesh.geo=this}},{key:"Update",value:function(){this.t+=.1,this.UpdatePost()}},{key:"UpdatePost",value:function(){for(var t=0;t<this.nodes.length;++t)this.nodes[t].Update(this.t);for(var e=0;e<this.edges.length;++e)this.edges[e].Update(this.t);this.attributePositions.needsUpdate=!0,this.attributeSize.needsUpdate=!0,this.globe.setRotationFromAxisAngle(new o.Pa4(0,1,1),1),this.globe.rotation.z+=this.SPEED_ROTATION,this.UpdateDotAnimation()}},{key:"UpdateDotAnimation",value:function(){for(var t=0,e=0;e<this.nodes.length;e+=this.I_STEP_ANI){var i=this.nodes[e].seedRandom-.5,s=this.t*i;t%3===0?this.nodes[e].Translate(.005*Math.sin(s)*i,.005*Math.cos(s)*i,.005*Math.sin(s)*i):t%3===1?this.nodes[e].Translate(.005*Math.sin(s)*i,.005*Math.cos(s)*i,.005*Math.cos(s)*i):this.nodes[e].Translate(.005*Math.cos(s)*i,.005*Math.sin(s)*i,.005*Math.sin(s)*i),t++}}},{key:"Raycast",value:function(t,e){console.log(t,e)}},{key:"MouseDown",value:function(t){}},{key:"MouseMove",value:function(t){}}]),t}();u.geo=void 0;var v=function(){function t(e,i,n,o,h){(0,s.Z)(this,t),this.parent=void 0,this.v=void 0,this.col=void 0,this.theta=void 0,this.phi=void 0,this.size=void 0,this.id=void 0,this.edges=void 0,this.seedRandom=void 0,this.t=void 0,this.tForR=void 0,this.needUpdate=void 0,this.parent=e,this.t=0,this.v=n,this.id=i,this.col=o,this.size=h,this.tForR=0,this.seedRandom=Math.random()}return(0,n.Z)(t,[{key:"Translate",value:function(t,e,i){this.v.setX(this.parent.attributePositions.getX(this.id)),this.v.setY(this.parent.attributePositions.getY(this.id)),this.v.setZ(this.parent.attributePositions.getZ(this.id)),this.parent.attributePositions.setXYZ(this.id,this.v.x+t,this.v.y+e,this.v.z+i)}},{key:"Scale",value:function(t){this.size=this.parent.attributeSize.getX(this.id),this.parent.attributeSize.setX(this.id,this.size+t)}},{key:"ScalebyValue",value:function(t){this.size=this.parent.attributeSize.getX(this.id),this.parent.attributeSize.setX(this.id,t)}},{key:"SetScale",value:function(t){this.parent.attributeSize.setX(this.id,t),this.needUpdate=!0,this.tForR=0,this.t=0}},{key:"Update",value:function(t){this.needUpdate&&(this.t+=.019,this.ScalebyValue(d.aX.easeOutElastic2(this.tForR)*this.seedRandom),this.tForR+=.01,this.t>1&&(this.needUpdate=!1,this.SetScale(.1)))}}]),t}(),c=function(){function t(e,i,n,o,h){(0,s.Z)(this,t),this.parent=void 0,this.n0=void 0,this.n1=void 0,this.size=void 0,this.id=void 0,this.seedRandom=void 0,this.parent=e,this.id=i,this.n0=n,this.n1=o,this.size=h,this.seedRandom=Math.random()}return(0,n.Z)(t,[{key:"Update",value:function(t){}}]),t}(),l=function(){function t(e){(0,s.Z)(this,t),this.threeCore=void 0,this.boxMeshes=[],this.globeNetworkAThree=void 0,this.threeCore=e,this.globeNetworkAThree=new u(this)}return(0,n.Z)(t,[{key:"Render",value:function(){this.globeNetworkAThree.Update()}},{key:"MouseDown",value:function(t){}},{key:"MouseUp",value:function(t){}},{key:"MouseMove",value:function(t){}},{key:"MouseDrag",value:function(t){}}]),t}(),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SandBox";(0,s.Z)(this,t),this.threeCore=void 0,this.core=void 0,this.threeCore=new h(e),this.core=new l(this.threeCore),this.BindEvent(),this.BindRenderer()}return(0,n.Z)(t,[{key:"BindEvent",value:function(){var t=this;this.threeCore.MouseDown=function(e){return t.core.MouseDown(e)},this.threeCore.MouseMove=function(e){return t.core.MouseMove(e)},this.threeCore.MouseUp=function(e){return t.core.MouseUp(e)}}},{key:"BindRenderer",value:function(){var t=this;this.threeCore.Render=function(){return t.core.Render()}}}]),t}()}}]);
//# sourceMappingURL=7072.d52eb91b.chunk.js.map