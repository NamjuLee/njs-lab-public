{"version":3,"file":"static/js/4198.dde41df1.chunk.js","mappings":"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","sources":["njslab/LabStarter/Starter-WebGL/index.ts"],"sourcesContent":["// import positionVert from './shaders/position.vert.wgsl?raw';\r\n// import colorFrag from './shaders/color.frag.wgsl';\r\n\r\nimport * as triangle from './triangle';\r\nimport { mat4 } from 'gl-matrix';\r\n\r\nconst vertexShaderSrc = `#version 300 es\r\n#pragma vscode_glsllint_stage: vert\r\n\r\nuniform mat4 uModel;\r\nuniform mat4 uView;\r\nuniform mat4 uProjection;\r\n\r\nlayout(location=0) in vec4 aPosition;\r\nlayout(location=1) in vec4 aColor;\r\n\r\nout vec4 vColor;\r\n\r\nvoid main()\r\n{\r\n    vColor = aColor;\r\n    gl_Position = uProjection * uView * uModel * aPosition;\r\n}`;\r\n\r\nconst fragmentShaderSrc = `#version 300 es\r\n#pragma vscode_glsllint_stage: frag\r\n\r\nprecision mediump float;\r\n\r\nin vec4 vColor;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main()\r\n{\r\n    fragColor = vColor;\r\n}`;\r\n\r\nexport class Solution {\r\n    divHost: HTMLElement;\r\n    canvas: HTMLCanvasElement;\r\n    ctx: GPUCanvasContext;\r\n    device: GPUDevice;\r\n    format: GPUTextureFormat;\r\n    size: any;\r\n    pipelineObj: any;\r\n    constructor(id: string) {\r\n        this.divHost = document.getElementById(id);\r\n        \r\n    // tslint:disable: no-console\r\n    this.canvas = document.createElement('canvas');\r\n    this.divHost.appendChild(this.canvas);\r\n    this.canvas.width = this.divHost.clientWidth ;\r\n    this.canvas.height = this.divHost.clientHeight;\r\n\r\n\r\n    const gl = this.canvas.getContext('webgl2');\r\n\r\n    const program = gl.createProgram();\r\n\r\n    const vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n    gl.shaderSource(vertexShader, vertexShaderSrc);\r\n    gl.compileShader(vertexShader);\r\n    gl.attachShader(program, vertexShader);\r\n\r\n    const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n    gl.shaderSource(fragmentShader, fragmentShaderSrc);\r\n    gl.compileShader(fragmentShader);\r\n    gl.attachShader(program, fragmentShader);\r\n\r\n    gl.linkProgram(program);\r\n\r\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n        console.log(gl.getShaderInfoLog(vertexShader));\r\n        console.log(gl.getShaderInfoLog(fragmentShader));\r\n    }\r\n\r\n    gl.useProgram(program);\r\n\r\n    gl.enable(gl.DEPTH_TEST);\r\n\r\n    const vertexData = new Float32Array([\r\n        -.5,-.5,-.5,   0,1,1,\r\n        -.5, .5, .5,   0,1,1,\r\n        -.5, .5,-.5,   0,1,1,\r\n        -.5,-.5, .5,   0,1,1,\r\n        -.5, .5, .5,   0,1,1,\r\n        -.5,-.5,-.5,   0,1,1,\r\n\r\n        .5 ,-.5,-.5,   1,0,1,\r\n        .5 , .5,-.5,   1,0,1,\r\n        .5 , .5, .5,   1,0,1,\r\n        .5 , .5, .5,   1,0,1,\r\n        .5 ,-.5, .5,   1,0,1,\r\n        .5 ,-.5,-.5,   1,0,1,\r\n\r\n        -.5,-.5,-.5,   0,1,0,\r\n        .5,-.5,-.5,   0,1,0,\r\n        .5,-.5, .5,   0,1,0,\r\n        .5,-.5, .5,   0,1,0,\r\n        -.5,-.5, .5,   0,1,0,\r\n        -.5,-.5,-.5,   0,1,0,\r\n\r\n        -.5, .5,-.5,   1,1,0,\r\n        .5, .5, .5,   1,1,0,\r\n        .5, .5,-.5,   1,1,0,\r\n        -.5, .5, .5,   1,1,0,\r\n        .5, .5, .5,   1,1,0,\r\n        -.5, .5,-.5,   1,1,0,\r\n\r\n        .5,-.5,-.5,   0,0,1,\r\n        -.5,-.5,-.5,   0,0,1,\r\n        .5, .5,-.5,   0,0,1,\r\n        -.5, .5,-.5,   0,0,1,\r\n        .5, .5,-.5,   0,0,1,\r\n        -.5,-.5,-.5,   0,0,1,\r\n\r\n        -.5,-.5, .5,   1,0,0,\r\n        .5,-.5, .5,   1,0,0,\r\n        .5, .5, .5,   1,0,0,\r\n        .5, .5, .5,   1,0,0,\r\n        -.5, .5, .5,   1,0,0,\r\n        -.5,-.5, .5,   1,0,0,\r\n    ]);\r\n\r\n    const vertexBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, vertexData, gl.STATIC_DRAW);\r\n    gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 24, 0);\r\n    gl.vertexAttribPointer(1, 3, gl.FLOAT, false, 24, 12);\r\n    gl.enableVertexAttribArray(0);\r\n    gl.enableVertexAttribArray(1);\r\n\r\n    const modelLoc = gl.getUniformLocation(program, 'uModel');\r\n    const viewLoc = gl.getUniformLocation(program, 'uView');\r\n    const projectionLoc = gl.getUniformLocation(program, 'uProjection');\r\n\r\n    const model = mat4.create();\r\n    const view = mat4.create();\r\n    const projection = mat4.create();\r\n\r\n    mat4.rotateZ(model, model, 0.0);\r\n    mat4.scale(model, model, [.8, .8, .8]);\r\n    mat4.lookAt(view, [1,1,0], [0,0,0], [0,1,0]);\r\n\r\n    mat4.perspective(projection, Math.PI / 1.5, gl.canvas.width / gl.canvas.height, .1, 10);\r\n    // mat4.ortho(projection, -1,1, -1,1, -1,2);\r\n\r\n    gl.uniformMatrix4fv(viewLoc, false, view);\r\n    gl.uniformMatrix4fv(projectionLoc, false, projection);\r\n\r\n    const draw = () => {\r\n        requestAnimationFrame(draw);\r\n\r\n        mat4.rotate(model, model, 0.01, [0,1,0]);\r\n        gl.uniformMatrix4fv(modelLoc, false, model);\r\n\r\n        gl.drawArrays(gl.TRIANGLES, 0, 36);\r\n    };\r\n    draw();\r\n\r\n   \r\n    }\r\n    destroy() {\r\n        // console.log('destroy!!');\r\n        this.divHost.removeChild(this.canvas);\r\n    }\r\n}"],"names":["Solution","constructor","id","divHost","canvas","ctx","device","format","size","pipelineObj","this","document","getElementById","createElement","appendChild","width","clientWidth","height","clientHeight","gl","getContext","program","createProgram","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","attachShader","fragmentShader","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","console","log","getShaderInfoLog","useProgram","enable","DEPTH_TEST","vertexData","Float32Array","vertexBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","modelLoc","getUniformLocation","viewLoc","projectionLoc","model","mat4","view","projection","Math","PI","uniformMatrix4fv","draw","requestAnimationFrame","drawArrays","TRIANGLES","destroy","removeChild"],"sourceRoot":""}