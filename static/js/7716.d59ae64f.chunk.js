"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[7716],{27716:function(n,e,r){r.r(e),r.d(e,{Solution:function(){return p}});var t=r(29439),a=r(74165),u=r(15861),s=r(15671),i=r(43144),o=r(61250),c=r(30386),p=(r(64355),function(){function n(e){(0,s.Z)(this,n),l()}return(0,i.Z)(n,[{key:"destroy",value:function(){}}]),n}()),l=function(){var n=(0,u.Z)((0,a.Z)().mark((function n(){var e,r,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f();case 2:return e=n.sent,h(e),n.next=6,d(e);case 6:return r=n.sent,t=m(),n.next=10,b(t,r.inputs,r.labels);case 10:v(t,e,r);case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(){var n=(0,u.Z)((0,a.Z)().mark((function n(){var e,r,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://storage.googleapis.com/tfjs-tutorials/carsData.json");case 2:return e=n.sent,n.next=5,e.json();case 5:return r=n.sent,t=r.map((function(n){return{mpg:n.Miles_per_Gallon,horsepower:n.Horsepower}})).filter((function(n){return null!=n.mpg&&null!=n.horsepower})),n.abrupt("return",t);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),h=function(){var n=(0,u.Z)((0,a.Z)().mark((function n(e){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.map((function(n){return{x:n.horsepower,y:n.mpg}})),c.render.scatterplot({name:"Horsepower v MPG"},{values:r},{xLabel:"Horsepower",yLabel:"MPG",height:300});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=o.Pel();return n.add(o.ugM.dense({inputShape:[1],units:1,useBias:!0})),n.add(o.ugM.dense({units:1,useBias:!0})),n},d=function(){var n=(0,u.Z)((0,a.Z)().mark((function n(e){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",o.lub((function(){o.D5U.shuffle(e);var n=e.map((function(n){return n.horsepower})),r=e.map((function(n){return n.mpg})),t=o.odF(n,[n.length,1]),a=o.odF(r,[r.length,1]),u=t.max(),s=t.min(),i=a.max(),c=a.min();return{inputs:t.sub(s).div(u.sub(s)),labels:a.sub(c).div(i.sub(c)),inputMax:u,inputMin:s,labelMax:i,labelMin:c}})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(){var n=(0,u.Z)((0,a.Z)().mark((function n(e,r,t){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.compile({optimizer:o.p_j.adam(),loss:o.MB5.meanSquaredError,metrics:["mse"]}),32,30,n.next=5,e.fit(r,t,{batchSize:32,epochs:30,shuffle:!0,callbacks:c.show.fitCallbacks({name:"Training Performance"},["loss","mse"],{height:200,callbacks:["onEpochEnd"]})});case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}(),v=function(n,e,r){var a=r.inputMax,u=r.inputMin,s=r.labelMin,i=r.labelMax,p=o.lub((function(){var e=o.SX3(0,1,100),r=n.predict(e.reshape([100,1])),t=e.mul(a.sub(u)).add(u),c=r.mul(i.sub(s)).add(s);return[t.dataSync(),c.dataSync()]})),l=(0,t.Z)(p,2),f=l[0],h=l[1],m=Array.from(f).map((function(n,e){return{x:n,y:h[e]}})),d=e.map((function(n){return{x:n.horsepower,y:n.mpg}}));c.render.scatterplot({name:"Model Predictions vs Original Data"},{values:[d,m],series:["original","predicted"]},{xLabel:"Horsepower",yLabel:"MPG",height:300})}}}]);
//# sourceMappingURL=7716.d59ae64f.chunk.js.map