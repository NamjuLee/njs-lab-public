"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[2702],{12702:function(e,t,s){s.r(t),s.d(t,{Solution:function(){return m}});var r=s(29439),o=s(15671),i=s(43144),n=s(60136),a=s(29388),h=s(17760),u=s(26943),c=s(87968),m=function(e){(0,n.Z)(s,e);var t=(0,a.Z)(s);function s(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";(0,o.Z)(this,s),(e=t.call(this,i)).streetOSM=[],e.routesTreated=[],e.routesControl=[],e.zones30=[],e.positions=void 0,e.geometry=void 0,e.raycaster=new h.iMs,e.pointer=new h.FM8,e.mesh=void 0,e.sphere=void 0,e.renderPoints=function(t,s,o){for(var i=new h.u9r,n=new h.UY4({vertexColors:!0,size:.75}),a=[],u=[],m=0;m<s.length;++m)for(var p=s[m],l=0;l<p.length;++l)for(var d=0;d<p[l].length;++d){var v=(0,c.MercatorProjection)(+p[l][d][0],+p[l][d][1]),g=(0,r.Z)(v,2),f=.01*(g[0]+-15478803.88731685),y=.01*(g[1]+-4766681.448690384);a.push(f,0,y),u.push(o[0],o[1],o[2])}i.setAttribute("position",new h.a$l(a,3)),i.setAttribute("color",new h.a$l(u,3)),i.computeBoundingSphere(),e.positions=a,e.geometry=i,e.mesh=new h.woe(i,n),t.add(e.mesh)};var n=new h.cek(16777215,.8);e.camera.add(n),e.scene.add(n),e.raycaster=new h.iMs,e.raycaster.params.Points.threshold=.8,e.raycaster.far=1e3;var a=new h.xo$(.1,32,32),u=new h.vBJ({color:16777215}),m=new h.Kj0(a,u);return e.sphere=m,e.scene.add(m),e.camera.position.set(0,40,48),(0,c.getJSONFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/Paris/street_osm.geojson").then((function(t){for(var s=0;s<t.features.length;++s)e.streetOSM.push(t.features[s].geometry.coordinates);e.renderPoints(e.scene,e.streetOSM,[0,1,1]),e.start()})),e}return(0,i.Z)(s,[{key:"mouseMove",value:function(e){this.pointer.x=e.offsetX/this.hostDiv.clientWidth*2-1,this.pointer.y=-e.offsetY/this.hostDiv.clientHeight*2+1}},{key:"update",value:function(e){this.raycaster.setFromCamera(this.pointer,this.camera);var t=this.raycaster.intersectObjects([this.mesh],!1),s=t.length>0?t[0]:null;null!==s&&this.sphere.position.set(s.point.x,s.point.y,s.point.z);for(var r=this.mesh.geometry.attributes.position.count,o=0;o<r;o++){var i=this.mesh.geometry.attributes.position,n=i.getX(o),a=i.getY(o),u=i.getZ(o);a=(a=Math.sin(9*n*u+5*this.t))<0?0:a;var m=new h.Pa4(n,a,u);this.mesh.geometry.attributes.position.setXYZ(o,m.x,m.y,m.z),null!==s&&(a=(0,c.distanceTo)(n,a,u,s.point.x,s.point.y,s.point.z)/30),this.mesh.geometry.attributes.color.setXYZ(o,a,1-a,0)}this.mesh.geometry.attributes.position.needsUpdate=!0,this.mesh.geometry.attributes.color.needsUpdate=!0,this.mesh.geometry.computeVertexNormals()}}]),s}(u.TF)}}]);
//# sourceMappingURL=2702.74db91f6.chunk.js.map