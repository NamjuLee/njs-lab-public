"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[79507],{79507:(e,i,s)=>{s.r(i),s.d(i,{AlgorithmImplementation:()=>v});var t=s(35412);class n{constructor(e){this.scene=void 0,this.scene=e}MouseEventController(e){e.CLICK_TYPE!==t.uh.LEFT?e.CLICK_TYPE!==t.uh.MIDDLE?e.CLICK_TYPE!==t.uh.DOWN_RIGHT?e.CLICK_TYPE!==t.uh.DOUBLE?e.CLICK_TYPE!==t.uh.MOVE?e.CLICK_TYPE!==t.uh.DRAG?e.CLICK_TYPE!==t.uh.DOWN?e.CLICK_TYPE!==t.uh.WHEEL?e.CLICK_TYPE!==t.uh.UP||this.MouseUpPre(e):this.MouseWheelPre(e):this.MouseDownPre(e):this.MouseDragPre(e):this.MouseMovePre(e):this.MouseDoubleClickPre(e):this.MouseRightClickPre(e):this.MouseMiddleClickPre(e):this.MouseLeftClickPre(e)}MouseDown(e){}MouseDownPre(e){this.scene.MouseDown(e.x,e.y),this.MouseDown(e)}MouseLeftClick(e){}MouseLeftClickPre(e){this.scene.MouseLeftClick(e.x,e.y),this.MouseLeftClick(e)}MouseMiddleClick(e){}MouseMiddleClickPre(e){this.scene.MouseMiddleClick(e.x,e.y),this.MouseMiddleClick(e)}MouseRightClick(e){}MouseRightClickPre(e){this.scene.MouseRightClick(e.x,e.y),this.MouseRightClick(e)}MouseUp(e){}MouseUpPre(e){this.scene.MouseUp(e.x,e.y),this.MouseUp(e)}MouseDoubleClick(e){}MouseDoubleClickPre(e){this.scene.MouseDoubleClick(e.x,e.y),this.MouseDoubleClick(e)}MouseMove(e){}MouseMovePre(e){this.scene.MouseMove(e.x,e.y),this.MouseMove(e)}MouseDrag(e){}MouseDragPre(e){this.scene.MouseDrag(e.x,e.y),this.MouseDrag(e)}MouseWheel(e){}MouseWheelPre(e){this.scene.MouseWheel(e.x,e.y,e.wheel),this.MouseWheel(e)}}class h{constructor(e){this.scene=void 0,this.scene=e}}var o=s(43523);class a{constructor(e){this.scene=void 0,this.indeCanvas=void 0,this.mOffX=-12,this.mOffY=-12,this.scene=e,this.scene.definitions.push(this),this.InitIndeCanvas()}InitIndeCanvas(){this.scene.implementation.app.needUI?this.indeCanvas=new o.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,50,50,650,350,!0):this.indeCanvas=new o.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,1,-25,650,450,!0),this.indeCanvas.title="Title",this.indeCanvas.btnHam.isHidden=!0,this.indeCanvas.btnMini.isHidden=!0,this.indeCanvas.RenderIndependentCanvas=e=>this.RenderIndependentCanvas(e)}Dummy(){}get width(){return this.indeCanvas.canvas.width}get height(){return this.indeCanvas.canvas.height}Init(e){}RenderIndependentCanvas(e){}MouseMove(e,i){}MouseMovePre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseMove(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDown(e,i){}MouseDownPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDown(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseUp(e,i){}MouseUpPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseUp(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDrag(e,i){}MouseDragPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDrag(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseLeftClick(e,i){}MouseLeftClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseLeftClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseMiddleClick(e,i){}MouseMiddleClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseMiddleClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseRightClick(e,i){}MouseRightClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseRightClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDoubleClick(e,i){}MouseDoubleClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDoubleClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseWheel(e,i,s){}MouseWheelPre(e,i,s){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseWheel(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY,s)}}class d extends a{constructor(e){super(e),this.mouse=[0,0],this.pts=void 0,this.r=5,this.t=0,this.indeCanvas.title="Geometry Intersect",this.Init()}Init(){this.mouse=[0,0]}MouseMove(e,i){this.mouse=[e,i]}RenderIndependentCanvas(e){this.t=.01,e.beginPath(),e.arc(this.mouse[0],this.mouse[1],3*Math.sin(this.t)+this.r,0,2*Math.PI),e.stroke()}}class r extends a{constructor(e){super(e),this.mouse=[0,0],this.pts=void 0,this.r=5,this.t=0,this.indeCanvas.title="template",this.Init()}Init(){this.mouse=[0,0]}MouseMove(e,i){this.mouse=[e,i]}RenderIndependentCanvas(e){this.t=.01,e.beginPath(),e.arc(this.mouse[0],this.mouse[1],3*Math.sin(this.t)+this.r,0,2*Math.PI),e.stroke()}}class l extends a{constructor(e){super(e),this.p=[0,0]}Init(){}RenderIndependentCanvas(e){e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseDown(e,i){this.p=[e,i]}}class v{constructor(e){this.implementation=void 0,this.canvas=void 0,this.activeCommandController=void 0,this.geomeetryCommon=void 0,this.definitions=[],this.implementation=e,this.canvas=e.app.model.graphicsCoreWrapper.canvasWrapper.canvas,this.activeCommandController=new n(this),this.geomeetryCommon=new h(this),this.Init(),this.InitDefinition()}Init(){this.definitions=[]}get width(){return this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.canvas.width}get height(){return this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.canvas.height}InitDefinition(){for(let e of this.definitions)e.Init(this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.ctx)}Render(e){}MouseMove(e,i){for(let s of this.definitions)s.MouseMovePre(e,i)}MouseLeftClick(e,i){for(let s of this.definitions)s.MouseLeftClickPre(e,i)}MouseDown(e,i){for(let s of this.definitions)s.MouseDownPre(e,i)}MouseUp(e,i){for(let s of this.definitions)s.MouseUpPre(e,i)}MouseDrag(e,i){for(let s of this.definitions)s.MouseDragPre(e,i)}MouseMiddleClick(e,i){for(let s of this.definitions)s.MouseMiddleClickPre(e,i)}MouseRightClick(e,i){for(let s of this.definitions)s.MouseRightClickPre(e,i)}MouseDoubleClick(e,i){for(let s of this.definitions)s.MouseDoubleClickPre(e,i)}MouseWheel(e,i,s){for(let t of this.definitions)t.MouseWheelPre(e,i,s)}Dispose(){this.definitions=[]}LoadDefinition(e){}InitPost(){this.implementation.AddMenu("AlgorithmEnv","definition","blank",(()=>{this.definitions=[];new l(this).Dummy()})),this.implementation.AddMenu("AlgorithmEnv","definition","Template",(()=>{this.definitions=[];new r(this).Dummy()})),this.implementation.AddMenu("AlgorithmEnv","definition","Geo Inter",(()=>{this.definitions=[];new d(this).Dummy()}))}}},43523:(e,i,s)=>{s.d(i,{D:()=>c});var t=s(11977),n=s(18279),h=s(81114),o=s(4244),a=s(92060),d=s(96349),r=s(60198),l=s(30266),v=s(53583),u=s(56745);class c extends o.J{constructor(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:170,h=arguments.length>5&&void 0!==arguments[5]&&arguments[5];super(e),this.independentPanelWrapper=void 0,this.divInput=void 0,this.btnClose=void 0,this.btnMini=void 0,this.btnHam=void 0,this.btnResize=void 0,this.bodyDiv=void 0,this.subMenu=void 0,this.subs=[],this._content=void 0,this.canvas=void 0,this.ctx=void 0,this.isActive=!0,this.independentPanelWrapper=e,this.title="njslabSandbox V3",this.width=t,this.height=n,0===i&&0===s?(this.vec.x=.5*e.width-.5*this.width,this.vec.y=.5*e.height-.5*this.height):(this.vec.x=i,this.vec.y=s),this.filletR=7,this.InitTop(),h&&(this.bodyDiv=new v.k(this,this.vec.x,this.vec.y+this.HeadHeight,this.width,this.height-this.HeadHeight)),this.InitCanvas(this.bodyDiv.div)}get IsMinimized(){return this.isMinimized}set IsMinimized(e){this.isMinimized=e,this.btnResize.isHidden=e,this.bodyDiv&&this.bodyDiv.Hide(e)}get Width(){return this.width}set Width(e){let i=e-this.width;this.width=e,this.btnHam.vec.x+=i,this.subMenu.vec.x+=i,this.bodyDiv&&(this.bodyDiv.Width=e)}get Height(){return this.height}set Height(e){this.height=e,this.bodyDiv&&(this.bodyDiv.Height=e)}get content(){return this._content}set content(e){this._content=e,this.bodyDiv&&(this.bodyDiv.content=e)}get HasSubMenu(){return this.hasSubMenu}set HasSubMenu(e){this.hasSubMenu=e,this.subMenu.IsHidden=!e}InitTop(){this.btnClose=new a.E(this,this.vec.x,this.vec.y),this.btnMini=new d.$(this,this.vec.x+25,this.vec.y),this.btnHam=new r.g(this,this.vec.x-25+this.width,this.vec.y),this.btnResize=new l.C(this,this.vec.x+this.width-10,this.vec.y+this.height-10,10,10),this.subMenu=new u.q(this),this.subs.push(this.btnClose,this.btnMini,this.btnHam)}Translate(e){if(!this.isMoveable)return;let i=e.x-e.preX,s=e.y-e.preY;this.vec.x+=i,this.vec.y+=s;for(let t=0;t<this.boundarVecs.length;++t)this.boundarVecs[t].x+=i,this.boundarVecs[t].y+=s;for(let t=0;t<this.subs.length;++t)this.subs[t].Translate(e);this.btnResize.vec.x+=i,this.btnResize.vec.y+=s,this.subMenu.Translate(i,s),this.bodyDiv&&this.bodyDiv.Translate(i,s)}Remove(){this.RemovePost();for(let e=0;e<this.subs.length;++e)this.subs[e].Remove();this.bodyDiv&&this.bodyDiv.Remove(),this.btnResize.Remove(),this.independentPanelWrapper.indePanelRender.Remove(this)}RenderPost(e){let i;this.ComputeBoundary(),i=n.mK.HexToCanvasColor(h.X.theme.mainMenuNormal,this.transparent),this.isMinimized||h.X.RoundedRectFillWithColorMainMenu(e,this.title,this.boundarVecs,this.filletR,0,this.isOver,this.isSelected,i),h.X.TopRoundedRectFill(e,this.title,t.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.HeadHeight),this.filletR,0,this.isOver,this.isSelected,this.theme.colSelectedBG,!1),this.RenderHeadTitle(e),this.isMinimized||this.RenderBodyContent(e),this.hasSubMenu&&this.subMenu.RenderPost(e),this.RenderBtnHorizontal(e)}RenderBtnHorizontal(e){}RenderHeadTitle(e){e.save(),e.fillStyle="#ffffff",e.textBaseline="top",e.textAlign="center",e.font="100 12px Arial",e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.fillText(this.title,this.vec.x+.5*this.width,this.vec.y+.5*this.HeadHeight-7),e.restore()}RenderBodyContent(e){}RemovePost(){this.isActive=!1}InitCanvas(e){this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="0",e.appendChild(this.canvas),this.canvas.id="NCanvasRenderer",this.canvas.className="njslab-web-core-canvas-renderer",this.canvas.style.pointerEvents="none",this.ctx=this.canvas.getContext("2d"),this.canvas.width=e.clientWidth,this.canvas.height=e.clientHeight,this.btnResize.ResizePropagation=(e,i)=>{this.canvas.width=e,this.canvas.height=i},this.LoopIndependentCanvas(this.ctx)}LoopIndependentCanvas(e){this.isActive&&(e.clearRect(0,0,this.canvas.width,this.canvas.height),requestAnimationFrame((()=>{this.LoopIndependentCanvas(e)})),this.RenderIndependentCanvas(e))}RenderIndependentCanvas(e){console.log("implementation needed")}ResizeCanvas(e,i){this.canvas.width=e,this.canvas.height=i}}}}]);
//# sourceMappingURL=79507.0318180d.chunk.js.map