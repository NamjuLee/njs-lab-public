"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[6818],{86818:function(e,t,o){o.r(t),o.d(t,{SmartDrawing:function(){return u}});var i=o(74165),r=o(15861),n=o(37762),s=o(29439),a=o(15671),c=o(43144),l=o(88859),u=function(){function e(){var t=this;(0,a.Z)(this,e),this.modelLogisticRegression=void 0,this.modelMultiClassification=void 0,this.isLoaded=!1,d().then((function(e){var o=(0,s.Z)(e,2);t.modelLogisticRegression=o[0],t.modelMultiClassification=o[1],t.isLoaded=!0,console.log(t)})),console.log("executing Smart Drawing example")}return(0,c.Z)(e,[{key:"predictByLogisticRegression",value:function(e){var t=this;if(void 0!==this.modelLogisticRegression)return console.log("=============================="),(0,l.tidy)((function(){var o=(0,l.tensor2d)([e]),i=t.modelLogisticRegression.predict(o).dataSync();return t.PredictionPostProcessingLogisticRegression(i[0])}));console.error("no model loaded")}},{key:"PredictionPostProcessingLogisticRegression",value:function(t){var o=Math.floor(t+.5);return e.CLASS_TYPE[o]}},{key:"predictByMultiClassification",value:function(t){var o=this;if(void 0!==this.modelMultiClassification)return(0,l.tidy)((function(){var i,r=l.tensor2d([t]),s=o.modelMultiClassification.predict(r),a=[],c=Array.from(s.dataSync()),u=f(c),d=(0,n.Z)(u);try{for(d.s();!(i=d.n()).done;){var g=i.value,m=c[g],L="class:"+e.CLASS_TYPE[g]+", probability:"+m.toFixed(5);console.log(L),a.push(L)}}catch(v){d.e(v)}finally{d.f()}var h=s.argMax(-1).dataSync()[0];return[e.CLASS_TYPE[h],a]}));console.error("no model loaded")}}]),e}();u.CLASS_TYPE={0:"CIRCLE",1:"TRI-GON",2:"ARROW_SINGLE",3:"ARROW_DOUBLE",4:"RECTANGLE",5:"TEXT",6:"CURVE",7:"HEART",8:"CLOUD"};var d=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t,o,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://raw.githubusercontent.com/NamjuLee/data/master/smart-drawing/model/modelLogisticRegression0/model.json",e.next=3,(0,l.loadLayersModel)(t);case 3:return o=e.sent,t="https://raw.githubusercontent.com/NamjuLee/data/master/smart-drawing/model/modelMultiClassification0/model.json",e.next=7,(0,l.loadLayersModel)(t);case 7:return r=e.sent,e.abrupt("return",[o,r]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){for(var t=new Array(e.length),o=0;o<e.length;++o)t[o]=o;return t.sort((function(t,o){return e[t]>e[o]?-1:e[t]<e[o]?1:0})),t}}}]);
//# sourceMappingURL=6818.ca599d05.chunk.js.map