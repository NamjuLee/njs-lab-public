"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[13267],{13267:(t,s,e)=>{e.r(s),e.d(s,{AppParticle:()=>a});class i{constructor(t){this.canvas=void 0,this.host=void 0,this.ctx=void 0,this.t=0,this.InitCanvas(t)}InitCanvas(t){const s=document.createElement("canvas"),e=document.getElementById(t);if(e&&(e.appendChild(s),this.host=e),s){this.canvas=s,this.canvas.width=this.host.clientWidth,this.canvas.height=this.host.clientHeight;const t=this.canvas.getContext("2d");t&&(this.ctx=t,this.Init())}}Init(){this.EventBind(),this.Loop()}EventBind(){this.canvas.onmousedown=t=>this.MouseDown(t),this.canvas.onmouseup=t=>this.MouseUp(t),this.canvas.onmousemove=t=>this.MouseMove(t),window.onresize=t=>this.Resize(t)}Resize(t){this.canvas.width=this.host.clientWidth,this.canvas.height=this.host.clientHeight}Loop(){requestAnimationFrame((()=>{this.Loop()})),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.Render(this.ctx)}Render(t){console.log(t)}MouseDown(t){console.log(t)}MouseUp(t){console.log(t)}MouseMove(t){console.log(t)}}var h=e(11977);class n{constructor(t,s){this.v=void 0,this.u=new h.h9(0,0,0),this.f=new h.h9(0,0,0),this.r=10,this.mass=1,this.isHover=!1,this.v=new h.h9(t,s)}Translate(t,s){}IsInside(t){return this.v.Distance(t)<this.r?(this.isHover=!0,!0):(this.isHover=!1,!1)}Update(t,s){this.u.Mult(s),this.f.Mult(t/this.mass),this.u.Add(this.f),this.u.Mult(t),console.log(this.u),this.v.Add(this.u)}Render(t){this.isHover?t.fillStyle="#ff0000":t.fillStyle="#000000",t.beginPath(),t.arc(this.v.x,this.v.y,this.r,0,2*Math.PI),t.closePath(),t.fill()}RenderVec(t){}}class o{constructor(){this.nodes=[],this.capture=void 0,this.m=new h.h9(0,0),this.Init()}Init(){this.nodes.push(new n(100,100))}Update(){let t=new h.h9(this.m.x,this.m.y);for(let s=0;s<this.nodes.length;++s){const e=h.h9.Sub(t,this.nodes[s].v),i=e.Length();e.Unitize(),this.nodes[s].f=e.Mult(10*Math.exp(-1e-6*i*i)),this.nodes[s].Update(.75,.2)}}Render(t){this.Update();for(let s=0;s<this.nodes.length;++s)this.nodes[s].Render(t)}MouseDown(t){console.log(t),this.m.x=t.clientX,this.m.y=t.clientY;for(let s=0;s<this.nodes.length;++s)if(this.nodes[s].IsInside(this.m))return void(this.capture=this.nodes[s]);this.capture=void 0}MouseUp(t){this.capture&&(this.capture=void 0)}MouseMove(t){this.m.x=t.clientX,this.m.y=t.clientY,this.capture&&this.MouseDrag(t);for(let s=0;s<this.nodes.length;++s)this.nodes[s].IsInside(this.m)&&console.log("ddd")}MouseDrag(t){this.capture&&this.capture.Translate(t.clientX,t.clientY)}}class a{static Init(){new a(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SandBox")}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SandBox";this.canvasCore=void 0,this.particleWrapperPan=void 0,this.particleWrapperPan=new o,this.canvasCore=new i(t),this.BindEvent(),this.BindRenderer()}BindEvent(){this.canvasCore.MouseDown=t=>this.particleWrapperPan.MouseDown(t),this.canvasCore.MouseMove=t=>this.particleWrapperPan.MouseMove(t),this.canvasCore.MouseUp=t=>this.particleWrapperPan.MouseUp(t)}BindRenderer(){this.canvasCore.Render=t=>this.particleWrapperPan.Render(t)}}}}]);
//# sourceMappingURL=13267.1f889cc9.chunk.js.map