"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[5780],{15780:function(t,i,s){s.r(i),s.d(i,{Renderer:function(){return g},Solution:function(){return l}});var h=s(60136),e=s(29388),o=s(15671),r=s(43144),n=s(48506),a=s(38966),l=function(){function t(i){(0,o.Z)(this,t),this.divHost=void 0,this.renderer=void 0,this.divHost=i,this.divHost.style.display="flex",this.divHost.style.alignItems="center";var s=document.createElement("div");s.style.marginLeft="auto",s.style.marginRight="auto",s.style.backgroundColor="#555",s.style.width="1000px",s.style.height="600px",this.divHost.appendChild(s),n.x.demo&&(this.renderer=new g(s))}return(0,r.Z)(t,[{key:"destroy",value:function(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}]),t}(),d=function(t,i,s,h){t.fillStyle=s,t.beginPath(),t.rect(i.x*h,i.y*h,h-1,h-1),t.closePath(),t.fill()},g=function(t){(0,h.Z)(s,t);var i=(0,e.Z)(s);function s(t){var h;return(0,o.Z)(this,s),(h=i.call(this,t)).w=0,h.h=0,h.cols=0,h.rows=0,h.cellSize=20,h.gridWidth=0,h.gridHeight=0,h.chanceOfWalls=.35,h.graph=void 0,h.canvas.style.position="relative",h.canvas.style.width="100%",h.canvas.style.height="100%",h.Build(),h.start(),h}return(0,r.Z)(s,[{key:"render",value:function(t){this.graph.propagation();this.graph.doneComputation&&this.Build();for(var i=0;i<this.cols;i++)for(var s=0;s<this.rows;s++){var h=this.graph.grid[i][s],e="rgb(190, 190, 190)";h.wall&&(e="rgba(0, 0, 0, 0.9)"),h===this.graph.endNode&&(e="rgba(255, 0, 255, 0.9)"),d(t,h,e,this.cellSize)}for(var o=0;o<this.graph.openNodes.length;o++){var r=this.graph.openNodes[o];d(t,r,"rgb(0, 0, 255)",this.cellSize)}for(var n=0;n<this.graph.closedNodes.length;n++){var a=this.graph.closedNodes[n];d(t,a,"rgb(255, 0, 0)",this.cellSize)}for(var l=0;l<this.graph.path.length;l++){var g=this.graph.path[l];d(t,g,"rgb(0, 255, 0)",this.cellSize)}for(var p=0;p<this.cols;p++)for(var c=0;c<this.rows;c++)for(var u=this.graph.grid[p][c],v=0;v<u.neighbors.length;++v)t.strokeStyle="#fff",t.lineWidth=.58,t.beginPath(),t.moveTo(this.cellSize*u.x+.5*this.cellSize,this.cellSize*u.y+.5*this.cellSize),t.lineTo(this.cellSize*u.neighbors[v].x+.5*this.cellSize,this.cellSize*u.neighbors[v].y+.5*this.cellSize),t.stroke()}},{key:"Build",value:function(){this.w=this.canvas.width,this.h=this.canvas.height,this.cols=Math.floor(this.w/this.cellSize),this.rows=Math.floor(this.h/this.cellSize),this.gridWidth=this.w,this.gridHeight=this.h,this.graph=new p;for(var t=0;t<this.cols;t++)for(var i=0;i<this.rows;i++){void 0==this.graph.grid[t]&&(this.graph.grid[t]=[]);var s=new c(t,i);Math.random()<this.chanceOfWalls&&(s.wall=!0),this.graph.grid[t][i]=s}for(var h=0;h<this.cols;h++)for(var e=0;e<this.rows;e++)this.graph.buildConnection(this.graph.grid[h][e],this.cols,this.rows);this.graph.startNode=this.getRandomCell(),this.graph.startNode.wall=!1,this.graph.endNode=this.getRandomCell(),this.graph.endNode.wall=!1,this.graph.openNodes.push(this.graph.startNode)}},{key:"getRandomCell",value:function(){return this.graph.grid[Math.floor(Math.random()*this.cols)][Math.floor(Math.random()*this.rows)]}}]),s}(a.bb),p=function(){function t(){var i=this;(0,o.Z)(this,t),this.grid=[],this.openNodes=[],this.closedNodes=[],this.startNode=void 0,this.endNode=void 0,this.path=[],this.doneComputation=!1,this.buildConnection=function(t,s,h){var e=t.x,o=t.y;e<s-1&&t.neighbors.push(i.grid[e+1][o]),o<h-1&&t.neighbors.push(i.grid[e][o+1]),e>0&&t.neighbors.push(i.grid[e-1][o]),o>0&&t.neighbors.push(i.grid[e][o-1])}}return(0,r.Z)(t,[{key:"propagation",value:function(){if(!(this.openNodes.length>0))return this.doneComputation=!0,this.path;for(var t=0,i=0;i<this.openNodes.length;i++)this.openNodes[i].f<this.openNodes[t].f&&(t=i),this.openNodes[i].f==this.openNodes[t].f&&this.openNodes[i].g>this.openNodes[t].g&&(t=i);var s=this.openNodes[t];if(s===this.endNode)return this.doneComputation=!0,this.path;this.path=[];for(var h=s;h.previous;)this.path.push(h.previous),h=h.previous;this.openNodes.splice(this.openNodes.indexOf(s),1),this.closedNodes.push(s);for(var e=s.neighbors,o=0;o<e.length;o++){var r=e[o];if(!this.closedNodes.includes(r)&&!r.wall){var n=s.g+.01*u(r,s);if(this.openNodes.includes(r))continue;this.openNodes.push(r),r.g=n,r.h=u(r,this.endNode),r.f=r.g+r.h,r.previous=s}}}}]),t}(),c=(0,r.Z)((function t(i,s){(0,o.Z)(this,t),this.f=0,this.h=0,this.g=0,this.x=0,this.y=0,this.z=0,this.neighbors=[],this.previous=void 0,this.wall=!1,this.f=0,this.h=0,this.g=0,this.x=i,this.y=s,this.neighbors=[],this.wall=!1})),u=function(t,i){return v(t.x,t.y,t.z,i.x,i.y,i.z)},v=function(t,i,s,h,e,o){return Math.sqrt((t-h)*(t-h)+(i-e)*(i-e)+(s-o)*(s-o))}}}]);
//# sourceMappingURL=5780.a60e3b97.chunk.js.map